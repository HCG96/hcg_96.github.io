<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta http-equiv="x-dns-prefetch-control" content="off"> 
    <!-- base href="http://localhost:62956/xQHs9GYV8b7V5sIJQG492r0SYng0lm4G/" -->

    <title> 佛跳墙</title>
    
    <link type="text/css" href="index_files/bootstrap.css" rel="stylesheet">

    
    <link href="index_files/metisMenu.css" rel="stylesheet">

    
    <link href="index_files/sb-admin-2.css" rel="stylesheet">
    
    <link href="index_files/flag-icon.css" rel="stylesheet">

    
    <link href="index_files/font-awesome.css" rel="stylesheet" type="text/css">
    <link href="index_files/loaders.css" rel="stylesheet" type="text/css">
    <link href="index_files/style.css" rel="stylesheet" type="text/css">
    <link href="index_files/fission.css" rel="stylesheet" type="text/css">

    <link href="index_files/speedometer.css" rel="stylesheet" type="text/css">

    <script src="index_files/getBrowserInfo.js"></script>

    
    <link href="index_files/css2_003.css" rel="stylesheet">
    <link href="index_files/css2.css" rel="stylesheet">
    <link href="index_files/css2_002.css" rel="stylesheet">


    <link rel="stylesheet" type="text/css" href="index_files/fission.txt">

    
    
    
    
    
    
    
    

    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    

</head>

<body>
<div id="network-error" class="center-cls" style="color: red; display: none">您当前网络发生问题，请检测网络环境... </div>
<div id="updating-server" class="center-cls" style="color: red; display: none">当前服务器正在更新，请等待更新完成后再重试</div>
<div id="disaster-info" class="center-cls" style="color: red;display: none">系统维护中！ 很抱歉，目前系统正在更新维护中，若造成您不便，敬请见谅！ 若有任何疑问欢迎联络客服。<a target="_blank" href="https://github.com/getfotiaoqiang/download/"> 下载最新版本 </a></div>


<div id="wrapper">

    
    <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
        <ul class="nav navbar-top-links navbar-right">
            <li>
                <a href="javascript:void(0)" id="download-nav" onclick="getMobileApp_fd();">&nbsp;<i class="ff-icon icon-mobile-gif u-recovery"></i>客户端下载</a>
            </li>
            <li>
                <a href="javascript:void(0)" id="account" onclick="accountBox()">
                    <div id="id-accountbox-desc">游客，您好</div><i class="ff-icon icon-arrow u-recovery"></i>
                    
                </a>
            </li>
            
        </ul>

        <div class="base-account" id="id-base-account">
            <div class="account-info">
                <div class="account-type"><i class="ff-icon icon-major"></i>
                    <span class="account_type">免费版</span></div>

                <div class="userprofile-bind-tip" id="id-user-profile-tips" style="display: none">
                    <div class="tip-title">
                        <i style="margin-top: 4px;height: 30px" class="ff-icon icon-alert-black"></i> 系统将逐步取消手机号登录验证，<br>请尽快换绑您的邮箱地址，<br>以免账户丢失。
                        <div style="margin-top: -48px" class="tip-button" onclick="popupSwapBindMailAcc()">换绑邮箱</div>
                    </div>

                </div>

                <div class="email">
                    <div class="account-title" id="id-account-title" style="display: none;">账号</div>
                    <div class="col-sm-6"><div class="account-text" id="id-account-text"></div></div>
                    <div class="col-sm-6"><div class="switchaccount" id="id-switchaccount-small" style="display: none;width: 55%;font-size: 12px;height: 23px;margin-top: -4px;">
                            <span id="id-span-switchaccount-small" style="width: 100%;line-height: 23px;" onclick="switchbtn_beforeoption()">登录账号</span>
                        </div>
                    </div>
                </div>

                <div class="email">
                    <div class="date" id="user-date" style="display: none;">
                        <div class="account-title ">
                        <span class="account_date">专业版结束日期</span>
                        </div>
                        <div class="account-text end_date">您未购买专业版</div>
                    </div>
                </div>


                <div class="email">
                    <div class="date-e" id="user-date-e-name">
                        <div class="account-title">
                        <span class="account_date_e" id="account_date_e_name">
                            
                        </span>
                        </div>
                        <div class="account-text-e end_date_e" id="end_date_e_name"></div>
                    </div>
                </div>

                <div class="email">
                    <div class="date-e" id="user-date-e" style="display: none;">
                        <div class="account-title">
                        <span class="account_date_e" id="account_date_e_date">
                            
                        </span>
                        </div>
                        <div class="account-text-e end_date_e" id="end_date_e_date"></div>
                    </div>
                </div>

                <div class="equipment-list" id="id-equipment-list" style="display:none;">
                    <div class="equipment-title" style="display: none">
                        <i class="ff-icon icon-equipment"></i>绑定手机/邮箱后可同时在 <span id="id-device-limit"></span> 个设备上使用<br>已登录设备如下：
                    </div>
                <div class="equipment-item equip0"><span>HCG (当前设备)</span></div></div>

            </div>

            <div class="bindaccount" id="id-bindaccount" style="display: block;"><span class="bind-account-btn" onclick="show_bind_view()">注册账号</span></div>
            <div class="switchaccount" id="id-switchaccount" style="display: block;margin-top: 19px;"><span id="id-span-switchaccount" class="switch-btn" onclick="switchbtn()">登录账号</span></div>
            <div class="userprofile-bind-btn-upgrade update_pro_text_cls" id="id-user-profile-pricing2" style="display: none" onclick="RedirectPricing2()">升级至专业版</div>












            

            
            
        </div>
        

        

    <div class="navbar-default sidebar" style="" role="navigation">
        <div class="big-icon">
            <i class="icon-liangzi ff-icon"></i>
            佛跳墙
        </div>
        <div class="sidebar-nav navbar-collapse">
            <ul class="nav in" id="side-menu">
                <li id="id-sidebar-bindref" style="display: none">
                    <h4 class="get-rewards" id="bind-refCode" onclick="show_pop_up_key_in_refcode()">  <img src="index_files/ico_present_gold.png"> 绑定兑换码  </h4>
                    
                </li>
                <li>
                    <a href="http://localhost:62956/xQHs9GYV8b7V5sIJQG492r0SYng0lm4G/connect" id="connect" class="active"><i class="ff-icon icon-home"></i>首页</a>
                </li>

                <li>
                    <a href="http://localhost:62956/xQHs9GYV8b7V5sIJQG492r0SYng0lm4G/pricing" id="pricing" style="display: none"><i class="ff-icon icon-home"></i>超级套餐</a>
                </li>

                <li>
                    <span id="update_pro" style="display: block;"><i class="ff-icon icon-upgrade"></i><span id="update_pro_text" class="update_pro_text_cls">升级至专业版</span></span>
                </li>

                <li id="free_pro_event" style="display:none;">
                    <span onclick="show_membership_activity_view();"><i class="ff-icon icon-member-activity"></i>免费领专业版 <img src="index_files/quick_yellow.png" style="width: 20px;"></span>
                </li>

                <li id="id-invite_fd" style="display: none">
                    <span id="invite_fd" onclick="invite_fd();"><i class="ff-icon icon-profile"></i>
                        <span id="invite_fd_text">邀请好友</span>
                    </span>
                </li>

                <li id="id-bind-account-btn" style="display: none">
                    <span class="bind-account-btn" onclick="show_bind_view()"><i class="ff-icon icon-bind"></i>绑定邮箱</span>
                </li>

                <li id="id-personal-profile" style="display: none">
                    <span onclick="accountBox()"><i class="ff-icon icon-person"></i>个人中心</span>
                </li>

                <li>
                    <span id="notice-sidebar" onclick="show_notice();"><i class="ff-icon icon-notice"></i>公告</span>
                </li>

                <li>
                    <span id="new-tutorial" onclick="tutorialhandler(1);"><i class="ff-icon icon-tutorial"></i>新手指引</span>
                </li>

                <li id="id-resetpasswd" style="display: none">
                    <span id="resetpasswd" onclick="resetpasswd();"><i class="ff-icon icon-resetpasswd"></i>修改密码</span>
                </li>

                <li id="id-common-problem" style="display: block;">
                    <a id="id-common-problem-url" href="https://d1dpv6506riiu5.cloudfront.net/wizard/faq_all.html" target="_blank"><i class="ff-icon icon-aq"></i>常见问题</a>
                </li>

                <li>
                    <span id="download-sidebar" onclick="getMobileApp_fd();"><i class="ff-icon icon-white-client"></i>客户端下载</span>
                </li>





                <li>
                    <span id="check_update" onclick="check_update();"><i class="ff-icon icon-update-new"></i>检查更新</span>
                </li>

                <li>
                    <span id="report_problem" onclick="show_report_problem_view()"><i class="ff-icon icon-problem-white-feedback"></i>问题反馈</span>
                </li>

                <li>
                    <a href="http://localhost:62956/xQHs9GYV8b7V5sIJQG492r0SYng0lm4G/settings"><i class="ff-icon icon-setting"></i>设置</a>
                </li>

            </ul>
        </div>
    </div>

    <div id="page-wrapper-static" class="connect-panel" style="display: none; margin-top: 68px; margin-left: 233px;">

        <div class="free-version" style="display: block">
            <div class="buyAction banner-container">
                <img style="height: 100%" src="index_files/banner_welcome.jpg" class="update_btn" alt="">
            </div>
            <div class="free-version-tips3"></div>
        </div>

        <div id="gka-1" class="map-bg">
            <div>
                <div id="gkaCenter-1" class="connect-noconnect" onclick="toggle_connect()">
                    <div class="connect-tips-1">已连接</div>
                    <div class="connect-time center-cls" style="">01:09:13</div>
                    <div class="connect-tips-2 center-cls" style="">点击断开</div>
                </div>
                <div class="center-cls connect-privacy"></div>
            </div>
        </div>

        <div class="connect-box" style="height: 126px">
            <div class="connect-title connect_info">  
                <div>连接状态</div>
                <div></div>
                
                <div>当前线路</div>
            </div>
            <div class="connect-row connect_info ">
                <div class="status-points success">
                    <i></i>
                    <p class="status-text">已连接</p>

                </div>
                <div></div>
                
                <div class="location">
                    <span style="display: none" class="flag-icon flag-icon-"></span>
                    <span></span>
                    
                </div>
            </div>
            <div class="connect-action">
                <div class="col-sm-6" style="display: none">
                    <button onclick="openSpeedTestModal()" class="btn btn-blue"><img src="index_files/icon_speedometer.png" class="styled-icon">自动检测最佳线路</button>
                </div>

                <div class="col-sm-12">
                    <button onclick="switchServer()" class="btn btn-blue"><img src="index_files/switch.png">手动切换线路</button>
                </div>

            </div>
        </div>

        <div class="social-box">
            <div class="social-main-title">  
                <div>上网快捷键</div>
            </div>
            <div class="social-row social_info ">
                <a href="https://www.google.com/" target="_blank"><div><img src="index_files/icon_google.png"></div></a>
                <a href="https://www.wikipedia.org/" target="_blank"><div><img src="index_files/icon_wiki.png"></div></a>
                <a href="https://www.twitter.com/" target="_blank"><div><img src="index_files/icon_twitter.png"></div></a>
                <a href="https://www.youtube.com/" target="_blank"><div><img src="index_files/icon_youtube.png"></div></a>
                <a href="https://www.facebook.com/" target="_blank"><div><img src="index_files/icon_facebook.png"></div></a>
                <a style="cursor: pointer" onclick="toggleAlertBoxAppShortcutPrompt($('#renew-pane-appshortcut'))"><div><img src="index_files/icon_more_shortcut.png"></div></a>
            </div>
            <div class="social-row social_info ">
                <a href="https://www.google.com/" target="_blank"><div>谷歌</div></a>
                <a href="https://www.wikipedia.org/" target="_blank"><div>维基百科</div></a>
                <a href="https://www.twitter.com/" target="_blank"><div>推特</div></a>
                <a href="https://www.youtube.com/" target="_blank"><div>油管</div></a>
                <a href="https://www.facebook.com/" target="_blank"><div>脸书</div></a>
                <a style="cursor: pointer" onclick="toggleAlertBoxAppShortcutPrompt($('#renew-pane-appshortcut'))"><div>更多</div></a>
            </div>
        </div>
    </div>

    <div class="msg-wrap" id="six-wrap">
        <div class="mask" id="closeMsgSix" onclick="closeMsgSix();" style="background: none">
            
            <div class="mask" id="id-switchbind-tip001">
                <div class="modal-box" style="display: block;margin: auto;margin-top: 13%;">
                    <div class="close-box-btn" onclick="close_box_btn_six()" id="close_btn_six"></div>
                    <div class="center-cls">
                        <img src="index_files/icon_bind_tips.png">
                    </div>
                    <h4 style="text-align: center;font-weight: bold">换绑提示</h4>
                    <div class="anti-lost-box-title">系统即将取消手机登入验证，而您目前绑定账号类型是手机号，请您尽快换绑邮箱以避免无法登入。感谢您的配合！</div>
                    <div class="center-cls">
                        <a style="border-radius: 6px" class="green-btn padding-lr-40 a2btn" onclick="popupSwapBindMailAcc()">换绑邮箱</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="msg-wrap" id="seven-wrap">
        <div class="mask" id="closeMsgSeven" onclick="closeMsgSeven(false);" style="background: none">
            
            <div class="mask" id="paid_notification">
                <div class="modal-box" style="display: block;margin: auto;margin-top: 13%;">
                    <div style="display: none" class="close-box-btn close-downcount" onclick="close_box_btn_seven($(this))" id="close_btn_seven"></div>
                    <div class="center-cls">
                        <div class="paid-pic"></div>
                    </div>
                    <div class="paid_return_box">
                        <p class="paid_return_title" style="color: #F39908">恭喜您已成为专业版用户!</p>
                        <p class="paid_return_tip"><span class="theme-color">尊敬的专业版用户：</span><br>您还未绑定账号，请立即绑定您的邮箱，避免因刷机或恢复出厂设置等原因造成账号丢失而影响您的正常使用</p>

                        <div class="paid_text" style="display: none">
                            <div class="paid_text_title theme-color">绑定流程：</div>
                            <div>1、点击右上角，打开“个人中心”</div>
                            <div>2、点击“注冊账号”</div>
                            <div>3、填写后点击“确定”即可绑定成功</div>
                        </div>
                        <div class="center-cls" style="margin-top: 31px;">
                            
                            <button class="bind_account_now green-btn" onclick="close_box_btn($(this));show_bind_view_mask();">立即绑定</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="msg-wrap" id="first-wrap">
        <div class="mask" id="closeMsg" onclick="closeMsg();">
            
            <div class="upgrade-pro" id="update" style="height: 75%;overflow-y: overlay;display: none">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>
                
                <div class="pro-box">
                    <div class="pro-title update_pro_text_cls" id="upgrade-pro-title">升级至专业版</div>
                    <div>
                        <div class="free-box-upgrade">
                            <div class="free-title-upgrade center-cls">免费版</div>
                            <table>
                                <tbody><tr>
                                    <td>网速</td>
                                    <td>819 KbpsKB/S</td>
                                </tr>
                                <tr>
                                    <td>线路</td>
                                    <td>随机</td>
                                </tr>
                                <tr>
                                    <td>稳定性</td>
                                    <td>不保障</td>
                                </tr>
                                <tr>
                                    
                                </tr>
                                <tr>
                                    <td>安全私密性</td>
                                    <td>不保障</td>
                                </tr>
                                <tr>
                                    <td>广告</td>
                                    <td>有</td>
                                </tr>
                                <tr>
                                    <td>服务</td>
                                    <td>无</td>
                                </tr>
                                <tr>
                                    <td>特权</td>
                                    <td>无</td>
                                </tr>
                            </tbody></table>
                        </div>

                        <div class="pro-box-upgrade">
                            <div class="pro-title-upgrade center-cls">专业版</div>
                            <table>
                                <tbody><tr>
                                    <td>网速</td>
                                    <td>245 Mbps</td>
                                </tr>
                                <tr>
                                    <td>线路</td>
                                    <td>VIP专属线路</td>
                                </tr>
                                <tr>
                                    <td>稳定性</td>
                                    <td>100%稳定</td>
                                </tr>
                                <tr>
                                    
                                </tr>
                                <tr>
                                    <td>安全私密性</td>
                                    <td>100%安全</td>
                                </tr>
                                <tr>
                                    <td>广告</td>
                                    <td>无</td>
                                </tr>
                                <tr>
                                    <td>服务</td>
                                    <td>VIP专属客服</td>
                                </tr>
                                <tr>
                                    <td>特权</td>
                                    <td>续费折上折</td>
                                </tr>
                            </tbody></table>
                        </div>
                        <div class="upgrade-arrow"></div>
                    </div>
                    <div class="text_reason_strip">
                        
                    </div>

                    <div style=" height: 50px;   width: 100%;    float: left; display: none">
                        <div class="form-inline" style="justify-content: center;align-items: center;">
                            <div class="form-group">

                                <label for="invi-sample" class="text-primary" style="margin-right:20px;">优惠码</label>
                                <input type="text" id="id-promocode" class="form-control" placeholder="12345657" style="width: 160px;border-radius: 20px 0px  0px 20px;">
                            </div>
                            <button class="btn btn-primary " onclick="getPlans()" style="  background: #1E7DEB !important;  border-radius: 0px  20px  20px 0px;
                        box-shadow: 0px 0px 0px #fff;">使用</button>
                        </div>
                    </div>

                    <div class="select-item">
                    </div>
                </div>
            </div>

            
            <div class="login-box" id="login">
                <div style="margin-left: 268px;margin-top: -25px;position: inherit;" class="close-box-btn" onclick="close_box_btn()"></div>
                <div id="id-login-box" style="font-weight: bold;font-size: 19px;padding-bottom: 13px;margin-top: -30px">登录账号</div>
                <div class="login-box-tab">
                    <ul class="tabs">
                        <li><a class="active" id="login_mail_btn" onclick="login_mail_btn()">邮箱登录</a></li>
                        <li><a id="login_phone_btn" onclick="login_phone_btn()">手机登录</a></li>
                    </ul>
                </div>

                <div id="login-phone-div" style="display: none">
                    <form method="post" class="form signin-form" id="signin-form-phone">
                        <div class="u-pr">
                            <i style="margin-left: 2px" class="ff-icon-us-profile icon-usp-phonecode"></i>
                            
                            <select disabled="disabled" style="text-indent: 34px;" id="c3"><option value="86" selected="selected"> 中国+86 </option><option value="93" disabled="disabled"> 阿富汗+93 </option><option value="1890" disabled="disabled"> 多米尼加共和国+1890 </option><option value="1345" disabled="disabled"> 开曼群岛+1345 </option><option value="1246" disabled="disabled"> 巴巴多斯+1246 </option><option value="247" disabled="disabled"> 阿森松+247 </option><option value="374" disabled="disabled"> 亚美尼亚+374 </option><option value="1264" disabled="disabled"> 安圭拉岛+1264 </option><option value="1876" disabled="disabled"> 牙买加+1876 </option><option value="81" disabled="disabled"> 日本+81 </option><option value="962" disabled="disabled"> 约旦+962 </option><option value="7" disabled="disabled"> 哈萨克斯坦+7 </option><option value="254" disabled="disabled"> 肯尼亚+254 </option><option value="996" disabled="disabled"> 吉尔吉斯+996 </option><option value="856" disabled="disabled"> 老挝+856 </option><option value="371" disabled="disabled"> 拉脱维亚+371 </option><option value="297" disabled="disabled"> 阿鲁巴+297 </option><option value="961" disabled="disabled"> 黎巴嫩+961 </option><option value="266" disabled="disabled"> 莱索托+266 </option><option value="231" disabled="disabled"> 利比里亚+231 </option><option value="218" disabled="disabled"> 利比亚+218 </option><option value="423" disabled="disabled"> 列支敦士登+423 </option><option value="370" disabled="disabled"> 立陶宛+370 </option><option value="352" disabled="disabled"> 卢森堡+352 </option><option value="853" disabled="disabled"> 澳门+853 </option><option value="389" disabled="disabled"> 马其顿共和国+389 </option><option value="261" disabled="disabled"> 马达加斯加+261 </option><option value="61" disabled="disabled"> 澳大利亚+61 </option><option value="265" disabled="disabled"> 马拉维+265 </option><option value="60" disabled="disabled"> 马来西亚+60 </option><option value="960" disabled="disabled"> 马尔代夫+960 </option><option value="223" disabled="disabled"> 马里+223 </option><option value="356" disabled="disabled"> 马耳他+356 </option><option value="222" disabled="disabled"> 毛里塔尼亚+222 </option><option value="230" disabled="disabled"> 毛里求斯+230 </option><option value="52" disabled="disabled"> 墨西哥+52 </option><option value="43" disabled="disabled"> 奥地利+43 </option><option value="691" disabled="disabled"> 密克罗尼西亚联邦+691 </option><option value="373" disabled="disabled"> 摩尔多瓦+373 </option><option value="377" disabled="disabled"> 摩纳哥+377 </option><option value="976" disabled="disabled"> 蒙古+976 </option><option value="382" disabled="disabled"> 黑山共和国+382 </option><option value="212" disabled="disabled"> 摩洛哥+212 </option><option value="258" disabled="disabled"> 莫桑比克+258 </option><option value="95" disabled="disabled"> 缅甸+95 </option><option value="264" disabled="disabled"> 纳米比亚+264 </option><option value="994" disabled="disabled"> 阿塞拜疆共和国+994 </option><option value="977" disabled="disabled"> 尼泊尔+977 </option><option value="31" disabled="disabled"> 荷兰+31 </option><option value="599" disabled="disabled"> 荷属安德烈斯群岛+599 </option><option value="687" disabled="disabled"> 新喀里多尼亚+687 </option><option value="64" disabled="disabled"> 新西兰+64 </option><option value="505" disabled="disabled"> 尼加拉瓜+505 </option><option value="227" disabled="disabled"> 尼日尔+227 </option><option value="234" disabled="disabled"> 尼日利亚+234 </option><option value="1242" disabled="disabled"> 巴哈马+1242 </option><option value="47" disabled="disabled"> 挪威+47 </option><option value="968" disabled="disabled"> 阿曼+968 </option><option value="680" disabled="disabled"> 帕劳+680 </option><option value="92" disabled="disabled"> 巴勒斯坦+92 </option><option value="507" disabled="disabled"> 巴拿马+507 </option><option value="675" disabled="disabled"> 巴布亚新几内亚+675 </option><option value="595" disabled="disabled"> 巴拉圭+595 </option><option value="51" disabled="disabled"> 秘鲁+51 </option><option value="63" disabled="disabled"> 菲律宾+63 </option><option value="973" disabled="disabled"> 巴林+973 </option><option value="48" disabled="disabled"> 波兰+48 </option><option value="351" disabled="disabled"> 葡萄牙+351 </option><option value="1787" disabled="disabled"> 波多黎各+1787 </option><option value="974" disabled="disabled"> 卡塔尔+974 </option><option value="262" disabled="disabled"> 留尼旺岛+262 </option><option value="40" disabled="disabled"> 罗马尼亚+40 </option><option value="7" disabled="disabled"> 俄罗斯+7 </option><option value="250" disabled="disabled"> 卢旺达+250 </option><option value="880" disabled="disabled"> 孟加拉共和国+880 </option><option value="378" disabled="disabled"> 圣马力诺+378 </option><option value="239" disabled="disabled"> 圣多美和普林西比+239 </option><option value="966" disabled="disabled"> 沙特阿拉伯+966 </option><option value="221" disabled="disabled"> 塞内加尔+221 </option><option value="381" disabled="disabled"> 塞尔维亚共和国+381 </option><option value="248" disabled="disabled"> 塞舌尔+248 </option><option value="232" disabled="disabled"> 塞拉利昂+232 </option><option value="65" disabled="disabled"> 新加坡+65 </option><option value="421" disabled="disabled"> 斯洛伐克+421 </option><option value="386" disabled="disabled"> 斯洛文尼亚+386 </option><option value="252" disabled="disabled"> 索马里+252 </option><option value="27" disabled="disabled"> 南非+27 </option><option value="82" disabled="disabled"> 韩国+82 </option><option value="34" disabled="disabled"> 西班牙+34 </option><option value="94" disabled="disabled"> 斯里兰卡+94 </option><option value="211" disabled="disabled"> 苏丹+211 </option><option value="375" disabled="disabled"> 白俄罗斯+375 </option><option value="597" disabled="disabled"> 苏里南+597 </option><option value="268" disabled="disabled"> 斯威士兰+268 </option><option value="46" disabled="disabled"> 瑞典+46 </option><option value="41" disabled="disabled"> 瑞士+41 </option><option value="963" disabled="disabled"> 叙利亚+963 </option><option value="886" disabled="disabled"> 台湾+886 </option><option value="992" disabled="disabled"> 塔吉克斯坦+992 </option><option value="255" disabled="disabled"> 坦桑尼亚+255 </option><option value="66" disabled="disabled"> 泰国+66 </option><option value="243" disabled="disabled"> 刚果民主共和国+243 </option><option value="355" disabled="disabled"> 阿尔巴尼亚+355 </option><option value="32" disabled="disabled"> 比利时+32 </option><option value="228" disabled="disabled"> 多哥+228 </option><option value="676" disabled="disabled"> 汤加+676 </option><option value="1868" disabled="disabled"> 特立尼达和多巴哥+1868 </option><option value="216" disabled="disabled"> 突尼斯+216 </option><option value="90" disabled="disabled"> 土耳其+90 </option><option value="993" disabled="disabled"> 土库曼斯坦+993 </option><option value="501" disabled="disabled"> 伯利兹+501 </option><option value="256" disabled="disabled"> 乌干达+256 </option><option value="380" disabled="disabled"> 乌克兰+380 </option><option value="44" disabled="disabled"> 英国+44 </option><option value="1" disabled="disabled"> 美国+1 </option><option value="598" disabled="disabled"> 乌拉圭+598 </option><option value="998" disabled="disabled"> 乌兹别克斯坦+998 </option><option value="678" disabled="disabled"> 瓦努阿图+678 </option><option value="58" disabled="disabled"> 委内瑞拉+58 </option><option value="229" disabled="disabled"> 贝宁共和国+229 </option><option value="84" disabled="disabled"> 越南+84 </option><option value="967" disabled="disabled"> 也门+967 </option><option value="260" disabled="disabled"> 赞比亚+260 </option><option value="263" disabled="disabled"> 津巴布韦+263 </option><option value="1441" disabled="disabled"> 百慕大群岛+1441 </option><option value="975" disabled="disabled"> 不丹+975 </option><option value="591" disabled="disabled"> 玻利维亚+591 </option><option value="387" disabled="disabled"> 波斯尼亚和黑塞哥维那+387 </option><option value="267" disabled="disabled"> 博茨瓦纳+267 </option><option value="55" disabled="disabled"> 巴西+55 </option><option value="213" disabled="disabled"> 阿尔及利亚+213 </option><option value="673" disabled="disabled"> 文莱+673 </option><option value="359" disabled="disabled"> 保加利亚+359 </option><option value="226" disabled="disabled"> 布基纳法索+226 </option><option value="257" disabled="disabled"> 布隆迪+257 </option><option value="855" disabled="disabled"> 柬埔寨+855 </option><option value="237" disabled="disabled"> 喀麦隆+237 </option><option value="1" disabled="disabled"> 加拿大+1 </option><option value="238" disabled="disabled"> 佛得角+238 </option><option value="236" disabled="disabled"> 中非共和国+236 </option><option value="235" disabled="disabled"> 乍得+235 </option><option value="56" disabled="disabled"> 智利+56 </option><option value="57" disabled="disabled"> 哥伦比亚+57 </option><option value="242" disabled="disabled"> 刚果+242 </option><option value="682" disabled="disabled"> 库克群岛+682 </option><option value="506" disabled="disabled"> 哥斯达黎加+506 </option><option value="385" disabled="disabled"> 克罗地亚+385 </option><option value="376" disabled="disabled"> 安道尔共和国+376 </option><option value="53" disabled="disabled"> 古巴+53 </option><option value="357" disabled="disabled"> 塞浦路斯+357 </option><option value="420" disabled="disabled"> 捷克共和国+420 </option><option value="45" disabled="disabled"> 丹麦+45 </option><option value="253" disabled="disabled"> 吉布提+253 </option><option value="593" disabled="disabled"> 厄瓜多尔+593 </option><option value="244" disabled="disabled"> 安哥拉+244 </option><option value="20" disabled="disabled"> 埃及+20 </option><option value="503" disabled="disabled"> 萨尔瓦多+503 </option><option value="240" disabled="disabled"> 赤道几内亚+240 </option><option value="291" disabled="disabled"> 厄立特里亚+291 </option><option value="372" disabled="disabled"> 爱沙尼亚+372 </option><option value="251" disabled="disabled"> 埃塞俄比亚+251 </option><option value="500" disabled="disabled"> 福克兰群岛+500 </option><option value="298" disabled="disabled"> 法罗群岛+298 </option><option value="679" disabled="disabled"> 斐济+679 </option><option value="358" disabled="disabled"> 芬兰+358 </option><option value="33" disabled="disabled"> 法国+33 </option><option value="594" disabled="disabled"> 法属圭亚那+594 </option><option value="689" disabled="disabled"> 法属波利尼西亚+689 </option><option value="241" disabled="disabled"> 加蓬+241 </option><option value="220" disabled="disabled"> 冈比亚+220 </option><option value="995" disabled="disabled"> 格鲁吉亚+995 </option><option value="49" disabled="disabled"> 德国+49 </option><option value="233" disabled="disabled"> 加纳+233 </option><option value="350" disabled="disabled"> 直布罗陀+350 </option><option value="30" disabled="disabled"> 希腊+30 </option><option value="1268" disabled="disabled"> 安提瓜和巴布达+1268 </option><option value="590" disabled="disabled"> 瓜德罗普岛+590 </option><option value="1671" disabled="disabled"> 关岛+1671 </option><option value="502" disabled="disabled"> 危地马拉+502 </option><option value="224" disabled="disabled"> 巴布亚新几内亚+224 </option><option value="245" disabled="disabled"> 几内亚比绍共和国+245 </option><option value="592" disabled="disabled"> 圭亚那+592 </option><option value="509" disabled="disabled"> 海地+509 </option><option value="504" disabled="disabled"> 洪都拉斯+504 </option><option value="54" disabled="disabled"> 阿根廷+54 </option><option value="852" disabled="disabled"> 香港+852 </option><option value="36" disabled="disabled"> 匈牙利+36 </option><option value="354" disabled="disabled"> 冰岛+354 </option><option value="91" disabled="disabled"> 印度+91 </option><option value="62" disabled="disabled"> 印度尼西亚+62 </option><option value="98" disabled="disabled"> 伊朗+98 </option><option value="964" disabled="disabled"> 伊拉克+964 </option><option value="353" disabled="disabled"> 爱尔兰+353 </option><option value="972" disabled="disabled"> 以色列+972 </option><option value="39" disabled="disabled"> 意大利+39 </option></select>
                            <input type="hidden" name="country" value="86">
                            <i style="margin-left: 2px" class="ff-icon-us-profile icon-usp-phoneno"></i>
                            <input style="margin-left: 2px;text-indent: 34px;" class="inputng number-control" name="username" type="text" autofocus="" required="" id="p3" maxlength="15" onfocus="$('.signin-err-phone').text('')" oninvalid="this.setCustomValidity('此字段为必须，请按提示输入')" oninput="setCustomValidity('')" placeholder="请输入手机">
                            <div class="error-msg signin-err-phone signin-err-mail" id="signin-form-err"></div>
                        </div>
                        <span>
                            <i style="margin-left: 2px" class="ff-icon-us-profile icon-usp-verifycode"></i>
                            <input style="margin-left: 2px;text-indent: 31px;" class="inputng" placeholder="请输入验证码" id="id-signin-verifycode" name="password" type="text" required="" onfocus="$('.signin-err-phone').text('')" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('验证码格式出错')}" oninput="setCustomValidity('')" pattern="^[ -~]{4,4}$">
                            
                            <a style="color: black;position: relative;margin-left: -63px;cursor: pointer;" class="get-verify-code" id="get-verify-code-3" onclick="getVerifyCode($('#c3').val(), $('#p3').val(), $('#signin-form-err'), $('#get-verify-code-3'))">获取验证码</a>
                        </span>

                        <button class="">登录</button>
                    </form>
                    <div class="control-box" style="display: none">

                    </div>
                </div>
                <div id="login-mail-div">
                    <div id="login_mail">
                        <form method="post" class="form signin-form" id="signin-form-mail">
                            <div class="u-pr">
                                <i style="margin-left: 2px" class="ff-icon-us-profile icon-usp-mail"></i>
                                <select name="country" hidden="">
                                </select>
                                <input style="text-indent: 34px;" class="inputng" name="username" id="m1-login" type="text" autofocus="" required="" onfocus="$('.signin-err-mail').text('')" oninvalid="this.setCustomValidity('此字段为必须，请按提示输入')" oninput="setCustomValidity('')" placeholder="请输入邮箱">
                                <div class="error-msg signin-err-mail" id="signin-form-err-login"></div>
                            </div>
                            <div style="display: block" id="id-content-with-pwd">
                                <i style="margin-left: 2px" class="ff-icon-us-profile icon-usp-pwd"></i>
                                <input style="text-indent: 34px;margin-bottom: 1px" class="inputng" type="password" name="password" id="id-password" value="" required="" onfocus="$('.signin-err-mail').text('')" oninvalid="this.setCustomValidity('此字段为必须，请按提示输入')" oninput="setCustomValidity('')" placeholder="请输入密码">
                                <a onclick="login_switch_pwd_code(1)" style="margin-right: 170px;cursor: pointer;font-size: 10px">使用验证码登录</a>
                                <i id="id-password-1" style="position: fixed;margin-left: -22px;cursor: pointer;margin-top: -25px" class="ff-icon-us-profile icon-usp-closeeye" onclick="PwdVisible('id-password')"></i>
                                <p style="margin-top: -17px;margin-left: 223px;font-size: 11px;cursor: pointer" onclick="forget_account_btn()">忘记密码？</p>
                            </div>

                            <div style="display: none" id="id-content-with-code">
                                <i style="margin-left: 2px" class="ff-icon-us-profile icon-usp-verifycode"></i>
                                <input style="text-indent: 30px;margin-bottom: 1px" class="inputng" placeholder="请输入验证码" id="id-verify-code" name="verify_code" type="text" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('验证码格式出错')}" oninput="setCustomValidity('')" pattern="^[ -~]{4,4}$">
                                <a style="color: black;position: relative;margin-left: -64px;cursor: pointer;" class="get-verify-code" id="get-verify-code-mail-login" onclick="getMailVerifyCode($('#m1-login').val(), $('#signin-form-err-login'), $('#get-verify-code-mail-login'))">获取验证码</a>
                                <a id="id-switch-pwd-btn" onclick="login_switch_pwd_code(2)" style="margin-right: 170px;cursor: pointer;;font-size: 10px">使用密码登录</a>
                            </div>


                            <button class="">登录</button>
                        </form>
                    </div>
                    <div class="control-box" style="display: none">

                    </div>
                </div>
            </div>

            
            <div class="login-box" id="bind_account">
                
                
                <div id="bind_phone" style="display: none;">
                    <form method="post" class="form" id="signup-phone-form">
                        <div class="u-pr">
                            <select disabled="disabled" name="country" id="c1"><option value="86" selected="selected"> 中国+86 </option><option value="93" disabled="disabled"> 阿富汗+93 </option><option value="1890" disabled="disabled"> 多米尼加共和国+1890 </option><option value="1345" disabled="disabled"> 开曼群岛+1345 </option><option value="1246" disabled="disabled"> 巴巴多斯+1246 </option><option value="247" disabled="disabled"> 阿森松+247 </option><option value="374" disabled="disabled"> 亚美尼亚+374 </option><option value="1264" disabled="disabled"> 安圭拉岛+1264 </option><option value="1876" disabled="disabled"> 牙买加+1876 </option><option value="81" disabled="disabled"> 日本+81 </option><option value="962" disabled="disabled"> 约旦+962 </option><option value="7" disabled="disabled"> 哈萨克斯坦+7 </option><option value="254" disabled="disabled"> 肯尼亚+254 </option><option value="996" disabled="disabled"> 吉尔吉斯+996 </option><option value="856" disabled="disabled"> 老挝+856 </option><option value="371" disabled="disabled"> 拉脱维亚+371 </option><option value="297" disabled="disabled"> 阿鲁巴+297 </option><option value="961" disabled="disabled"> 黎巴嫩+961 </option><option value="266" disabled="disabled"> 莱索托+266 </option><option value="231" disabled="disabled"> 利比里亚+231 </option><option value="218" disabled="disabled"> 利比亚+218 </option><option value="423" disabled="disabled"> 列支敦士登+423 </option><option value="370" disabled="disabled"> 立陶宛+370 </option><option value="352" disabled="disabled"> 卢森堡+352 </option><option value="853" disabled="disabled"> 澳门+853 </option><option value="389" disabled="disabled"> 马其顿共和国+389 </option><option value="261" disabled="disabled"> 马达加斯加+261 </option><option value="61" disabled="disabled"> 澳大利亚+61 </option><option value="265" disabled="disabled"> 马拉维+265 </option><option value="60" disabled="disabled"> 马来西亚+60 </option><option value="960" disabled="disabled"> 马尔代夫+960 </option><option value="223" disabled="disabled"> 马里+223 </option><option value="356" disabled="disabled"> 马耳他+356 </option><option value="222" disabled="disabled"> 毛里塔尼亚+222 </option><option value="230" disabled="disabled"> 毛里求斯+230 </option><option value="52" disabled="disabled"> 墨西哥+52 </option><option value="43" disabled="disabled"> 奥地利+43 </option><option value="691" disabled="disabled"> 密克罗尼西亚联邦+691 </option><option value="373" disabled="disabled"> 摩尔多瓦+373 </option><option value="377" disabled="disabled"> 摩纳哥+377 </option><option value="976" disabled="disabled"> 蒙古+976 </option><option value="382" disabled="disabled"> 黑山共和国+382 </option><option value="212" disabled="disabled"> 摩洛哥+212 </option><option value="258" disabled="disabled"> 莫桑比克+258 </option><option value="95" disabled="disabled"> 缅甸+95 </option><option value="264" disabled="disabled"> 纳米比亚+264 </option><option value="994" disabled="disabled"> 阿塞拜疆共和国+994 </option><option value="977" disabled="disabled"> 尼泊尔+977 </option><option value="31" disabled="disabled"> 荷兰+31 </option><option value="599" disabled="disabled"> 荷属安德烈斯群岛+599 </option><option value="687" disabled="disabled"> 新喀里多尼亚+687 </option><option value="64" disabled="disabled"> 新西兰+64 </option><option value="505" disabled="disabled"> 尼加拉瓜+505 </option><option value="227" disabled="disabled"> 尼日尔+227 </option><option value="234" disabled="disabled"> 尼日利亚+234 </option><option value="1242" disabled="disabled"> 巴哈马+1242 </option><option value="47" disabled="disabled"> 挪威+47 </option><option value="968" disabled="disabled"> 阿曼+968 </option><option value="680" disabled="disabled"> 帕劳+680 </option><option value="92" disabled="disabled"> 巴勒斯坦+92 </option><option value="507" disabled="disabled"> 巴拿马+507 </option><option value="675" disabled="disabled"> 巴布亚新几内亚+675 </option><option value="595" disabled="disabled"> 巴拉圭+595 </option><option value="51" disabled="disabled"> 秘鲁+51 </option><option value="63" disabled="disabled"> 菲律宾+63 </option><option value="973" disabled="disabled"> 巴林+973 </option><option value="48" disabled="disabled"> 波兰+48 </option><option value="351" disabled="disabled"> 葡萄牙+351 </option><option value="1787" disabled="disabled"> 波多黎各+1787 </option><option value="974" disabled="disabled"> 卡塔尔+974 </option><option value="262" disabled="disabled"> 留尼旺岛+262 </option><option value="40" disabled="disabled"> 罗马尼亚+40 </option><option value="7" disabled="disabled"> 俄罗斯+7 </option><option value="250" disabled="disabled"> 卢旺达+250 </option><option value="880" disabled="disabled"> 孟加拉共和国+880 </option><option value="378" disabled="disabled"> 圣马力诺+378 </option><option value="239" disabled="disabled"> 圣多美和普林西比+239 </option><option value="966" disabled="disabled"> 沙特阿拉伯+966 </option><option value="221" disabled="disabled"> 塞内加尔+221 </option><option value="381" disabled="disabled"> 塞尔维亚共和国+381 </option><option value="248" disabled="disabled"> 塞舌尔+248 </option><option value="232" disabled="disabled"> 塞拉利昂+232 </option><option value="65" disabled="disabled"> 新加坡+65 </option><option value="421" disabled="disabled"> 斯洛伐克+421 </option><option value="386" disabled="disabled"> 斯洛文尼亚+386 </option><option value="252" disabled="disabled"> 索马里+252 </option><option value="27" disabled="disabled"> 南非+27 </option><option value="82" disabled="disabled"> 韩国+82 </option><option value="34" disabled="disabled"> 西班牙+34 </option><option value="94" disabled="disabled"> 斯里兰卡+94 </option><option value="211" disabled="disabled"> 苏丹+211 </option><option value="375" disabled="disabled"> 白俄罗斯+375 </option><option value="597" disabled="disabled"> 苏里南+597 </option><option value="268" disabled="disabled"> 斯威士兰+268 </option><option value="46" disabled="disabled"> 瑞典+46 </option><option value="41" disabled="disabled"> 瑞士+41 </option><option value="963" disabled="disabled"> 叙利亚+963 </option><option value="886" disabled="disabled"> 台湾+886 </option><option value="992" disabled="disabled"> 塔吉克斯坦+992 </option><option value="255" disabled="disabled"> 坦桑尼亚+255 </option><option value="66" disabled="disabled"> 泰国+66 </option><option value="243" disabled="disabled"> 刚果民主共和国+243 </option><option value="355" disabled="disabled"> 阿尔巴尼亚+355 </option><option value="32" disabled="disabled"> 比利时+32 </option><option value="228" disabled="disabled"> 多哥+228 </option><option value="676" disabled="disabled"> 汤加+676 </option><option value="1868" disabled="disabled"> 特立尼达和多巴哥+1868 </option><option value="216" disabled="disabled"> 突尼斯+216 </option><option value="90" disabled="disabled"> 土耳其+90 </option><option value="993" disabled="disabled"> 土库曼斯坦+993 </option><option value="501" disabled="disabled"> 伯利兹+501 </option><option value="256" disabled="disabled"> 乌干达+256 </option><option value="380" disabled="disabled"> 乌克兰+380 </option><option value="44" disabled="disabled"> 英国+44 </option><option value="1" disabled="disabled"> 美国+1 </option><option value="598" disabled="disabled"> 乌拉圭+598 </option><option value="998" disabled="disabled"> 乌兹别克斯坦+998 </option><option value="678" disabled="disabled"> 瓦努阿图+678 </option><option value="58" disabled="disabled"> 委内瑞拉+58 </option><option value="229" disabled="disabled"> 贝宁共和国+229 </option><option value="84" disabled="disabled"> 越南+84 </option><option value="967" disabled="disabled"> 也门+967 </option><option value="260" disabled="disabled"> 赞比亚+260 </option><option value="263" disabled="disabled"> 津巴布韦+263 </option><option value="1441" disabled="disabled"> 百慕大群岛+1441 </option><option value="975" disabled="disabled"> 不丹+975 </option><option value="591" disabled="disabled"> 玻利维亚+591 </option><option value="387" disabled="disabled"> 波斯尼亚和黑塞哥维那+387 </option><option value="267" disabled="disabled"> 博茨瓦纳+267 </option><option value="55" disabled="disabled"> 巴西+55 </option><option value="213" disabled="disabled"> 阿尔及利亚+213 </option><option value="673" disabled="disabled"> 文莱+673 </option><option value="359" disabled="disabled"> 保加利亚+359 </option><option value="226" disabled="disabled"> 布基纳法索+226 </option><option value="257" disabled="disabled"> 布隆迪+257 </option><option value="855" disabled="disabled"> 柬埔寨+855 </option><option value="237" disabled="disabled"> 喀麦隆+237 </option><option value="1" disabled="disabled"> 加拿大+1 </option><option value="238" disabled="disabled"> 佛得角+238 </option><option value="236" disabled="disabled"> 中非共和国+236 </option><option value="235" disabled="disabled"> 乍得+235 </option><option value="56" disabled="disabled"> 智利+56 </option><option value="57" disabled="disabled"> 哥伦比亚+57 </option><option value="242" disabled="disabled"> 刚果+242 </option><option value="682" disabled="disabled"> 库克群岛+682 </option><option value="506" disabled="disabled"> 哥斯达黎加+506 </option><option value="385" disabled="disabled"> 克罗地亚+385 </option><option value="376" disabled="disabled"> 安道尔共和国+376 </option><option value="53" disabled="disabled"> 古巴+53 </option><option value="357" disabled="disabled"> 塞浦路斯+357 </option><option value="420" disabled="disabled"> 捷克共和国+420 </option><option value="45" disabled="disabled"> 丹麦+45 </option><option value="253" disabled="disabled"> 吉布提+253 </option><option value="593" disabled="disabled"> 厄瓜多尔+593 </option><option value="244" disabled="disabled"> 安哥拉+244 </option><option value="20" disabled="disabled"> 埃及+20 </option><option value="503" disabled="disabled"> 萨尔瓦多+503 </option><option value="240" disabled="disabled"> 赤道几内亚+240 </option><option value="291" disabled="disabled"> 厄立特里亚+291 </option><option value="372" disabled="disabled"> 爱沙尼亚+372 </option><option value="251" disabled="disabled"> 埃塞俄比亚+251 </option><option value="500" disabled="disabled"> 福克兰群岛+500 </option><option value="298" disabled="disabled"> 法罗群岛+298 </option><option value="679" disabled="disabled"> 斐济+679 </option><option value="358" disabled="disabled"> 芬兰+358 </option><option value="33" disabled="disabled"> 法国+33 </option><option value="594" disabled="disabled"> 法属圭亚那+594 </option><option value="689" disabled="disabled"> 法属波利尼西亚+689 </option><option value="241" disabled="disabled"> 加蓬+241 </option><option value="220" disabled="disabled"> 冈比亚+220 </option><option value="995" disabled="disabled"> 格鲁吉亚+995 </option><option value="49" disabled="disabled"> 德国+49 </option><option value="233" disabled="disabled"> 加纳+233 </option><option value="350" disabled="disabled"> 直布罗陀+350 </option><option value="30" disabled="disabled"> 希腊+30 </option><option value="1268" disabled="disabled"> 安提瓜和巴布达+1268 </option><option value="590" disabled="disabled"> 瓜德罗普岛+590 </option><option value="1671" disabled="disabled"> 关岛+1671 </option><option value="502" disabled="disabled"> 危地马拉+502 </option><option value="224" disabled="disabled"> 巴布亚新几内亚+224 </option><option value="245" disabled="disabled"> 几内亚比绍共和国+245 </option><option value="592" disabled="disabled"> 圭亚那+592 </option><option value="509" disabled="disabled"> 海地+509 </option><option value="504" disabled="disabled"> 洪都拉斯+504 </option><option value="54" disabled="disabled"> 阿根廷+54 </option><option value="852" disabled="disabled"> 香港+852 </option><option value="36" disabled="disabled"> 匈牙利+36 </option><option value="354" disabled="disabled"> 冰岛+354 </option><option value="91" disabled="disabled"> 印度+91 </option><option value="62" disabled="disabled"> 印度尼西亚+62 </option><option value="98" disabled="disabled"> 伊朗+98 </option><option value="964" disabled="disabled"> 伊拉克+964 </option><option value="353" disabled="disabled"> 爱尔兰+353 </option><option value="972" disabled="disabled"> 以色列+972 </option><option value="39" disabled="disabled"> 意大利+39 </option></select>
                            <input class="inputng number-control" name="phone_number" id="p1" type="text" autofocus="" required="" oninvalid="if (value.length < 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('手机格式出错')}" oninput="setCustomValidity('')" placeholder="请输入手机">
                            <div class="error-msg" id="form-err-1"></div>
                        </div>
                        
                        
                        <span>
                    <input class="inputng" placeholder="请输入验证码" name="verify_code" type="text" required="" style="width:210px;" onfocus="$('#form-err-1').text('')" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('验证码格式出错')}" oninput="setCustomValidity('')" pattern="^[ -~]{4,4}$">
                    <button class="get-verify-code" id="get-verify-code-1" onclick="getVerifyCode($('#c1').val(), $('#p1').val(), $('#form-err-1'), $('#get-verify-code-1'))">获取验证码</button>
                </span>
                        <div class="u-pr" style="display: none">
                            
                                <input class="inputng" placeholder="请输入邀请码(选填)" name="referee" id="signup-phone-bindref" type="text" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')" maxlength="8" style="display:block;">
                                
                            
                        </div>
                        <button type="submit">绑定</button>
                    </form>
                </div>

                
                <div id="bind_mail" style="display: block;">
                    <div style="margin-left: 268px;margin-top: -25px;position: inherit;" class="close-box-btn" onclick="close_box_btn()"></div>
                    <div style="font-weight: bolder;font-size:18px;padding-bottom: 13px;margin-top: -14px">注册账号</div>
                    <form method="post" class="form" id="signup-mail-form">
                        
                        <div class="u-pr">
                            <i class="ff-icon-us-profile icon-usp-mail"></i>
                            <input style="width: 273px;text-indent: 33px;" class="inputng" name="username" id="m1" type="text" autofocus="" required="" onfocus="$('#signup-mail-form-err').text('')" oninvalid="if (value.length < 0) {this.setCustomValidity('此字段为必须，请按提示输入')}" placeholder="请输入邮箱">
                            <div class="error-msg" id="signup-mail-form-err-signup"></div>
                        </div>
                        <i class="ff-icon-us-profile icon-usp-pwd"></i>
                        <input style="width: 273px;text-indent: 33px;" class="inputng" name="password" id="id-showpwd-1" type="password" value="" required="" onfocus="$('#signup-mail-form-err').text('')" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('密码长度为6-32位，必须是数字，英文或者特殊字符')}" oninput="setCustomValidity('')" placeholder="请输入密码" pattern="^[ -~]{6,32}$">
                        <i id="id-showpwd-1-1" style="position: fixed;margin-left: -22px;cursor: pointer;" class="ff-icon-us-profile icon-usp-closeeye" onclick="PwdVisible('id-showpwd-1')"></i>

                        <i class="ff-icon-us-profile icon-usp-pwd"></i>
                        <input style="width: 273px;text-indent: 33px;" class="inputng" placeholder="请输入确认密码" name="password2" id="id-showpwd-2" type="password" value="" required="" onfocus="$('#signup-mail-form-err').text('')" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('密码长度为6-32位，必须是数字，英文或者特殊字符')}" oninput="setCustomValidity('')" pattern="^[ -~]{6,32}$">
                        <i id="id-showpwd-2-1" style="position: fixed;margin-left: -22px;cursor: pointer;" class="ff-icon-us-profile icon-usp-closeeye" onclick="PwdVisible('id-showpwd-2')"></i>
                        <span>
                             <i class="ff-icon-us-profile icon-usp-verifycode"></i>
                            <input style="width: 279px;text-indent: 32px;" class="inputng" placeholder="请输入验证码" id="id-verifycode-signup" name="verify_code" type="text" required="" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('验证码格式出错')}" oninput="setCustomValidity('')" pattern="^[ -~]{4,4}$">
                            <a style="color: black;position: relative;margin-left: -58px;cursor: pointer;" class="get-verify-code" id="get-verify-code-mail-signup" onclick="getMailVerifyCode_Register($('#m1').val(), $('#signup-mail-form-err-signup'), $('#get-verify-code-mail-signup'))">获取验证码</a>
                        </span>

                        <div class="u-pr" style="display: none">
                            
                                <input class="inputng" placeholder="请输入邀请码(选填)" name="referee" id="signup-mail-bindref" type="text" onkeyup="value=value.replace(/[^\w\.\/]/ig,'')" maxlength="8" style="display:block;">
                                
                            

                        </div>
                        <button style="border-radius: 9px;" type="submit">确定</button>
                    </form>
                </div>

            </div>

            
            <div class="login-box" id="reset-pwd" style="height: 300px;">
                <div class="fz22 title">修改密码</div>
                <form method="post" class="form" id="reset-form">
                    <div class="u-pr">
                        <input class="inputng" name="oldpasswd" id="id-oldpasswd" type="password" value="" required="" onfocus="$('#reset-form-err').text('')" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('密码长度为6-32位，必须是数字，英文或者特殊字符')}" oninput="setCustomValidity('')" placeholder="请输入旧密码" pattern="^[ -~]{6,32}$">
                        <input class="inputng" name="newpasswd" id="id-newpasswd" type="password" value="" required="" onfocus="$('#reset-form-err').text('')" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('密码长度为6-32位，必须是数字，英文或者特殊字符')}" oninput="setCustomValidity('')" placeholder="请输入新密码" pattern="^[ -~]{6,32}$">
                        <div class="error-msg" id="reset-form-err"></div>
                    </div>
                    <button type="submit">修改密码</button>
                </form>
            </div>
            
            <div class="login-box" id="forget-pwd">
                
                <ul class="tabs">
                    
                    <li><a id="forget-pwd-mail-btn" onclick="showMailForgetPwdView()" class="active">邮件找回</a></li>
                </ul>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                <div id="forget-mail-pwd">
                    <form method="post" class="form" id="forget-mail-form">
                        <div class="u-pr">
                            <input class="inputng" type="text" name="email" required="" oninvalid="this.setCustomValidity('此字段为必须，请按提示输入')" oninput="setCustomValidity('')" placeholder="请输入邮箱">
                            <div class="error-msg" id="forget-mail-form-err"></div>
                        </div>
                        <button type="submit">发送重置连接到邮箱</button>
                    </form>
                </div>
                <div class="control-box">
                    <span class=""></span>
                    <span class="return_login  switch-btn" onclick="switchbtn()"> <i class="ff-icon icon-arrow"></i>返回登录</span>
                </div>
            </div>


            
            <div class="mask" id="bind_account-mask">
                <div class="modal-box" style="display: block;margin: auto;margin-top: 13%;">
                    <div class="login-box">
                        
                        <div id="bind_mail" style="display: block;">
                            <div id="id-force-bind-mail-upgrade-close" style="margin-left: 288px;margin-top: -44px;position: inherit;display: none" class="close-box-btn" onclick="forceCloseSignup()"></div>
                            <div style="font-weight: bold;font-size: 19px;padding-bottom: 13px;margin-top: -14px">注册账号</div>
                            <form method="post" class="form" id="signup-mail-form-mask">
                                <div style="display: none" id="id-force-signup-tip-title" class="force-signup-verify-code">
                                    <p id="id-force-signup-tip01"></p>
                                </div>
                                
                                <div class="u-pr">
                                    <i class="ff-icon-us-profile icon-usp-mail"></i>
                                    <input style="width: 273px;text-indent: 33px;" class="inputng" name="username" id="m1-mask" type="text" autofocus="" required="" onfocus="$('#signup-mail-form-err-mask').text('')" oninvalid="if (value.length < 0) {this.setCustomValidity('此字段为必须，请按提示输入')}" oninput="setCustomValidity('')" placeholder="请输入邮箱">
                                    <div class="error-msg" id="signup-mail-form-err-mask"></div>
                                </div>
                                <i class="ff-icon-us-profile icon-usp-pwd"></i>
                                <input style="width: 273px;text-indent: 33px;" class="inputng" name="password" id="id-showpwd-mask-1" type="password" value="" required="" onfocus="$('#signup-mail-form-err-mask').text('')" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('密码长度为6-32位，必须是数字，英文或者特殊字符')}" oninput="setCustomValidity('')" placeholder="请输入密码" pattern="^[ -~]{6,32}$">
                                <i id="id-showpwd-mask-1-1" style="position: fixed;margin-left: -22px;cursor: pointer;" class="ff-icon-us-profile icon-usp-closeeye" onclick="PwdVisible('id-showpwd-mask-1')"></i>

                                <i class="ff-icon-us-profile icon-usp-pwd"></i>
                                <input style="width: 273px;text-indent: 33px;" class="inputng" placeholder="请输入确认密码" name="password2" id="id-showpwd-mask-2" type="password" value="" required="" onfocus="$('#signup-mail-form-err-mask').text('')" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('密码长度为6-32位，必须是数字，英文或者特殊字符')}" oninput="setCustomValidity('')" pattern="^[ -~]{6,32}$">
                                <i id="id-showpwd-mask-2-1" style="position: fixed;margin-left: -22px;cursor: pointer;" class="ff-icon-us-profile icon-usp-closeeye" onclick="PwdVisible('id-showpwd-mask-2')"></i>
                                <span>
                                      <i class="ff-icon-us-profile icon-usp-verifycode"></i>
                            <input style="width: 279px;text-indent: 32px;" class="inputng" placeholder="请输入验证码" id="id-force-signup-verifycode" name="verify_code" type="text" required="" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('验证码格式出错')}" oninput="setCustomValidity('')" pattern="^[ -~]{4,4}$">
                            <a style="color: black;position: relative;margin-left: -58px;cursor: pointer;" class="get-verify-code" id="get-verify-code-mail-1-mask" onclick="getMailVerifyCode_Register($('#m1-mask').val(), $('#signup-mail-form-err-mask'), $('#get-verify-code-mail-1-mask'))">获取验证码</a>
                        </span>

                                <button style="border-radius: 9px;" type="submit">确定</button>
                            </form>
                        </div>

                        <div class="control-box" style="display: none">
                            <span></span>
                            <span class="return_login switch-btn" onclick="switchbtn()">切换账号</span>
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="mask" id="bind_account-swap" style="background: transparent;box-shadow: none;-moz-box-shadow: none;-webkit-box-shadow: none;">
                <div style="display: block;margin: auto;margin-top: 13%;width: 355px">
                    <div class="login-box">
                        
                        <div id="bind_mail-swap" style="display: block;">
                            <div style="margin-left: 268px;margin-top: -25px;position: inherit;" class="close-box-btn" onclick="close_box_btn()"></div>
                            <div style="font-weight: bold;font-size: 1vw;padding-bottom: 13px;margin-top: -14px">换绑邮箱</div>
                            <p style="color: #4799E1;font-size: 11px; margin-bottom: 3px;">我们将会为您解绑手机号和重新绑定您的邮箱地址。</p>
                            <form class="form" id="signup-mail-form-swap">
                                
                                <div class="u-pr">
                                    <i class="ff-icon-us-profile icon-usp-mail"></i>
                                    <input style="width: 273px;text-indent: 33px;" class="inputng" name="username" id="m1-swap" type="text" autofocus="" required="" onfocus="$('#signup-mail-form-err-swap').text('')" oninvalid="if (value.length < 0) {this.setCustomValidity('此字段为必须，请按提示输入')}" oninput="setCustomValidity('')" placeholder="请输入邮箱">
                                    <div class="error-msg" id="signup-mail-form-err-swap"></div>
                                </div>
                                <i class="ff-icon-us-profile icon-usp-pwd"></i>
                                <input style="width: 273px;text-indent: 33px;" class="inputng" name="password" id="id-showpwd-swap-1" type="password" value="" required="" onfocus="$('#signup-mail-form-err-swap').text('')" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('密码长度为6-32位，必须是数字，英文或者特殊字符')}" oninput="setCustomValidity('')" placeholder="请输入密码" pattern="^[ -~]{6,32}$">
                                <i id="id-showpwd-swap-1-1" style="position: fixed;margin-left: -22px;cursor: pointer;" class="ff-icon-us-profile icon-usp-closeeye" onclick="PwdVisible('id-showpwd-swap-1')"></i>

                                <i class="ff-icon-us-profile icon-usp-pwd"></i>
                                <input style="width: 273px;text-indent: 33px;" class="inputng" placeholder="请输入确认密码" name="password2" id="id-showpwd-swap-2" type="password" value="" required="" onfocus="$('#signup-mail-form-err-swap').text('')" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('密码长度为6-32位，必须是数字，英文或者特殊字符')}" oninput="setCustomValidity('')" pattern="^[ -~]{6,32}$">
                                <i id="id-showpwd-swap-2-1" style="position: fixed;margin-left: -22px;cursor: pointer;" class="ff-icon-us-profile icon-usp-closeeye" onclick="PwdVisible('id-showpwd-swap-2')"></i>
                                <span>
                             <i class="ff-icon-us-profile icon-usp-verifycode"></i>
                            <input style="width: 279px;text-indent: 32px;" class="inputng" placeholder="请输入验证码" id="id-swapmail-verifycode" name="verify_code" type="text" required="" oninvalid="if (value.length <= 0) {this.setCustomValidity('此字段为必须，请按提示输入')} else {this.setCustomValidity('验证码格式出错')}" oninput="setCustomValidity('')" pattern="^[ -~]{4,4}$">
                            <a style="color: black;position: relative;margin-left: -58px;cursor: pointer;" class="get-verify-code" id="get-verify-code-mail-1-swap" onclick="getMailVerifyCode_Register($('#m1-swap').val(), $('#signup-mail-form-err-swap'), $('#get-verify-code-mail-1-swap'))">获取验证码</a>
                        </span>

                                <button style="border-radius: 9px;" type="submit">确定</button>
                            </form>
                        </div>

                    </div>
                </div>
            </div>

            
            <div class="invite-panel" id="invite_box" style="background-image: url('./static/sb/dist/img/icon/invite_bk_zh-CN.png') ">
                <div class="close-box-btn" onclick="close_box_btn()"></div>
                
                
                
                <div>
                    <ul class="invite-gift-rule">
                        <li>免费版用户每邀请一个好友，即可获得 100 MB高速流量</li>
                        <li>专业版用户每邀请一个好友，即可获得延长 12 小时</li>
                    </ul>
                    <ul class="invite-gift-rule-tip">
                        <li>（好友绑定手机/邮箱时，输入您的专属邀请码即为成功）</li>
                    </ul>
                </div>
                <div>
                    <img src="index_files/qrcode.png" alt="" style="width: 200px;height: 200px">
                    
                </div>
                <div class="invite-qrcode-tips center-cls">
                    应用下载地址二维码，可截图保存
                </div>
                <div class="invite-code"><span>邀请码：</span><span>vr7hwJ4R</span><button class="orange_button" onclick="copy_btn('vr7hwJ4R')">复制</button></div>
                <div class="invite-url invite-code"><span>下载地址：</span><span>https://getftq.internetedu.site/</span><button class="orange_button" onclick="copy_btn('https:\/\/getftq.internetedu.site\/')">复制</button></div>
                <div class="invite-copy-onekey">
                    <button class="invite-copy-onekey-btn" onclick="copy_btn('免费获取应用《佛跳墙加速器》，高速，安全，无需登录，轻松跳墙。绑定手机或邮箱时，请使用邀请码：vr7hwJ4R，点击此处下载应用：https:\/\/getftq.internetedu.site\/')"><img src="index_files/copy_onekey.png">一键复制</button>
                </div>
            </div>

            <div style="display: block;" id="special-pro-reminder-day" class="special-pro-reminder">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>

                <div class="special-pro-box">
                    <h4>流量用完提醒</h4>
                    <p class="specia-pro-box-text">
                        <span>尊敬的用户，</span><span id="special-pro-reminder-day-tip03">11月22日09时24分</span><span>，您通过邀请好友获得的专业版（分享获得）高速流量已用完，当前网速会变缓慢。。</span>
                    </p>

                    <p class="specia-pro-box-text">
                        如果您需要更快速度的浏览海外网站，建议您升级至付费专业版，付费专业版将为您提供VIP专属高速流量，VIP稳定专线，祝您上网愉快！
                    </p>
                    <div class="btn-group-reminder">
                        <button type="button" class="btn btn-secondary " onclick="special_free_ugd_evip()">免费领取专业版</button>
                        <button type="button" class="btn btn-primary " onclick="special_free_ugd_vip()">升级至专业版</button>
                    </div>
                </div>
            </div>

            <div style="display: block;" id="special-pro-reminder-forever" class="special-pro-reminder">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>

                <div class="special-pro-box">
                    <h4>流量用完提醒</h4>
                    <p class="specia-pro-box-text">
                        <span>尊敬的用户，</span><span id="special-pro-reminder-forever-tip03">11月22日09时24分</span><span>，您通过邀请好友获得的专业版（分享获得）高速流量已用完（下月会自动恢复），当前网速会变缓慢。。</span></p>

                    <p class="specia-pro-box-text">
                        如果您需要更快速度的浏览海外网站，建议您升级至付费专业版，付费专业版将为您提供VIP专属高速流量，VIP稳定专线，祝您上网愉快！
                    </p>
                    <div class="btn-group-reminder">
                        <button type="button" class="btn btn-primary btn-block  " onclick="special_free_ugd_vip()">升级至专业版</button>
                    </div>
                </div>
            </div>

            
            <div class="login-box-free" id="free-data-advise" style="display: block;">
                <div>
                    <img src="index_files/no-wifi.png">
                    <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>
                    <h3 class="login-box-header"> 重要提示： </h3>
                    <p>亲爱的免费版用户，您本月的高速流量包已用完，次月将继续赠送高速流量包
                    </p>
                    <button class="btn-warning" onclick="special_free_ugd_vip()">升级至专业版</button>
                    <a onclick="close_box_btn()" style="display:block;color: #AAAAAA; margin-top:20px;text-decoration: none;">好的 </a>
                </div>
            </div>

            <div class="empty-speedtestmodal" id="id-empty-speedtestModal" style="display: none;">
                <div class="close-box-btn" onclick="close_box_btn()"></div>

                <div class="white-panel">
                    <h4 class="title">自动检测最佳线路</h4>


                    <div class="empty-state">
                        <img src="index_files/icon_network_error.png">
                        <p>网络似乎出错了…</p>
                        <br>
                        <div class="my-2">
                            <button class="btn btn-outline-blue" style="float: none;" onclick="refreshLines();">刷新重试</button>
                        </div>
                    </div>
                </div>

            </div>

            <div class="speedtestModal" id="speedtestModal" style="display: none;">
                <div class="close-box-btn" onclick="close_box_btn()"></div>

                <div class="bg-panel">
                    <div style="display: block" id="id-display-speedometer">
                        <div class="title">
                            <h4>正在检测 </h4>
                            <p id="id-speedtest-checking-title"></p>
                        </div>
                        <br>
                        <div class="speedometer-container">
                            
                            <div id="speedometerWraper-myValues"><div id="speedometerWraper-myValues"><input style="display: none" id="myValues"><style>#speedometerWraper-myValues .envelope{width  :300px;height :300px;}#speedometerWraper-myValues .speedNobe{height            :4px;top               :148px;transform         :rotate(-45deg);-webkit-transform :rotate(-45deg);-moz-transform    :rotate(-45deg);-o-transform      :rotate(-45deg);}#speedometerWraper-myValues .speedPosition{width  :80px;height :80px;top  :110px;left :110px;}#speedometerWraper-myValues .speedNobe div{width  :95px;left :13px;}#speedometerWraper-myValues .nob{width  :20px;height :4px;}#speedometerWraper-myValues .numb{width  :30px;height :16px;}#speedometerWraper-myValues .midNob{width  :10px;height :3px;}</style><div class="envelope"><div class="speedNobe">,<div></div>,</div>,<div class="speedPosition"></div><div class="nob " style="left:51.638335216160755px;top:236.4150224601477px;transform         :rotate(-45deg);-webkit-transform :rotate(-45deg);-o-transform      :rotate(-45deg);-moz-transform    :rotate(-45deg)"></div><div class="numb " style="left:78.37960135563574px;top:198.65881617130634px;">0</div><div class="nob  midNob" style="left:36.75940324362034px;top:211.02178191496796px;transform         :rotate(-30deg);-webkit-transform :rotate(-30deg);-o-transform      :rotate(-30deg);-moz-transform    :rotate(-30deg)"></div><div class="numb"></div><div class="nob " style="left:19.262527369197727px;top:180.36452846445118px;transform         :rotate(-15deg);-webkit-transform :rotate(-15deg);-o-transform      :rotate(-15deg);-moz-transform    :rotate(-15deg)"></div><div class="numb " style="left:55.06901970582237px;top:158.30246049440484px;">1</div><div class="nob  midNob" style="left:20px;top:148.5px;transform         :rotate(0deg);-webkit-transform :rotate(0deg);-o-transform      :rotate(0deg);-moz-transform    :rotate(0deg)"></div><div class="numb"></div><div class="nob " style="left:19.262527369197727px;top:115.63547153554882px;transform         :rotate(15deg);-webkit-transform :rotate(15deg);-o-transform      :rotate(15deg);-moz-transform    :rotate(15deg)"></div><div class="numb " style="left:55.06901970582237px;top:111.69753950559515px;">5</div><div class="nob  midNob" style="left:36.75940324362034px;top:85.97821808503205px;transform         :rotate(30deg);-webkit-transform :rotate(30deg);-o-transform      :rotate(30deg);-moz-transform    :rotate(30deg)"></div><div class="numb"></div><div class="nob " style="left:51.638335216160755px;top:59.584977539852304px;transform         :rotate(45deg);-webkit-transform :rotate(45deg);-o-transform      :rotate(45deg);-moz-transform    :rotate(45deg)"></div><div class="numb " style="left:78.37960135563574px;top:71.34118382869366px;">10</div><div class="nob  midNob" style="left:82.54357142116501px;top:40.2216802440263px;transform         :rotate(60deg);-webkit-transform :rotate(60deg);-o-transform      :rotate(60deg);-moz-transform    :rotate(60deg)"></div><div class="numb"></div><div class="nob " style="left:107.70836340536326px;top:27.243011771409613px;transform         :rotate(75deg);-webkit-transform :rotate(75deg);-o-transform      :rotate(75deg);-moz-transform    :rotate(75deg)"></div><div class="numb " style="left:118.75002165186154px;top:48.054968475414924px;">15</div><div class="nob  midNob" style="left:145.07545914605475px;top:23.50002277633297px;transform         :rotate(90deg);-webkit-transform :rotate(90deg);-o-transform      :rotate(90deg);-moz-transform    :rotate(90deg)"></div><div class="numb"></div><div class="nob " style="left:172.4374085399412px;top:27.282086966295893px;transform         :rotate(105deg);-webkit-transform :rotate(105deg);-o-transform      :rotate(105deg);-moz-transform    :rotate(105deg)"></div><div class="numb " style="left:165.35493414875768px;top:48.08310261573304px;">20</div><div class="nob  midNob" style="left:207.58711246683015px;top:40.29716568839635px;transform         :rotate(120deg);-webkit-transform :rotate(120deg);-o-transform      :rotate(120deg);-moz-transform    :rotate(120deg)"></div><div class="numb"></div><div class="nob " style="left:228.4683479161363px;top:59.6917250933444px;transform         :rotate(135deg);-webkit-transform :rotate(135deg);-o-transform      :rotate(135deg);-moz-transform    :rotate(135deg)"></div><div class="numb " style="left:205.69721049961814px;top:71.41804206720796px;">30</div><div class="nob  midNob" style="left:253.31600329663866px;top:86.10894751775253px;transform         :rotate(150deg);-webkit-transform :rotate(150deg);-o-transform      :rotate(150deg);-moz-transform    :rotate(150deg)"></div><div class="numb"></div><div class="nob " style="left:260.7764598199566px;top:115.78126704293882px;transform         :rotate(165deg);-webkit-transform :rotate(165deg);-o-transform      :rotate(165deg);-moz-transform    :rotate(165deg)"></div><div class="numb " style="left:228.95905107036873px;top:111.80251227091595px;">50</div><div class="nob  midNob" style="left:269.9999088946764px;top:148.6509182646106px;transform         :rotate(180deg);-webkit-transform :rotate(180deg);-o-transform      :rotate(180deg);-moz-transform    :rotate(180deg)"></div><div class="numb"></div><div class="nob " style="left:260.69830944442384px;top:180.5102767945478px;transform         :rotate(195deg);-webkit-transform :rotate(195deg);-o-transform      :rotate(195deg);-moz-transform    :rotate(195deg)"></div><div class="numb " style="left:228.90278279998515px;top:158.40739929207442px;">75</div><div class="nob  midNob" style="left:253.16503243540717px;top:211.15242021061368px;transform         :rotate(210deg);-webkit-transform :rotate(210deg);-o-transform      :rotate(210deg);-moz-transform    :rotate(210deg)"></div><div class="numb"></div><div class="nob " style="left:228.2548528480532px;top:236.5216411323721px;transform         :rotate(225deg);-webkit-transform :rotate(225deg);-o-transform      :rotate(225deg);-moz-transform    :rotate(225deg)"></div><div class="numb " style="left:205.5434940505983px;top:198.73558161530792px;">100</div></div></div><style>#speedometerWraper-myValues .envelope{width  :300px;height :300px;}#speedometerWraper-myValues .speedNobe{height            :4px;top               :148px;transform         :rotate(-45deg);-webkit-transform :rotate(-45deg);-moz-transform    :rotate(-45deg);-o-transform      :rotate(-45deg);}#speedometerWraper-myValues .speedPosition{width  :80px;height :80px;top  :110px;left :110px;}#speedometerWraper-myValues .speedNobe div{width  :95px;left :13px;}#speedometerWraper-myValues .nob{width  :20px;height :4px;}#speedometerWraper-myValues .numb{width  :30px;height :16px;}#speedometerWraper-myValues .midNob{width  :10px;height :3px;}</style><div class="envelope"><div class="speedNobe">,<div></div>,</div>,<div class="speedPosition"></div><div class="nob " style="left:51.638335216160755px;top:236.4150224601477px;transform         :rotate(-45deg);-webkit-transform :rotate(-45deg);-o-transform      :rotate(-45deg);-moz-transform    :rotate(-45deg)"></div><div class="numb " style="left:78.37960135563574px;top:198.65881617130634px;">0</div><div class="nob  midNob" style="left:36.75940324362034px;top:211.02178191496796px;transform         :rotate(-30deg);-webkit-transform :rotate(-30deg);-o-transform      :rotate(-30deg);-moz-transform    :rotate(-30deg)"></div><div class="numb"></div><div class="nob " style="left:19.262527369197727px;top:180.36452846445118px;transform         :rotate(-15deg);-webkit-transform :rotate(-15deg);-o-transform      :rotate(-15deg);-moz-transform    :rotate(-15deg)"></div><div class="numb " style="left:55.06901970582237px;top:158.30246049440484px;">1</div><div class="nob  midNob" style="left:20px;top:148.5px;transform         :rotate(0deg);-webkit-transform :rotate(0deg);-o-transform      :rotate(0deg);-moz-transform    :rotate(0deg)"></div><div class="numb"></div><div class="nob " style="left:19.262527369197727px;top:115.63547153554882px;transform         :rotate(15deg);-webkit-transform :rotate(15deg);-o-transform      :rotate(15deg);-moz-transform    :rotate(15deg)"></div><div class="numb " style="left:55.06901970582237px;top:111.69753950559515px;">5</div><div class="nob  midNob" style="left:36.75940324362034px;top:85.97821808503205px;transform         :rotate(30deg);-webkit-transform :rotate(30deg);-o-transform      :rotate(30deg);-moz-transform    :rotate(30deg)"></div><div class="numb"></div><div class="nob " style="left:51.638335216160755px;top:59.584977539852304px;transform         :rotate(45deg);-webkit-transform :rotate(45deg);-o-transform      :rotate(45deg);-moz-transform    :rotate(45deg)"></div><div class="numb " style="left:78.37960135563574px;top:71.34118382869366px;">10</div><div class="nob  midNob" style="left:82.54357142116501px;top:40.2216802440263px;transform         :rotate(60deg);-webkit-transform :rotate(60deg);-o-transform      :rotate(60deg);-moz-transform    :rotate(60deg)"></div><div class="numb"></div><div class="nob " style="left:107.70836340536326px;top:27.243011771409613px;transform         :rotate(75deg);-webkit-transform :rotate(75deg);-o-transform      :rotate(75deg);-moz-transform    :rotate(75deg)"></div><div class="numb " style="left:118.75002165186154px;top:48.054968475414924px;">15</div><div class="nob  midNob" style="left:145.07545914605475px;top:23.50002277633297px;transform         :rotate(90deg);-webkit-transform :rotate(90deg);-o-transform      :rotate(90deg);-moz-transform    :rotate(90deg)"></div><div class="numb"></div><div class="nob " style="left:172.4374085399412px;top:27.282086966295893px;transform         :rotate(105deg);-webkit-transform :rotate(105deg);-o-transform      :rotate(105deg);-moz-transform    :rotate(105deg)"></div><div class="numb " style="left:165.35493414875768px;top:48.08310261573304px;">20</div><div class="nob  midNob" style="left:207.58711246683015px;top:40.29716568839635px;transform         :rotate(120deg);-webkit-transform :rotate(120deg);-o-transform      :rotate(120deg);-moz-transform    :rotate(120deg)"></div><div class="numb"></div><div class="nob " style="left:228.4683479161363px;top:59.6917250933444px;transform         :rotate(135deg);-webkit-transform :rotate(135deg);-o-transform      :rotate(135deg);-moz-transform    :rotate(135deg)"></div><div class="numb " style="left:205.69721049961814px;top:71.41804206720796px;">30</div><div class="nob  midNob" style="left:253.31600329663866px;top:86.10894751775253px;transform         :rotate(150deg);-webkit-transform :rotate(150deg);-o-transform      :rotate(150deg);-moz-transform    :rotate(150deg)"></div><div class="numb"></div><div class="nob " style="left:260.7764598199566px;top:115.78126704293882px;transform         :rotate(165deg);-webkit-transform :rotate(165deg);-o-transform      :rotate(165deg);-moz-transform    :rotate(165deg)"></div><div class="numb " style="left:228.95905107036873px;top:111.80251227091595px;">50</div><div class="nob  midNob" style="left:269.9999088946764px;top:148.6509182646106px;transform         :rotate(180deg);-webkit-transform :rotate(180deg);-o-transform      :rotate(180deg);-moz-transform    :rotate(180deg)"></div><div class="numb"></div><div class="nob " style="left:260.69830944442384px;top:180.5102767945478px;transform         :rotate(195deg);-webkit-transform :rotate(195deg);-o-transform      :rotate(195deg);-moz-transform    :rotate(195deg)"></div><div class="numb " style="left:228.90278279998515px;top:158.40739929207442px;">75</div><div class="nob  midNob" style="left:253.16503243540717px;top:211.15242021061368px;transform         :rotate(210deg);-webkit-transform :rotate(210deg);-o-transform      :rotate(210deg);-moz-transform    :rotate(210deg)"></div><div class="numb"></div><div class="nob " style="left:228.2548528480532px;top:236.5216411323721px;transform         :rotate(225deg);-webkit-transform :rotate(225deg);-o-transform      :rotate(225deg);-moz-transform    :rotate(225deg)"></div><div class="numb " style="left:205.5434940505983px;top:198.73558161530792px;">100</div></div></div>
                        </div>

                        <div class="action" style="display: block" id="id-stop-speedtest">
                            <button class="btn btn-outline" onclick="EndSpeedCheck()">结束检测</button>
                        </div>

                    </div>

                    <div style="display: none" id="id-end-speedometer">
                        <div class="status">
                            <img src="index_files/icon_speedometer_success.png">
                        </div>
                        <h4>检测完毕</h4>
                        <p style="margin-bottom: 6px;">系统已自动为您选择最优网络</p>
                        <p id="id-end-speedtest-with-failed" style="font-size: 11.3px"><span class="success-proxy-counter">0</span>条线路成功检测 | <span class="failed-proxy-counter">0</span>条线路待检测</p>
                        <p id="id-end-speedtest-without-failed" style="font-size: 11.3px"><span class="success-proxy-counter">0</span>条线路成功检测 </p>
                        <br>
                        <div class="action">
                            <button class="btn btn-outline" onclick="ReSpeedCheck()">重新检测</button>
                        </div>
                    </div>

                </div>

                <div class="white-panel">
                    <h4 class="title">自动检测最佳线路</h4>
                    <p id="id-display-balance-speedtest-counter">剩余待检测线路： <span class="id-balance-checking-speedtest">0</span></p>
                    <p id="id-display-curr-connected-proxy" style="background-color: #E6F2FF;height: 27px;padding-top: 3px;border-radius: 7px;padding-left: 9px;display: none">已连接最优网络： <span class="id-current-connect-proxy">-</span></p>
                    <br>
                    <table style="width: 100%">
                        <tbody><tr>
                            <td>
                                <div style="width: 100%;">
                                    <table class="table-speedtest">
                                        <thead>
                                        <tr>
                                            <th>线路</th>
                                            <th>网络延迟</th>
                                            <th>网速</th>
                                        </tr>
                                        </thead>
                                    </table>
                                </div>
                            </td>
                        </tr>

                        <tr>
                            <td>
                                <div style="height: 417px ; width: 100%; overflow:auto;">
                                    <table class="table-speedtest" id="id-table-speedtest">
                                        <tbody class="speedtest-table">

                                        </tbody>
                                    </table>
                                </div>
                            </td>
                        </tr>

                    </tbody></table>
                </div>

            </div>

            
            <div class="getMobileApp-panel" id="getMobileApp_box" style="background-image: url('./static/sb/dist/img/icon/get_moblie_app_bg.png') ">
                <div class="close-box-btn" onclick="close_box_btn()"></div>
                
                
                
                <p class="title">获取佛跳墙手机APP</p>
                <div class="getMobileApp-panel-qrcode">
                    <img src="index_files/qrcode.png" alt="" style="width: 150px;height: 150px;border-radius:10px;">
                    
                </div>
                <div class="getMobileApp-panel-qrcode-tips">
                    扫描时请注意，使用支付宝、ＱＱ、微信扫描后，点击右上角<span>【在浏览器打开】</span>下载，否则无法成功下载安装
                    <img src="index_files/share_screenshot.jpg" class="getMobileApp-Download-FlowImg" style="display: none;" width="350px" height="500px">
                    <img src="index_files/get_moblie_app_q.png" onmouseover="javascript:showGetMobileAppDownloadFlowImg(true, this);" onmouseout="javascript:showGetMobileAppDownloadFlowImg(false, this);">
                </div>
                <div class="getMobileApp-panel-link">
                    <a class="getMobileApp-panel-link-tips" href="https://getftq.internetedu.site/" target="_blank">
                        https://getftq.internetedu.site/
                    </a>
                </div>
                <div class="getMobileApp-panel-desc2">
                <span class="getMobileApp-panel-desc2-tips">
                点击链接进入下载页面，在页面下方，获取佛跳墙最新版本下载地址
                </span>
                </div>
            </div>

            
            <div class="mask" id="have_update">
                <div class="new-version" style="display: block;margin: auto;margin-top: 13%;min-height: 315px">
                   
                    <div style="margin-top: -91px;height: 9rem">
                        <img style="width: 183px" src="index_files/VersionUpgrade.png">
                    </div>
                    <h3 style="padding-top: 40px;padding-bottom: 17px;font-weight: bolder;color: black">立即更新  <span class="version_num">2.7.9</span></h3>
                    <p class="version_log" style="padding: 0 36px 0 36px;text-align: left;"></p>
                    <br>

                    <div style="margin-top: 19px;width: 82%;left: 44px;position: relative;min-height: 51px;padding-left: 0;padding-right: 0;margin-bottom: 10px">
                        
                        <a href="javascript:void(0);" target="_blank" class="col-sm-12 switchaccount" style="width: 100%;margin-left: 5px;"><span style="background-color: #1e7deb;color: #ffffff">立即更新</span></a>

                    </div>

                    <div style="position: relative;min-height: 1px;padding-left: 0;padding-right: 0">
                        
                        <p style="padding: 20px 36px 20px 36px;text-align: left;background-color: #FFF1C1;color:#707070; ">
                            <i style="margin-top: 4px;height: 17px" class="ff-icon icon-alert-black"></i>
                            <span>1. 下载完成后，双击运行更新安装包，根据系统提示进行安装 </span>
                            <span>2.  安装完毕后，应用程序将自动重启即完成更新 </span>
                        </p>
                    </div>
                </div>
            </div>


            

            
            <div class="new-version" id="have_beta_update" style="position: relative;">
                <div class="close-box-btn" onclick="close_box_btn()"></div>
                <div style="margin-top: -91px;height: 9rem">
                    <img style="width: 183px" src="index_files/img_beta_VersionUpgrade.png">
                </div>
                <h3 style="padding-top: 40px;padding-bottom: 17px;font-weight: bolder">立即更新  <span class="version_num">2.7.9</span></h3>
                <p class="version_log" style="padding: 0 36px 0 36px;text-align: left"></p>
                <br>

                <div class="col-sm-12" style="margin-top: 19px;width: 82%;left: 44px;">
                    <div class="col-sm-6 switchaccount" onclick="close_box_btn()" style="width: 49%"><span>暂不更新</span></div>
                    <a href="javascript:void(0);" target="_blank" class="col-sm-6 switchaccount" style="width: 49%;margin-left: 5px;"><span style="background-color: #1e7deb;color: #ffffff">立即更新</span></a>

                </div>

                <div class="col-sm-12">
                   
                    <p style="padding: 20px 36px 20px 36px;text-align: left;background-color: #FFF1C1;color:#707070; ">
                        <i style="margin-top: 4px;height: 17px" class="ff-icon icon-alert-black"></i>Beta版可能不太稳定，并且可能会有一些小问题(又称为“错误”)。如果您发现任何错误，欢迎向我们提供反馈

                    </p>
                </div>
            </div>

            <div class="new-version" id="no-update">
                <div class="fz24">最新版本 <span class="version_num">2.7.9</span></div>
                <p class="updated-text fz16">已是最新版本</p>
            </div>
            <div class="user-disabled-box new-version" id="user-disabled-view">
                
                <p class="updated-text fz16">用户账号状态异常</p>
            </div>
            <div class="user-danger-view new-version" id="user-danger-view">
                <p class="updated-text fz16">您当前环境出现故障，请稍候再试</p>
            </div>
            
            <div class="signout-confirm-box" id="signout_confirm">
                <div class="fz24">是否回到游客模式？<span></span></div>
                <div class="signout-text fz16">
                    <p></p>
                </div>
                <button class="signout-confirm-btn fz16" id="signout_confirm_btn" onclick="signout()">
                    是的
                </button>
            </div>

            
            <div class="swap-bind-tips" id="tip-swap-bind-confirmed">
                <div class="close-box-btn" onclick="close_box_btn()"></div>
                <div style="text-align: -webkit-center;padding-top: 28px">
                    <img src="index_files/img_bell.png">
                </div>

                <br>
                <p class="swap-bind-important-tips">重要提示：</p>
                <p style="padding: 0 36px 0 36px;text-align: left;font-family: 'Noto Sans SC'">请确认是否将手机号 <span id="id-swap-tip-phone" style="font-weight: bold"></span> 换绑到邮箱地址  <span id="id-swap-tip-mail" style="font-weight: bold"></span>?
                </p>
                <br>
                <p style="padding: 0 36px 0 36px;text-align: left;color: #4A4A4A;font-family: 'Noto Sans SC';font-weight: lighter">换绑邮箱成功后，手机号会被解绑。 如果您有其他已登录的设备将会自动注销，请使用邮箱地址重新登录。</p>
                <div class="col-sm-12" style="margin-top: 19px;width: 82%;left: 44px;">
                    <div class="col-sm-6 switchaccount" style="width: 49%"><span onclick="close_box_btn()">取消</span></div>
                    <div class="col-sm-6 switchaccount" style="width: 49%;margin-left: 5px;"><span onclick="signup_swap_post()" style="background-color: #1e7deb;color: #ffffff">确定</span></div>
                </div>
            </div>

            
            <div class="swap-bind-tips" id="tip-nonfree-signin-confirmed">
                <div class="close-box-btn" onclick="close_box_btn()"></div>
                <div style="text-align: -webkit-center;padding-top: 28px">
                    <img src="index_files/img_bell.png">
                </div>

                <br>
                <p class="swap-bind-important-tips">切换登录提示：</p>

                <br>
                <p style="padding: 0 36px 0 36px;text-align: left;color: #4A4A4A;font-family: 'Noto Sans SC';">发现您当前账号尚未绑定，切换登录将注销您当前账号且无法再登录。请绑定当前账号，或确认切换登录。</p>
                <div class="col-sm-12" style="margin-top: 19px;width: 82%;left: 44px;">
                    <div class="col-sm-6 switchaccount" style="width: 49%"><span onclick="show_bind_view()">绑定当前账号</span></div>
                    <div class="col-sm-6 switchaccount" style="width: 49%;margin-left: 5px;"><span onclick="switchbtn()" style="background-color: #1e7deb;color: #ffffff">确认并切换</span></div>
                </div>
            </div>

            
            

            
            <div class="free-version-cannot-change-line-cls" id="free-version-cannot-change-line">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>
                <div class="free-change-line-title">温馨提示</div>
                <div class="free-version-change-line-tip">
                    <p>您当前连接的是免费版线路，限速100KB/S，网速缓慢存在掉线风险，确定继续连接？</p>
                    <p>升级到专业版可以获取更快的上网速度，尊享更稳定的VIP专用推荐线路</p>
                </div>
                <div class="free-version-change-line-button">
                    <button class="continue_connect" onclick="clickContinueConnect($(this));">继续连接免费线路</button>
                    <button class="update_btn">立即升级</button>
                </div>
            </div>
            
            <div class="free-version-cannot-change-line-cls" id="free-version-cannot-change-vip-line">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>
                <div class="free-change-line-title">温馨提示</div>
                <div class="free-version-change-vip-line-tip">
                    <p>您当前连接的是VIP线路，VIP线路需要<span>升级至专业版</span>方可享受，VIP线路比免费线路上网速度快<span>20倍</span>以上，且线路更加稳定不易掉线，是否选择<span>升级至专业版</span>尊享VIP服务？</p>
                </div>
                <div class="free-version-change-vip-line-button center-cls">
                    <button class="update_btn">立即升级</button>
                </div>
            </div>
            
            <div class="free-version-cannot-change-line-cls same-line-box" id="free-version-cannot-change-same-line">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>
                <div class="free-change-line-title">温馨提示</div>
                <div class="free-version-change-same-line">
                    <p>您当前正在连接该线路，如果该线路在使用过程中存在卡顿、慢、一直加载中等问题，您可以在线路列表中点击其他线路进行切换。</p>
                </div>
            </div>
            
            <div class="report-problem-box" id="report_problem_view">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>
                <div class="report-problem-title">问题反馈</div>
                <form method="post" class="report-problem-form-cls" id="report-problem-form">
                    <table class="report-problem-table">
                        <tbody><tr>
                            <td>问题反馈</td>
                            <td>
                                <select name="problem_type" id="problem_type">
                                    
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>手机号码</td>
                            <td>
                                <input class="inputng number-control" name="user_mail" type="number" maxlength="15" required="" oninvalid="this.setCustomValidity('此字段为必须，请按提示输入')" oninput="setCustomValidity('')">
                            </td>
                        </tr>
                        <tr>
                            <td>问题描述</td>
                            <td>
                                <textarea rows="8" cols="20" style="resize:none;" name="problem_description" required="" maxlength="500" onkeydown="if (this.value.length>=500){event.returnValue=false}"></textarea>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td><button class="green-btn" id="submit-problem-report">提交</button></td>
                        </tr>
                    </tbody></table>

                </form>
            </div>

            
            <div class="anti-lost-box" id="anti_lost_view">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>
                <div class="center-cls">
                    <img src="index_files/info.png">
                </div>
                <div class="anti-lost-box-title">系统维护中！ 很抱歉，目前系统正在更新维护中，若造成您不便，敬请见谅！ 若有任何疑问欢迎联络客服。</div>
                
            </div>

            <div class="anti-lost-box" id="server-error-box" style="display: none">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>
                <div class="center-cls">
                    <img src="index_files/info.png">
                </div>
                <div class="anti-lost-box-title">系统维护中！ 很抱歉，目前系统正在更新维护中，若造成您不便，敬请见谅！ 若有任何疑问欢迎联络客服。</div>
            </div>

            
            <div class="reporting-problem-box" id="reporting_problem_view">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>
                <div class="report-success">
                    <div class="center-cls">
                        <img src="index_files/ok.png">
                    </div>
                    <div class="center-cls">
                        <div class="report-success-title">提交完成!</div>
                    </div>
                    <div class="progress-div">
                        <div class="progress-bar">
                            <div class="progress">
                            </div>
                        </div>
                        <div class="progress-value">20%</div>
                    </div>
                </div>
                <div class="report-overtime-failed">
                    <div class="center-cls">
                        <img src="index_files/overtime.png">
                    </div>
                    <div class="center-cls">
                        <div class="report-overtime-title">服务器请求失败，请您重新尝试</div>
                    </div>
                    <div class="center-cls">
                        <button class="green-btn padding-lr-40" onclick="show_report_problem_view()">返回重新提交</button>
                    </div>
                </div>
                <div class="report-processing">
                    <div class="center-cls">
                        <img src="index_files/reporting.png">
                    </div>
                    <div class="center-cls">
                        <div class="report-processing-title">问题提交中...</div>
                    </div>
                    <div class="progress-div">
                        <div class="progress-bar">
                            <div class="progress">
                            </div>
                        </div>
                        <div class="progress-value">20%</div>
                    </div>
                </div>
            </div>
            
            <div class="user-over-limit-cls" id="user-over-limit">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>
                <div class="pac-tips-title-cls center-cls">温馨提示</div>
                <p class="user-over-limit-descp">您好，您的账户登录了3个设备，无法再登录新的设备，如果您想登录新的设备，可以选择：</p>
                <div class="center-cls">
                    <button class="logout-all-device disable-btn" onclick="logout_all_device()">注销已登录设备</button>
                    <button class="logout-other-account green-btn" onclick='(function(){toggleAlertBox($("#login"));})();'>登录其他账户</button>
                </div>
            </div>
            
            <div class="logout-all-device-success" id="logout-all-device-success">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>
                <div class="pac-tips-title-cls center-cls">温馨提示</div>
                <p class="user-over-limit-logout-success-descp">已经注销当前账户已登录的设备，可以登录新的设备了</p>
                <div class="center-cls">
                    <button class="login-cur-device green-btn" onclick="signin(curUserInfo);">登录当前设备</button>
                </div>
            </div>

            
            <div class="scrollable-mask" id="membership_activity_view">
                <div class="membership-activity-box" style="display: block; visibility: visible;">
                    <div class="fission-wrapper" style="display:block;">
                        <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>
                        <div id="display-text-header" name="display-text-header"><h2 style="font-weight: bolder;color:yellow;padding-top: 2%">邀请好友</h2></div>
                        <div class="fission-header" id="activity-text1" style="display:block;margin-top: -8%;">
                            <h3 name="reward-rule1" style="margin-bottom: 10px;">
                                <br>
                                <br>
                                <span id="id-floatactivity-rule3"></span>
                                
                                <br>
                                <span class="promo-gold"><span id="id-activity-reward-day">永久 </span> 专业版会员</span>
                            </h3>
                            <p style="display: none" id="getActivityExpText"></p>
                        </div>

                        <div class="fission-header" id="activity-text2" style="display: none">
                            <h1 class="promo-gold" style="padding-top:35px;"> 活动已截止  </h1>
                            <p>  本期活动已结束，请您下期再来！  </p>
                        </div>
                        <div class="invite-bg-code">
                            
                            <h4 id="invite_tip">- 邀请小诀窍 -</h4>
                            <ul class="invite-tip-container" id="invite-tip-container">
                                <li class="invite-tip">
                                    <div class="invite-tip-no"> 1 </div>
                                    <p>
                                        好友通过分享链接下载安装后，无需输入邀请码，您会立即获得专业版会员奖励！
                                    </p>
                                </li>
                                <li class="invite-tip">
                                    <div class="invite-tip-no"> 2 </div>
                                    <p id="getFreeToVIPText3"></p>
                                </li>

                            </ul>
                            <div class="my-code" style="display: none">
                                <div class="invi-code-long">
                                    <span class="text-primary"> 我的兑换码 </span> <span class="text-warning" id="refCode" onclick="copyRefCode()">vr7hwJ4R</span>
                                </div>
                            </div>

                            <div class="invited-info">
                                <div class="invited-box">
                                    <img src="index_files/pax.png"> <span>已邀请人数</span> <span class="text-warning" id="total-invited-count">0</span>
                                </div>
                                <div class="invited-box">
                                    <img src="index_files/rocket1.png"><span>总共获得专业版时长 </span>  <span class="text-warning" id="total-free-reward">0 天</span>
                                </div>
                            </div>
                            
                            <div class="text-center" style="font-weight: bolder;cursor:pointer;"><a onclick="show_reward_rule_view()" stlye="color:#1E7DEB;">活动规则详情</a></div>
                            <div class="invite-url">
                                <label>下载地址：</label>
                                <a style="font-weight: bolder;" class="url" id="id-float-activity-url">-</a>
                                <button class="btn btn-sm btn-orange" onclick="getActivitySharedContent()">复制</button>
                            </div>

                            <div class="download-qr" id="id-activity-download" style="display: block;z-index: -1;position: absolute;margin-top: -40rem;width: 38rem">
                                <div class="title">
                                    <img style="margin-left: 0%" src="index_files/title.png">
                                    <p style="width: 100%;margin-left: -2%;background: url('#') ;"><span id="id-activity-qr-rule3">分享0个好友，您即可获得</span><highlight><span id="id-activity-qr-reward-day">永久 </span> 专业版会员</highlight></p>
                                </div>
                                <div class="qrcode" style="margin-left: 13%" id="id-activity-qrcode-download">
                                </div>
                                <div style="display: block;margin-left: -7%">立即扫描并下载佛跳墙APP</div>
                            </div>

                            <div class="qrcode" id="id-activity-qrcode">
                                

                            </div>

                            <a class="btn btn-blue" onclick="saveQRImage()" id="id-btn-saveqr" style="margin-left:35%">保存二维码图片</a>
                            
                            
                            
                        </div>
                        <a class="bottom-link" onclick="getActivityReferListPage()">
                            查询邀请记录
                        </a>
                    </div>

                </div>
            </div>

            
            

            <style>
                .scrollable-mask{
                    position: fixed;
                    z-index: 1000;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                     
                    overflow: auto;
                    padding: 30px 0;
                }

                .scrollable-mask .fission-wrapper{
                    margin: 0 auto;
                }
            </style>



            
            <div class="membership-refer-list-box" id="membership_refer_list_view">
                <div class="claim-red-bg">
                    <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"> </div>
                    <h2>邀请记录</h2>
                    <ul class="records-list" name="invited-list" id="invited-list">
                        <li>

                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="claim-red-bg" id="membership_no_refer_list_view">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"> </div>
                <ul class="records-list no-records">
                    <h2>邀请记录</h2>
                    <img src="index_files/sad.svg">
                    <p class="text-warning">
                        没有邀请记录!
                    </p>
                    <p>
                        您还未邀请好友，未获得专业版会员!
                    </p>
                    <button class="btn-block btn-warning" onclick="show_no_refer_view()"> 免费去领专业版 </button>
                </ul>
            </div>
            
            <div class="mask" id="fission_reminder">
                <div class="modal-box" style="display: block;margin: auto;margin-top: 13%;">
                    <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"></div>
                    <div class="modal-title text-primary">温馨提示</div>
                    <div class="modal-content-lg">
                        <p> <b>确定要放弃 领取专业版会员 ？</b> </p> <p>跳过后，可在侧边栏，找到【绑定兑换码】入口 </p>
                    </div>
                    
                    
                    <div class="btn-group">
                        <button class="btn-warning" onclick="close_fission_reminder_view(1)">我再想想 </button>
                        <button class="btn-primary" onclick="close_fission_reminder_view(0)">确定跳过 </button>
                    </div>
                </div>
            </div>

            
            

            
            <div class="modal" id="tutorial-1" tabindex="-1" aria-labelledby="exampleModalCenterTitle" style="display: block; background: rgb(0 0 0 / 19%);" aria-modal="true" role="dialog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content modal-content-tutorial">
                        <div class="modal-header" style="border-bottom: 0px solid rgb(222 226 230 / 0%); padding-bottom:0px;">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="close_box_btn()">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body p-0">

                            <h3 class="modal-title text-primary text-center font-weight-bolder mb-2">新手指引 </h3>
                            <p class="text-center mb-2">通过几个简单的步骤来了解如何使用佛跳墙吧！  <br> 通过几个步骤来学习加速器如何使用吧!</p>
                            
                            <div class="d-flex justify-content-center">
                                <img src="index_files/pc-intro.png" class="col-8 mx-auto my-3">
                            </div>
                        </div>
                        <div class="modal-footer d-flex justify-content-center pt-0 pb-3" style="  border-top: 0px solid rgb(222 226 230 / 0%);">
                            <button type="button" class="btn btn-danger btn-danger-curve" onclick="tutorialhandler(2)">进入教学</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal" id="tutorial-2" tabindex="2" aria-labelledby="exampleModalCenterTitle" style="display: block; background: rgb(0 0 0 / 19%);" aria-modal="true" role="dialog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content modal-content-tutorial">
                        <div class="modal-header" style="border-bottom: 0px solid rgb(222 226 230 / 0%); padding-bottom:0px;">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="close_box_btn()">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="d-flex justify-content-center">
                                <img src="index_files/pc01.png" class="col-8 mx-auto mb-0">
                            </div>
                            <h5 class="modal-title text-primary text-center font-weight-bolder mb-2 mt-3">
                                注冊账号
                            </h5>
                            <p class="text-center mb-3"><span>点击</span><span style="color: red;">注冊账号</span><span>绑定您的邮箱。</span>
                            </p><br>
                        </div>
                        <div class="modal-footer d-flex justify-content-center pt-0 pb-3">
                            <div class="d-flex justify-content-between w-100">
                                <div class="p-0 col-4 d-flex align-items-center"> <button type="button" class="btn btn-link text-secondary p-0  " onclick="close_box_btn()">
                                        <svg width="1.5em" height="1.5em" viewBox="0 0 19 19" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>跳过
                                    </button> </div>
                                <div class="p-0 col-4 text-center"><span id="tutorial-page1">1/8</span></div>
                                <div class="p-0 col-4 text-right"> <button type="button" class="btn  p-0 btn-link" onclick="tutorialhandler(3)" style="color: dodgerblue">
                                        下一步<svg width="1em" height="1em" viewBox="0 0 19 19" class="bi bi-chevron-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal" id="tutorial-3" tabindex="3" aria-labelledby="exampleModalCenterTitle" style="display: block; background: rgb(0 0 0 / 19%);" aria-modal="true" role="dialog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content modal-content-tutorial">
                        <div class="modal-header" style="border-bottom: 0px solid rgb(222 226 230 / 0%); padding-bottom:0px;">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="close_box_btn()">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="d-flex justify-content-center">
                                <img src="index_files/pc02.png" class="col-8 mx-auto mb-0">
                            </div>
                            <h5 class="modal-title text-primary text-center font-weight-bolder mb-2 mt-3">
                                登录账号
                            </h5>
                            <p class="text-center mb-3"><span>点击</span><span style="color: red">切换账号</span><span>点击这里可以登录您已注册/绑定的账号。</span>
                            </p><br>
                        </div>
                        <div class="modal-footer d-flex justify-content-center pt-0 pb-3">
                            <div class="d-flex justify-content-between w-100">
                                <div class="p-0 col-4 d-flex align-items-center"> <button type="button" class="btn btn-link text-secondary p-0  " onclick="close_box_btn()">
                                        <svg width="1.5em" height="1.5em" viewBox="0 0 19 19" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>跳过
                                    </button> </div>
                                <div class="p-0 col-4 text-center"><span id="tutorial-page2">2/8</span></div>
                                <div class="p-0 col-4 text-right"> <button type="button" class="btn  p-0 btn-link" onclick="tutorialhandler(4)" style="color: dodgerblue">
                                        下一步<svg width="1em" height="1em" viewBox="0 0 19 19" class="bi bi-chevron-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal" id="tutorial-4" tabindex="4" aria-labelledby="exampleModalCenterTitle" style="display: block; background: rgb(0 0 0 / 19%);" aria-modal="true" role="dialog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content modal-content-tutorial">
                        <div class="modal-header" style="border-bottom: 0px solid rgb(222 226 230 / 0%); padding-bottom:0px;">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="close_box_btn()">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="d-flex justify-content-center">
                                <img src="index_files/pc03.png" class="col-8 mx-auto mb-0">
                            </div>
                            <h5 class="modal-title text-primary text-center font-weight-bolder mb-2 mt-3">
                                一键即连
                            </h5>
                            <p class="text-center mb-3"> 连接成功后即可上外网，让您畅游天下。
                            </p><br>
                        </div>
                        <div class="modal-footer d-flex justify-content-center pt-0 pb-3">
                            <div class="d-flex justify-content-between w-100">
                                <div class="p-0 col-4 d-flex align-items-center"> <button type="button" class="btn btn-link text-secondary p-0" onclick="close_box_btn()">
                                        <svg width="1.5em" height="1.5em" viewBox="0 0 19 19" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>跳过
                                    </button> </div>
                                <div class="p-0 col-4 text-center"><span id="tutorial-page3">3/8</span></div>
                                <div class="p-0 col-4 text-right"> <button type="button" class="btn  p-0 btn-link" onclick="tutorialhandler(5)" style="color: dodgerblue">
                                        下一步<svg width="1em" height="1em" viewBox="0 0 19 19" class="bi bi-chevron-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal" id="tutorial-5" tabindex="5" aria-labelledby="exampleModalCenterTitle" style="display: block; background: rgb(0 0 0 / 19%);" aria-modal="true" role="dialog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content modal-content-tutorial">
                        <div class="modal-header" style="border-bottom: 0px solid rgb(222 226 230 / 0%); padding-bottom:0px;">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="close_box_btn()">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="d-flex justify-content-center">
                                <img src="index_files/pc04.png" class="col-8 mx-auto mb-0">
                            </div>
                            <h5 class="modal-title text-primary text-center font-weight-bolder mb-2 mt-3">
                                节点任你选
                            </h5>
                            <p class="text-center mb-3"> 节点任你选 <span style="color: red">【手动切换线路】</span>进入线路列表，即可切换线路。当连接出现问题时 也可以尝试切换线路。
                            </p>
                        </div>
                        <div class="modal-footer d-flex justify-content-center pt-0 pb-3">
                            <div class="d-flex justify-content-between w-100">
                                <div class="p-0 col-4 d-flex align-items-center"> <button type="button" class="btn btn-link text-secondary p-0  " onclick="close_box_btn()">
                                        <svg width="1.5em" height="1.5em" viewBox="0 0 19 19" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>跳过
                                    </button> </div>
                                <div class="p-0 col-4 text-center"><span id="tutorial-page4">4/8</span></div>
                                <div id="id-tutorial-button-plan1" class="p-0 col-4 text-right"> <button type="button" class="btn  p-0 btn-link" onclick="tutorialhandler(6)" style="color: dodgerblue;display: block">
                                        下一步<svg width="1em" height="1em" viewBox="0 0 19 19" class="bi bi-chevron-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>
                                    </button>
                                </div>
                                <div id="id-tutorial-button-plan2" class="p-0 col-4 text-right"> <button type="button" class="btn  p-0 btn-link" onclick="tutorialhandler(7)" style="color: dodgerblue;display: block">
                                        下一步<svg width="1em" height="1em" viewBox="0 0 19 19" class="bi bi-chevron-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div class="modal" id="tutorial-6" tabindex="6" aria-labelledby="exampleModalCenterTitle" style="display: block; background: rgb(0 0 0 / 19%);" aria-modal="true" role="dialog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content modal-content-tutorial">
                        <div class="modal-header" style="border-bottom: 0px solid rgb(222 226 230 / 0%); padding-bottom:0px;">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="close_box_btn()">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="d-flex justify-content-center">
                                <img src="index_files/pc05.png" class="col-8 mx-auto mb-0">
                            </div>
                            <h5 class="modal-title text-primary text-center font-weight-bolder mb-2 mt-3">
                                升级/续费专业版
                            </h5>
                            <p class="text-center mb-3"><span>点击</span><span style="color: red">【升级/续费】</span><span>进入套餐页面，购买专业版，尊享高速流量，VIP专 属线路。</span>
                            </p><br>
                        </div>
                        <div class="modal-footer d-flex justify-content-center pt-0 pb-3">
                            <div class="d-flex justify-content-between w-100">
                                <div class="p-0 col-4 d-flex align-items-center"> <button type="button" class="btn btn-link text-secondary p-0  " onclick="close_box_btn()">
                                        <svg width="1.5em" height="1.5em" viewBox="0 0 19 19" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>跳过
                                    </button> </div>
                                <div class="p-0 col-4 text-center"><span id="tutorial-page5">5/8</span></div>
                                <div class="p-0 col-4 text-right"> <button type="button" class="btn  p-0 btn-link" onclick="tutorialhandler(7)" style="color: dodgerblue">
                                        下一步<svg width="1em" height="1em" viewBox="0 0 19 19" class="bi bi-chevron-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal" id="tutorial-7" tabindex="7" aria-labelledby="exampleModalCenterTitle" style="display: block; background: rgb(0 0 0 / 19%);" aria-modal="true" role="dialog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content modal-content-tutorial">
                        <div class="modal-header" style="border-bottom: 0px solid rgb(222 226 230 / 0%); padding-bottom:0px;">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="close_box_btn()">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="d-flex justify-content-center">
                                <img src="index_files/pc06.png" class="col-8 mx-auto mb-0">
                            </div>
                            <h5 class="modal-title text-primary text-center font-weight-bolder mb-2 mt-3">
                                下载客户端
                            </h5>
                            <p class="text-center mb-3"> 支持 Windows，Mac， Android 和 iOS，一个账号 畅行4大平台。
                            </p><br>
                        </div>
                        <div class="modal-footer d-flex justify-content-center pt-0 pb-3">
                            <div class="d-flex justify-content-between w-100">
                                <div class="p-0 col-4 d-flex align-items-center"> <button type="button" class="btn btn-link text-secondary p-0  " onclick="close_box_btn()">
                                        <svg width="1.5em" height="1.5em" viewBox="0 0 19 19" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>跳过
                                    </button> </div>
                                <div class="p-0 col-4 text-center"><span id="tutorial-page6">6/8</span></div>
                                <div class="p-0 col-4 text-right"> <button type="button" class="btn  p-0 btn-link" onclick="tutorialhandler(8)" style="color: dodgerblue">
                                        下一步<svg width="1em" height="1em" viewBox="0 0 19 19" class="bi bi-chevron-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal" id="tutorial-8" tabindex="8" aria-labelledby="exampleModalCenterTitle" style="display: block; background: rgb(0 0 0 / 19%);" aria-modal="true" role="dialog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content modal-content-tutorial">
                        <div class="modal-header" style="border-bottom: 0px solid rgb(222 226 230 / 0%); padding-bottom:0px;">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="close_box_btn()">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="d-flex justify-content-center">
                                <img src="index_files/pc07.png" class="col-8 mx-auto mb-0">
                            </div>
                            <h5 class="modal-title text-primary text-center font-weight-bolder mb-2 mt-3">
                                系统设置
                            </h5>
                            <p class="text-center mb-3"> 切换代理模式，语言，查看客服邮箱及用户协议。
                            </p><br>
                        </div>
                        <div class="modal-footer d-flex justify-content-center pt-0 pb-3">
                            <div class="d-flex justify-content-between w-100">
                                <div class="p-0 col-4 d-flex align-items-center"> <button type="button" class="btn btn-link text-secondary p-0  " onclick="close_box_btn()">
                                        <svg width="1.5em" height="1.5em" viewBox="0 0 19 19" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>跳过
                                    </button> </div>
                                <div class="p-0 col-4 text-center"><span id="tutorial-page7">7/8</span></div>
                                <div class="p-0 col-4 text-right"> <button type="button" class="btn  p-0 btn-link" onclick="tutorialhandler(9)" style="color: dodgerblue">
                                        下一步<svg width="1em" height="1em" viewBox="0 0 19 19" class="bi bi-chevron-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal" id="tutorial-9" tabindex="9" aria-labelledby="exampleModalCenterTitle" style="display: block; background: rgb(0 0 0 / 19%);" aria-modal="true" role="dialog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content modal-content-tutorial">
                        <div class="modal-header" style="border-bottom: 0px solid rgb(222 226 230 / 0%); padding-bottom:0px;">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="close_box_btn()">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="d-flex justify-content-center">
                                <img src="index_files/pc08.png" class="col-8 mx-auto mb-0">
                            </div>
                            <h5 class="modal-title text-primary text-center font-weight-bolder mb-2 mt-3">
                                问题反馈
                            </h5>
                            <p class="text-center mb-3">遇到问题时请提供反馈。反馈的信息越多，有助于 我们帮您解决问题。
                            </p><br>
                        </div>
                        <div class="modal-footer d-flex justify-content-center pt-0 pb-3">
                            <div class="d-flex justify-content-between w-100">
                                <div class="p-0 col-4 d-flex align-items-center"> <button type="button" class="btn btn-link text-secondary p-0  " onclick="close_box_btn()">
                                        <svg width="1.5em" height="1.5em" viewBox="0 0 19 19" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>跳过
                                    </button> </div>
                                <div class="p-0 col-4 text-center"><span id="tutorial-page8">8/8</span></div>
                                <div class="p-0 col-4 text-right"> <button type="button" class="btn  p-0 btn-link" onclick="tutorialhandler(10)" style="color: dodgerblue">
                                        下一步<svg width="1em" height="1em" viewBox="0 0 19 19" class="bi bi-chevron-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="modal" id="tutorial-10" tabindex="10" aria-labelledby="exampleModalCenterTitle" style="display: block; background: rgb(0 0 0 / 19%);" aria-modal="true" role="dialog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content modal-content-tutorial">
                        <div class="modal-header" style="border-bottom: 0px solid rgb(222 226 230 / 0%); padding-bottom:0px;">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="close_box_btn()">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body p-0">



                            <div class="d-flex justify-content-center">
                                <img src="index_files/img_congratulations.svg" class="col-8  my-0">
                            </div>
                            
                        </div>
                        <div class="modal-footer d-flex justify-content-center pt-0 pb-3" style="  border-top: 0px solid rgb(222 226 230 / 0%);">
                            <button type="button" class="btn btn-danger btn-danger-curve" onclick="close_box_btn()">好的</button>
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="modal" id="tutorial-11" tabindex="11" aria-labelledby="exampleModalCenterTitle" style="display: none; background: rgb(0 0 0 / 19%);" aria-modal="true" role="dialog">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content modal-content-tutorial">
                        <div class="modal-header" style="border-bottom: 0px solid rgb(222 226 230 / 0%); padding-bottom:0px;">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="close_box_btn()">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>



                        <div class="modal-body">

                            <div class="d-flex justify-content-center">
                                <img src="index_files/pc05.png" class="col-8 mx-auto mb-0">
                            </div>
                            <h5 class="modal-title text-primary text-center font-weight-bolder mb-2 mt-3">
                                升级/续费专业版
                            </h5>
                            <p class="text-center mb-3"> 【升级/续费】
                            </p>
                        </div>
                        <div class="modal-footer d-flex justify-content-center pt-0 pb-3">
                            <div class="d-flex justify-content-between w-100">
                                <div class="p-0 col-4 d-flex align-items-center"> <button type="button" class="btn btn-link text-secondary p-0  " onclick="close_box_btn()">
                                        <svg width="1.5em" height="1.5em" viewBox="0 0 19 19" class="bi bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>跳过
                                    </button> </div>
                                <div class="p-0 col-4 text-center"> 5/5 </div>
                                <div class="p-0 col-4 text-right"> <button type="button" class="btn  p-0 btn-link" onclick="tutorialhandler(7)">
                                        下一步<svg width="1em" height="1em" viewBox="0 0 19 19" class="bi bi-chevron-right" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"></path>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            

            
            
            <div class="mask" id="invitecode-pane">
                <div class="fission-wrapper" style="display: block; padding-bottom: 0px;margin: auto;margin-top: 13%;">
                    
                    <div class="fission-header-fillin">
                        <h1> 绑定兑换码 </h1>
                        <h4> 免费领取专业版 </h4>
                    </div>
                    <div class="invite-bg-code-fillin">
                        <form class="form-invite">
                            <input class="mdc-input" placeholder="请输入好友的兑换码" id="txtBindRefCode" maxlength="25">
                            
                            
                            
                            <a class="btn btn-paste" onclick="pasteClick()"> 黏贴 </a>
                            <small id="refCodeInfo" class="text-info" style="display:flex; font-weight:normal; margin-top:5px;">
                            </small>
                            <p> 绑定兑换码后，您和好友即可立即获得专业版会员！ </p>
                            <div class="btn-group">
                                <button class="btn-outline-primary" onclick="show_fission_reminder_view()"> 跳过 </button>
                                <button type="button" class="btn-primary" id="btnBindRefCode" onclick="setRefCode($('#txtBindRefCode').val())"> 绑定</button>
                            </div>
                        </form>

                    </div>
                </div>
            </div>

            <div class="fission-wrapper" id="invitation-success-modal" style="display:block;padding-bottom: 0px;width: 360px;">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn">
                </div> <div class="invite-bg-code-fillin" style="border-radius:12px 12px 12px 12px;">
                    <div class="form-invite form-status">
                        <h2 class="text-primary">恭喜您</h2><br><br><h4>绑定兑换码成功!</h4>

                        <br>
                        <div>
                            <button class="btn-primary  " onclick="close_box_btn()" style="padding:.75em 6em;"> 确定 </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="fission-wrapper" id="invitation-failed-modal" style="display:block; padding-bottom: 0px;">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn">
                </div>
                <div class="fission-header-fillin">
                    <h1>  绑定兑换码  </h1>
                    <h4> 领取专业版 </h4>
                </div>

                <div class="invite-bg-code-fillin">
                    <form class="form-invite form-status">

                        <h4 id="invitation-failed-content">請重試綁定代號</h4>


                        <h1 class="text-warning">失敗</h1>
                        <div>
                            <button type="button" class="btn-primary btn-block" onclick="close_box_btn()"> 确定 </button>
                        </div>
                    </form>


                </div>
            </div>

            
            <div class="claim-red-bg" style="display:block; padding-bottom: 0px;" id="activity-rule-pane">
                <div class="close-box-btn" onclick="close_box_btn()" id="close_btn"> </div>
                <h2 style="color: #6D6D6D;font-weight: 900">活动规则</h2>
                <div id="activity-rule-content1">
                    <p>
                        分享0个好友，您即可获得 <br><span class="text-warning">永久 专业版会员</span></p>
                </div>
                <p class="text-center text-warning" style="margin-top: 1.5%;"> 活动奖励介绍表 </p>

                <table class="activity-rules table " id="reward-rule-table">
                    <thead class="thead-dark">
                    <tr><th class="text-center">   分享好友数 </th>
                    <th class="text-center">   您获得专业版天数</th>
                    
                    </tr></thead>
                </table>
            </div>
        </div>
    </div>

    <div class="problem-report-div" onclick="show_report_problem_view()">
        问题反馈
    </div>

    <div class="msg-wrap" id="zero-wrap">
        <div class="mask" id="closeMsg0" onclick="closeMsg0($(this));">
            
            <div class="pro-package" id="pro-package">
                
                
                <div class="gift-pic"></div>
                <div class="free-title"><span>重要提示：</span>亲爱的用户，您的体验流量包已使用完，如需继续使用请升级至专业版，升级后即可享有高速流量及VIP专属稳定线路。</div>
                <div style="display:flex; justify-content:center;">
                    <button class="orange-btn green-btn-2 free-to-pro" id="freetoepro" style="margin-right:20px;">免费领专业版</button>
                    <button class="green-btn green-btn-2 free-to-pro" id="freetopro">升级至专业版</button>
                </div>

                
                <div class="free-title">
                    
                    
                </div>
                <div>
                    <div class="free-box-upgrade">
                        <div class="free-title-upgrade center-cls">免费版</div>
                        <table>
                            <tbody><tr>
                                <td>网速</td>
                                
                                
                            </tr>
                            <tr>
                                <td>线路</td>
                                <td>随机</td>
                            </tr>
                            <tr>
                                <td>稳定性</td>
                                <td>不保障</td>
                            </tr>
                            <tr>
                                <td>高速流量</td>
                                
                                
                            </tr>
                            <tr>
                                <td>安全私密性</td>
                                <td>不保障</td>
                            </tr>
                            <tr>
                                <td>广告</td>
                                <td>有</td>
                            </tr>
                            <tr>
                                <td>服务</td>
                                <td>无</td>
                            </tr>
                            <tr>
                                <td>特权</td>
                                <td>无</td>
                            </tr>
                        </tbody></table>
                    </div>

                    <div class="pro-box-upgrade">
                        <div class="pro-title-upgrade center-cls">专业版</div>
                        <table>
                            <tbody><tr>
                                <td>网速</td>
                                
                                
                            </tr>
                            <tr>
                                <td>线路</td>
                                <td>VIP专属线路</td>
                            </tr>
                            <tr>
                                <td>稳定性</td>
                                <td>100%稳定</td>
                            </tr>
                            <tr>
                                <td>高速流量</td>
                                <td>无限流量</td>
                            </tr>
                            <tr>
                                <td>安全私密性</td>
                                <td>100%安全</td>
                            </tr>
                            <tr>
                                <td>广告</td>
                                <td>无</td>
                            </tr>
                            <tr>
                                <td>服务</td>
                                <td>VIP专属客服</td>
                            </tr>
                            <tr>
                                <td>特权</td>
                                <td>续费折上折</td>
                            </tr>
                        </tbody></table>
                    </div>
                    <div class="upgrade-arrow"></div>
                </div>
            </div>
            <div class="pro-package" id="policy_view" style="width: 70%; height: 90%; position: relative">
                <div class="close-box-btn dont_close" onclick="close_box_btn_0($(this))" style="display: none"></div>
                <div style="position: absolute; left:20px; right:20px;top:20px;bottom:80px">
                    <iframe id="id-policy-view-frame" name="policy" scrolling="auto" src="policy" width="100%" height="100%" frameborder="0">
                    </iframe>
                </div>
                <div class="" style="display:flex; justify-content: center; position: absolute; bottom: 20px; left:20px;right:20px">
                    
                    <span class="btn btn-primary" onclick="accept_policy();">
                        同意
                    </span>
                </div>
            </div>
            <div class="pro-package" id="policy_view_setting" style="width: 70%; height: 90%; position: relative">
                <div class="close-box-btn dont_close" onclick="close_box_btn_0($(this))" style="display: none"></div>
                <div style="position: absolute; left:20px; right:20px;top:20px;bottom:80px">
                    <iframe id="id-policy-view-setting-frame" name="policy" scrolling="auto" src="policy" width="100%" height="100%" frameborder="0">
                    </iframe>
                </div>
                <div class="" style="display:flex; justify-content: center; position: absolute; bottom: 20px; left:20px;right:20px">
                    
                    <span class="btn btn-primary" onclick="close_box_btn_0($(this))">
                        同意
                    </span>
                </div>
            </div>

        </div>

    </div>

    
    <div class="msg-wrap" id="five-wrap">
        <div class="mask" id="closeMsg-5" onclick="closeMsg5();">
            
            <div class="pac-pane-cls" id="pac-pane">
                <div class="close-box-btn" onclick="close_box_btn_5()" id="close_btn"></div>
                <div class="pac-tips-title-cls center-cls">温馨提示</div>
                <div class="pac-tips-cls">设置代理环境失败。如果要确定能够上网，请联络管理员检测本地环境设置，并确保本地环境具有管理员权限，再重启程序尝试连接。</div>
                <div class="pac-tips-cls aligin-right-cls"><a href="https://d1dpv6506riiu5.cloudfront.net/wizard/proxy_settings.html" target="_blank">详细教程</a></div>
            </div>
        </div>
    </div>

    <div class="systemCalibration" id="splash-wrap-connects" style="display: none; visibility: visible;">
        <div class="mask">
            <div id="splash-connects" style="display: none;">
                <div class="fission-wrapper">
                    
                    

                    
                    <div onclick="close_box_btn_hide()" id="id-btn-closeup" class="btn btn-outline" style="display: block; margin-left: 91%; border: medium hidden; font-size: 24px; margin-bottom: -35px;">X</div>
                    <div class="brand">
                        <img src="index_files/logo-qr.png">
                    </div>

                    
                    <p id="id-splashscreen-tips02">系統信息检测失败，请重试</p>
                    <div id="id-progressbar-container" class="progress-container error" style="margin-bottom: 10px">
                        <img id="id-img-progressbar-error" src="index_files/icon_alert.png" class="icon-alert" style="display: block;">
                        <div class="progress">
                            <div class="progress-bar" id="id-splash-conn-bar" style="width: 80%;"></div>
                        </div>
                        <div class="progress-text" id="id-progress-text" style="display: none;"><span>已加载</span><span id="id-splash-conn-percent"> 80%</span></div>
                    </div>

                    <div class="action" id="id-splashscreen-countdown">
                        <p style="display: none" id="id-splashscreen-countdown-txt" class="countdown">00</p><p>
                            <button onclick="retry_Splash()" id="id-btn-splashscreen" class="btn btn-outline" style="display: block; margin-left: 40%;">重新检测</button>
                    </p></div>
                </div>
            </div>

        </div>
    </div>

    
    <div class="packageModal" id="fourth-wrap-free" style="display: none; visibility: visible;">
        <div class="mask" id="closeMsg-4" onclick="closeMsg4Free();">
            <div class="fission-wrapper" id="renew-pane-free" style="display:block;">

                <div class="close-box-btn" onclick="close_box_btn_4Free()"></div>

                <div class="modalIcon">
                    <img src="index_files/icon_rocket.png">
                </div>

                <highlight>重要提示：</highlight>
                <p>您当前使用的免费版网速为 <span id="id-renew-free-content1">1m</span>，请升级专业版立即解锁速度更快、 更稳定的VIP专业线路。</p>


                <div class="package-table">
                    <div class="table-title">
                        <div>免费版</div>
                        <div class="vip"><img src="index_files/icon_vip.png"> 专业版</div>
                    </div>
                    <div class="table-content">
                        <div class="table-row">
                            <label>网速</label>

                            <div><span id="id-renew-free-freespeed">1m</span></div>
                            <div class="vip"><span id="id-renew-free-prospeed">100m</span></div>
                           
                        </div>
                        <div class="table-row">
                            <label>线路</label>
                            <div>随机</div>
                            <div class="vip">VIP专属线路</div>
                        </div>
                        <div class="table-row">
                            <label>安全私密性</label>
                            <div>/</div>
                            <div class="vip">强大安全防护</div>
                        </div>
                        <div class="table-row">
                            <label>支持设备</label>
                            <div>仅1台</div>
                            <div class="vip">3台</div>
                        </div>
                        <div class="table-row">
                            <label>服务</label>
                            <div>无</div>
                            <div class="vip">VIP专属客服</div>
                        </div>
                        <div class="table-row">
                            <label>特权</label>
                            <div>无</div>
                            <div class="vip">续费折上折</div>
                        </div>
                    </div>
                </div>

                <div class="action">
                    <button id="id-renewpane-show-activity" style="display: none;background-color:#F06500" class="btn btn-orange btn-block btn-lg" onclick="show_membership_activity_view();">免费领专业版</button>
                    <button id="id-renewpane-pricing2-op1" class="btn btn-blue btn-block btn-lg" onclick="RedirectPricing2()">升级至专业版</button>
                </div>
            </div>
        </div>
    </div>

    
    <div class="msg-wrap" id="fourth-wrap-appshortcut">
        <div class="mask">
            <div class="pro-package renew-pane-cls" id="renew-pane-appshortcut" style="background-color: white;">
                <div class="close-box-btn" onclick="close_box_btn_AppShortcut()"></div>
                <div class="text-center" style="font-weight: bolder;font-size: 1.2vw;padding: 8px 0 13px 0">上网快捷键</div>

                <div class="social-resp-height">
                    <div class="col-sm-2 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.google.com/" target="_blank"><div><img src="index_files/icon_google.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.google.com/" target="_blank"><div>谷歌</div></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-2 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.wikipedia.org/" target="_blank"><div><img src="index_files/icon_wiki.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.wikipedia.org/" target="_blank"><div>维基百科</div></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-2 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.twitter.com/" target="_blank"><div><img src="index_files/icon_twitter.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.twitter.com/" target="_blank"><div>推特</div></a>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-2 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.youtube.com/" target="_blank"><div><img src="index_files/icon_youtube.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.youtube.com/" target="_blank"><div>油管</div></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-2 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.facebook.com/" target="_blank"><div><img src="index_files/icon_facebook.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.facebook.com/" target="_blank"><div>脸书</div></a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="social-resp-height">
                    <div class="col-sm-4 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.netflix.com/" target="_blank"><div><img src="index_files/icon_netflix.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.netflix.com/" target="_blank"><div>Netflix</div></a>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.messenger.com/" target="_blank"><div><img src="index_files/icon_messenger.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.messenger.com/" target="_blank"><div>Messenger</div></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.instagram.com/" target="_blank"><div><img src="index_files/icon_instagram.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.instagram.com/" target="_blank"><div>Instagram</div></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://web.whatsapp.com/" target="_blank"><div><img src="index_files/icon_whatsapp.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://web.whatsapp.com/" target="_blank"><div>WhatsApp</div></a>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.tiktok.com/" target="_blank"><div><img src="index_files/icon_tiktok.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.tiktok.com/" target="_blank"><div>TikTok</div></a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="social-resp-height social-add-background" style="height: 18vh">
                    <div class="col-sm-4 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://web.telegram.org/" target="_blank"><div><img src="index_files/icon_telegram.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://web.telegram.org/" target="_blank"><div>Telegram</div></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.snapchat.com/" target="_blank"><div><img src="index_files/icon_snapchat.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.snapchat.com/" target="_blank"><div>Snapchat</div></a>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-4 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.pinterest.com/" target="_blank"><div><img src="index_files/icon_pinterest.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.pinterest.com/" target="_blank"><div>Pinterest</div></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4 social-rowpadding-shortcutapp">
                        <div class="social-box-shortcutapp" style="min-width: 100%">
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.tumblr.com/?language=zh_CN" target="_blank"><div><img src="index_files/icon_tumblr.png"></div></a>
                            </div>
                            <div class="social-row-shortcutapp social_info ">
                                <a href="https://www.tumblr.com/?language=zh_CN" target="_blank"><div>Tumblr</div></a>
                            </div>
                        </div>
                    </div>


                    <div class="col-sm-12"><div class="text-center" style="font-weight: 300;color: grey;font-size: 0.7vw;padding: 8px 0 13px 0">点击进入该网站</div></div>
                </div>


            </div>
        </div>
    </div>

    
    <div class="packageModal" id="fourth-wrap" style="display: none; visibility: visible;">
        <div class="mask" id="closeMsg-4" onclick="closeMsg4();">
            <div class="fission-wrapper pro-package renew-pane-cls" id="renew-pane">
                <div class="close-box-btn" onclick="close_box_btn_4()"></div>
                <div class="modalIcon">
                    <img src="index_files/icon_rocket.png">
                </div>

                <highlight>重要提示：</highlight>
                <p>亲爱的用户，您的专业版即将到期，到期后将进入低速模式，建议您立即续费专业版。</p>


                <div class="package-table">
                    <div class="table-title">
                        <div>免费版</div>
                        <div class="vip"><img src="index_files/icon_vip.png"> 专业版</div>
                    </div>
                    <div class="table-content">
                        <div class="table-row">
                            <label>网速</label>

                            <div><span id="id-renew-pane-freespeed">1m</span></div>
                            <div class="vip"><span id="id-renew-pane-prospeed">100m</span></div>
                           
                        </div>
                        <div class="table-row">
                            <label>线路</label>
                            <div>随机</div>
                            <div class="vip">VIP专属线路</div>
                        </div>
                        <div class="table-row">
                            <label>安全私密性</label>
                            <div>/</div>
                            <div class="vip">强大安全防护</div>
                        </div>
                        <div class="table-row">
                            <label>支持设备</label>
                            <div>仅1台</div>
                            <div class="vip">3台</div>
                        </div>
                        <div class="table-row">
                            <label>服务</label>
                            <div>无</div>
                            <div class="vip">VIP专属客服</div>
                        </div>
                        <div class="table-row">
                            <label>特权</label>
                            <div>无</div>
                            <div class="vip">续费折上折</div>
                        </div>
                    </div>
                </div>

                <div class="action">
                    <button id="id-renewpane-show-activity_vip" style="display: none;background-color:#F06500" class="btn btn-orange btn-block btn-lg" onclick="show_membership_activity_view();">免费领专业版</button>
                    <button id="id-renewpanevip-pricing2-op1" class="btn btn-blue btn-block btn-lg" onclick="RedirectPricing2()">马上续费</button>
                </div>
            </div>
        </div>
    </div>

    <div class="msg-wrap" id="second-wrap">
        <div class="mask" id="closeMsg-2" onclick="closeMsg2();">
            
            <div class="notice-pane-cls" id="notice-pane">
                <div class="close-box-btn" onclick="close_box_btn_2()" id="close_btn"></div>
                <div class="notice-pane-title">系统公告</div>
                <div class="notice-pane-content">
                </div>
            </div>
        </div>
    </div>

    <div class="msg-wrap" id="third-wrap">
        <div class="mask" id="closeMsg-3" onclick="closeMsg3();">
            
            <div class="ie-pane-cls" id="ie-pane">
                <div class="close-box-btn" onclick="close_box_btn_3()" id="close_btn"></div>
                <div class="ie-tips-cls">您当前使用的浏览器可能会影响您的体验，请下载Chrome浏览器，并设置为默认浏览器</div>
                <div class="download-cls-container">
                    
                    <a href="https://chrome.en.softonic.com/" target="_blank" class="download-cls">Chrome下载</a>
                </div>

            </div>
        </div>
    </div>

    <div class="msg-wrap" id="splash-wrap" style="display: none;">
        <div class="mask">
            <div class="splash-cls" id="splash" style="display: none;">
                <div class="splash-loader-title" id="splash-loader-title"></div>
                <div class="center-cls">
                    <div class="lds-facebook"><div></div><div></div><div></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="msg-wrap" id="systime-wrap" style="display: none;">
        <div class="mask" id="closeMsg-systime-tip" onclick="closeMsgSysTime();">
            
            <div class="systime-pane-cls" id="systime-pane" style="display: none;">
                <div class="close-box-btn" onclick="close_box_btn_systime()" id="close_btn"></div>
                <div class="systime-title">系统提示</div>
                <div class="systime-error-reson mb-3 sub-notice m-0">
                    <p>系统检测到你本机时间不正确，误差在90秒范围内才能正常使用加速器。请参考教程校准你本机时间后再进行连接。</p>
                    <div class="systime-tutorial-wrapper">
                        教程地址<a class="systime-tutorial-add text-primary mb-3 text-center" href="https://d1dpv6506riiu5.cloudfront.net/wizard/correct_sys_time.html" target="_blank"><br>https://d1dpv6506riiu5.cloudfront.net/wizard/correct_sys_time.html</a>
                        <span style="float: right!important;">
                        <a href="https://d1dpv6506riiu5.cloudfront.net/wizard/correct_sys_time.html" target="_blank" class="systime-check-tutorial">查看教程</a>
                    </span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="line-list-container" id="line-list-container" style="display: none;">
        <div class="close-box-btn" onclick="close_box_btn_line()"></div>
        <div class="line-list-header">
            <div><button onclick="refreshLines();">刷新线路</button>线路列表</div>
            <div><a target="_blank" href="https://d1dpv6506riiu5.cloudfront.net/wizard/line_aq.html">线路常见问题</a></div>
            <div><span>小贴士:</span>使用过程中，如果出现卡顿、慢、一直加载中等问题，最好的办法就是在线路列表中换一条线路重新连接，这样可以有效避免卡顿等问题。如果线路列表内无法切换到满意的线路，请点击上方"刷新线路"获取一份新的线路 </div>
        </div>
        <div class="line-list-body" id="manul-line-list-body">
            <div class="loader-inner ball-pulse line-wait center-cls" style="display: none;"><div></div><div></div><div></div></div>
        <ul class="one-line" onclick="connectServer('f876230287e12b8487b458e5e62a29c4');" id="line-f876230287e12b8487b458e5e62a29c4"><li id="location" class="flag-line flag-icon-us"></li><li id="server" class="server-name">费利蒙·电信稳定-536(已连接)</li><li id="delay" class="delay" style="float:right">516ms</li><li id="wifi-rank" class="wifi-flag wifi-flag-1" style="float:right"></li><li id="connected" style="display:none" status="connected"></li><li id="speedtest" style="display:none">0</li></ul><ul class="one-line" onclick="connectServer('1b33705f72692d6da1bb2cb77075f568');" id="line-1b33705f72692d6da1bb2cb77075f568"><li id="location" class="flag-line flag-icon-us"></li><li id="server" class="server-name">旧金山·电信稳定-1638</li><li id="delay" class="delay" style="float:right">761ms</li><li id="wifi-rank" class="wifi-flag wifi-flag-1" style="float:right"></li><li id="connected" style="display:none" status="disconnected"></li><li id="speedtest" style="display:none">0</li></ul><ul class="one-line" onclick="connectServer('3cde22174c0928228a00afbaa9bbb2a4');" id="line-3cde22174c0928228a00afbaa9bbb2a4"><li id="location" class="flag-line flag-icon-us"></li><li id="server" class="server-name">费利蒙·电信稳定-217</li><li id="delay" class="delay" style="float:right">802ms</li><li id="wifi-rank" class="wifi-flag wifi-flag-1" style="float:right"></li><li id="connected" style="display:none" status="disconnected"></li><li id="speedtest" style="display:none">0</li></ul><ul class="one-line" onclick="connectServer('e472d04040ad24ae9361a2b57fc22717');" id="line-e472d04040ad24ae9361a2b57fc22717"><li id="location" class="flag-line flag-icon-us"></li><li id="server" class="server-name">旧金山·电信稳定-1706</li><li id="delay" class="delay" style="float:right">844ms</li><li id="wifi-rank" class="wifi-flag wifi-flag-1" style="float:right"></li><li id="connected" style="display:none" status="disconnected"></li><li id="speedtest" style="display:none">0</li></ul><ul class="one-line" onclick="connectServer('611f87925ddc285aa38ba1cb7282d627');" id="line-611f87925ddc285aa38ba1cb7282d627"><li id="location" class="flag-line flag-icon-us"></li><li id="server" class="server-name">费利蒙·电信稳定-320</li><li id="delay" class="delay" style="float:right">935ms</li><li id="wifi-rank" class="wifi-flag wifi-flag-1" style="float:right"></li><li id="connected" style="display:none" status="disconnected"></li><li id="speedtest" style="display:none">0</li></ul><ul class="one-line" onclick="connectServer('17a30e009aeb22c981efcbdc37a0c66d');" id="line-17a30e009aeb22c981efcbdc37a0c66d"><li id="location" class="flag-line flag-icon-us"></li><li id="server" class="server-name">旧金山·电信稳定-1707</li><li id="delay" class="delay" style="float:right">982ms</li><li id="wifi-rank" class="wifi-flag wifi-flag-1" style="float:right"></li><li id="connected" style="display:none" status="disconnected"></li><li id="speedtest" style="display:none">0</li></ul><ul class="one-line" onclick="connectServer('4fcbcf30d1812fc6937e6ad0e88ef4dc');" id="line-4fcbcf30d1812fc6937e6ad0e88ef4dc"><li id="location" class="flag-line flag-icon-us"></li><li id="server" class="server-name">费利蒙·电信稳定-284</li><li id="delay" class="delay" style="float:right">&gt;1s</li><li id="wifi-rank" class="wifi-flag wifi-flag-1" style="float:right"></li><li id="connected" style="display:none" status="disconnected"></li><li id="speedtest" style="display:none">0</li></ul><ul class="one-line" onclick="connectServer('cda6fb9bba17279db94cc6920eecc9cd');" id="line-cda6fb9bba17279db94cc6920eecc9cd"><li id="location" class="flag-line flag-icon-us"></li><li id="server" class="server-name">旧金山·电信稳定-1613</li><li id="delay" class="delay" style="float:right">&gt;1s</li><li id="wifi-rank" class="wifi-flag wifi-flag-1" style="float:right"></li><li id="connected" style="display:none" status="disconnected"></li><li id="speedtest" style="display:none">0</li></ul><ul class="one-line" onclick="connectServer('3e569a79990822379e95f7bef488b581');" id="line-3e569a79990822379e95f7bef488b581"><li id="location" class="flag-line flag-icon-sg"></li><li id="server" class="server-name">新加坡B·移动首选-939</li><li id="delay" class="delay" style="float:right">&gt;1s</li><li id="wifi-rank" class="wifi-flag wifi-flag-1" style="float:right"></li><li id="connected" style="display:none" status="disconnected"></li><li id="speedtest" style="display:none">0</li></ul><ul class="one-line" onclick="connectServer('c9f34073d47b27a1ab9b0ce940283a3b');" id="line-c9f34073d47b27a1ab9b0ce940283a3b"><li id="location" class="flag-line flag-icon-us"></li><li id="server" class="server-name">费利蒙·电信稳定-513</li><li id="delay" class="delay" style="float:right">&gt;1s</li><li id="wifi-rank" class="wifi-flag wifi-flag-1" style="float:right"></li><li id="connected" style="display:none" status="disconnected"></li><li id="speedtest" style="display:none">0</li></ul></div>
    </div>

    <div class="msg-wrap msg-wrap-promoModal" id="id-promoModal">
        <div class="mask" id="id-promomodal-closemask">
            <div class="promoModal" id="id-promoModal-Content" style="display: block; visibility: visible;">
                <div class="fission-wrapper" style="display:block;">
                    <div class="close-box-btn" onclick="closePromoModal()"></div>
                    <h2><img src="index_files/icon_vip.png">专业版优惠</h2>
                    <h1 style="display: inline"><highlight id="id-promomodal-percentage"></highlight></h1><h1 style="display: inline">限时折扣</h1>

                    <div class="countdown" id="id-promomodal-countdown">
                        
                        <div class="item" id="id-promomodal-hour">07</div>
                        <span>:</span>
                        <div class="item" id="id-promomodal-minute">12</div>
                        <span>:</span>
                        <div class="item" id="id-promomodal-second">54</div>

                        <p style="display: none;">倒数中...</p>
                    </div>

                    <div class="action" style="margin-top: 19px">
                        <button class="btn btn-red btn-lg" onclick="RedirectPricing2()">立即续费</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    
    
    <script>

        preload_SplashCountDown();
        function getEvent(){
            return window.event || arguments.callee.caller.arguments[0];
        }

        var distance =15;
        var splashtag=document.getElementById("id-splashscreen-countdown")

        function preload_ActivityShare_URl(){

            if(getLocalItem('activity_url_domain')!=null){
                document.getElementById('id-float-activity-url').innerHTML=getLocalItem('activity_url_domain')
            }
        }

        function login_switch_pwd_code(types) {
            if (types==1){
                document.getElementById('id-content-with-pwd').style.display='none'
                document.getElementById('id-content-with-code').style.display='block'
                document.getElementById('id-password').removeAttribute("required")
                document.getElementById('id-verify-code').setAttribute("required","")
            }else if (types==2){
                document.getElementById('id-content-with-pwd').style.display='block'
                document.getElementById('id-content-with-code').style.display='none'
                document.getElementById('id-password').setAttribute("required","")
                document.getElementById('id-verify-code').removeAttribute("required")
            }
        }

        function PwdVisible(fields) {
            var x = document.getElementById(fields);
            if (x.type === "password") {
                x.type = "text";
                $('#'+fields+"-1").removeClass("icon-usp-closeeye").addClass('icon-usp-openeye');
            } else {
                x.type = "password";
                $('#'+fields+"-1").removeClass("icon-usp-openeye").addClass('icon-usp-closeeye');
            }
        }

        function setLocalItem (name, val) {
            
            if (typeof val === 'object' || Array.isArray(val)) {
                val = JSON.stringify(val)
            }
            localStorage.setItem(name, val)
        }
        function getLocalItem (name) {
            var val = localStorage.getItem(name);
            try {
                return JSON.parse(val)
            } catch (e) {
                return val
            }
        }

        function retry_Splash(){
            location.reload()
        }

        function preload_SplashCountDown(){
            var url      = window.location.href;
            if (url.includes("connect")){
                document.getElementById('id-splashscreen-tips02').innerHTML="正在校准系统信息，请稍等"
            }else{
                document.getElementById('id-splashscreen-tips02').innerHTML= "正在加载中，请稍等"
            }
            


            deadlinemain = new Date(Date.parse(new Date()) + 15000);
            display0 = document.getElementById("id-splashscreen-countdown-txt");

             
            Splash_Countdown=0
            initializeClockSplash(display0,display0,display0,deadlinemain, false);


        }

        
        function getTimeRemainingSplash(endtime) {
            const total = Date.parse(endtime) - Date.parse(new Date());
            const seconds = Math.floor((total / 1000) % 60);
            const minutes = Math.floor((total / 1000 / 60) % 60);
            const hours = Math.floor((total / (1000 * 60 * 60)) % 24);
            const days = Math.floor(total / (1000 * 60 * 60 * 24));

            return {
                total,
                days,
                hours,
                minutes,
                seconds
            };
        }

        var Splash_Countdown=0
        function initializeClockSplash(id,id2,id3, endtime, isVIP) {

            function updateClockSplash() {
                const t = getTimeRemainingSplash(endtime);

                 
                id.textContent = ('0' + t.hours).slice(-2);
                id2.textContent = ('0' + t.minutes).slice(-2);
                id3.textContent = ('0' + t.seconds).slice(-2);
                if (t.total <= 0) {

                    clearInterval(timeintervals);
                    SplashConnectStopper();
                    


                }
                Splash_Countdown+=10
                var percentage_countdown=(80 *Splash_Countdown)/150
                percentage_countdown = parseInt(percentage_countdown);

                document.getElementById('id-splash-conn-percent').innerHTML=" " +percentage_countdown + "%"
                document.getElementById('id-splash-conn-bar').style.width=percentage_countdown + "%"
            }

            updateClockSplash();
            const timeintervals = setInterval(updateClockSplash, 1000);
        }


        


        function saveQRImage(){
            var node = document.getElementById('id-activity-download');

            document.getElementById('id-activity-download').style.display='block'
            
            domtoimage.toBlob(node)
                .then(function(blob) {
                    window.saveAs(blob, 'myqr.png');
                    document.getElementById('id-activity-download').style.display='none'
                    
                });
        }

        function SplashConnectStopper(){
            document.getElementById('id-btn-closeup').style.display='block'
             
            document.getElementById('id-splashscreen-countdown-txt').style.display='none'
            document.getElementById('id-btn-splashscreen').style.display='block'
            document.getElementById('id-splashscreen-tips02').innerHTML="系統信息检测失败，请重试"

            document.getElementById('id-progressbar-container').classList.add('error');
            document.getElementById('id-img-progressbar-error').style.display='block'

            document.getElementById('id-progress-text').style.display='none'


        }

        function hideSplashConnect() {
            $("#splash-wrap-connects").hide();
            $("#splash-connects").hide();
        }

        function close_box_btn_0(btn) {
            if (btn && btn.hasClass("dont_close")) {
                return;
            }
            clearInterval(timer);
            $('#zero-wrap').hide();
            $("#closeMsg0>div").hide();
            notifyUserClose(LastToggleAlertBox0);
            LastToggleAlertBox0 = null;
        }

        function close_box_btn(btn) {
            if (btn && btn.hasClass("close_waiting_downcount")) {
                return
            }
            clearInterval(timer)
            $('#first-wrap').hide();
            $("#closeMsg>div").hide();
            notifyUserClose(LastToggleAlertBox);
            LastToggleAlertBox = null;
        }

        function close_tut5(btn){
            close_box_btn(btn)
            document.getElementById('id-connect-box').style.visibility='initial'
        }

        function close_box_btn_six(btn) {
            if (btn && btn.hasClass("close_waiting_downcount")) {
                return
            }
            clearInterval(timer)
            $('#six-wrap').hide();
            $("#closeMsgSix>div").hide();
            notifyUserClose(LastToggleAlertBox06);
            LastToggleAlertBox06 = null;
        }

        function close_box_btn_hide(){
            document.getElementById('splash-wrap-connects').style.display='none'
        }

        


        function close_box_btn_3() {
            $('#third-wrap').hide();
            $("#closeMsg-3>div").hide();
        }

        function close_box_btn_4() {
            $('#fourth-wrap').hide();
            $("#closeMsg-4>div").hide();
            notifyUserClose(LastToggleAlertBox4);
            LastToggleAlertBox4 = null;
        }

        function close_box_btn_4Free() {
            $('#fourth-wrap-free').hide();
            $("#closeMsg-4>div").hide();
            notifyUserClose(LastToggleAlertBox4);
            LastToggleAlertBox4 = null;
        }

        function close_box_btn_AppShortcut() {
            $('#fourth-wrap-appshortcut').hide();
            $("#closeMsg-4>div").hide();
            notifyUserClose(LastToggleAlertBox4);
            LastToggleAlertBox4 = null;
        }

        function close_box_btn_systime() {
            $('#systime-wrap').hide();
            $("#closeMsg-systime-tip>div").hide();
            notifyUserClose($("#systime-pane"))
        }

        function closePromoModal() {
            $('#id-promoModal').hide();
            $("#id-promomodal-closemask>div").hide();
            notifyUserClose($("#id-promoModal-Content"))
        }

        function close_box_btn_5() {
            $('#five-wrap').hide();
            $("#closeMsg-5>div").hide();
            notifyUserClose(LastToggleAlertBox5);
            LastToggleAlertBox5 = null;
        }

        function close_box_btn_6() {
            $('#sixth-wrap').hide();
            $("#closeMsg-6>div").hide();
            notifyUserClose(LastToggleAlertBox6);
            LastToggleAlertBox6 = null;
        }

        function close_box_btn_line() {
            $("#line-list-container").hide();
        }

        function forceCloseSignup(){
            
            
            close_box_btn();
            closeMsgSeven(true);
        }

        function  pasteClick(){
            $(this).toggleClass('active');

            navigator.clipboard.readText()
                .then(text => {
                    if (text.length>25){
                        document.getElementById("refCodeInfo").innerText ="超过特定字串,请再尝试";
                    }
                    else{
                        var regex = /^[A-Za-z0-9 ]+$/
                        var isValid = regex.test(text);
                        if (!isValid) {
                            document.getElementById("refCodeInfo").innerText ="不可以输入特别文字,请再尝试";
                        }
                        else{
                            document.getElementById("txtBindRefCode").value = text;
                        }
                    }
                })
                .catch(err => {
                    console.log('Something went wrong', err);
                })
        }

        function  copyRefCode() {
            var copyText = document.getElementById("refCode").innerHTML;

            var textArea = document.createElement("textarea");
            textArea.value = copyText;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand("Copy");
            textArea.remove();
            Toast("复制完成", 2000);
        }

        



        function  special_free_ugd_vip(){
            
            getPlans();
            toggleAlertBox($("#update"));
            
        }

        function special_free_ugd_evip(){
            
            show_membership_activity_view()
            
        }

        
        
        
        
        
        
        
        
        (function(){

        })()
    </script>

    </nav>

    
    <div id="page-wrapper" class="connect-panel" style="display: block; height: 100%; min-height: 652px;">

        <div class="free-version" id="free-version-welcome" style="display: none;">
            <div class="buyAction banner-container">
                <img style="height: 100%" id="free-banner-img" src="index_files/banner_welcome.jpg" class="update_btn" alt="">
            </div>
            <div class="free-version-tips3"></div>
        </div>

        <div class="free-version" id="free-version" style="display: block;">
            <div class="banner-container buyAction">
                <h1><span id="id-banner-text1">购买佛跳墻</span><highlight id="id-banner-text2">专业版</highlight></h1>
                <p id="id-banner-text3">速度更快 无限流量 更好的服务器</p>
                <button class="btn btn-orange" id="id-btnconnect-pricing2" style="display: inline-block;">立即升级</button>
            </div>
            <div class="free-version-tips3"></div>
        </div>

        <div class="free-version" id="free-version-content" style="display: none">
            <div class="version-box-free banner-container update_btn">
                <img src="index_files/promo.png" class="icon-promo">
                <img src="index_files/icon_countdown.png" class="icon-countdown">
                
                <div class="text-mainfree" id="id-free-banner-text">
                    升级专业版，畅享VIP专属高速路线！
                </div>
                <div class="countdown" id="id-main-countdown" style="display: none">
                    
                    <div class="item" id="id-main-freediscount-hour">00</div>
                    <span>:</span>
                    <div class="item" id="id-main-freediscount-minute">00</div>
                    <span>:</span>
                    <div class="item" id="id-main-freediscount-second">00</div>
                </div>
            </div>
            <div class="free-version-tips3"></div>
        </div>

        <div class="fission-entrance">
            <img id="activity-entry" style="display: none" onclick="show_membership_activity_view()" src="index_files/fision-entry-cn.png">
        </div>
        
        


        
        <div class="pro-version" id="pro-version" style="display: none">
            <div class="version-box" id="id-vip-banner-container">
                <div class="left-box">
                    <img src="index_files/major.png" style="width:78px;height:78px;" alt="" onclick="">
                    <div class="tips-box">
                        <div class="tips1" id="pro-version-tips1">尊敬的专业版用户</div>
                        <div class="tips2" id="pro-version-tips2" style="">专业版即将到期，现在续费有优惠！<button class="upgrade-btn update_btn">立即续费</button></div>
                    </div>
                </div>
                <div>
                <span class="pro-version_text">
                    <div>专业版剩余时间: <span id="user_banner_status">0天0小时0分钟</span></div>
                </span>
                </div>
            </div>
            <div class="version-box banner-container update_btn" id="id-banner-container" style="margin-top: 8px;display: none">
                <img src="index_files/promo.png" class="icon-promo">
                <img src="index_files/icon_countdown.png" class="icon-countdown">
                
                <div class="text" id="id-pro-banner-text">
                    你有一个未完成订单,立即购买享有限时优惠
                </div>
                <div class="countdown" id="id-mainvip-countdown">
                    
                    <div class="item" id="id-mainvip-freediscount-hour">00</div>
                    <span>:</span>
                    <div class="item" id="id-mainvip-freediscount-minute">00</div>
                    <span>:</span>
                    <div class="item" id="id-mainvip-freediscount-second">00</div>
                </div>
            </div>
            
            <div class="pro-tips" id="pro-tips">您尚未绑定手机/邮箱，绑定后可同时在<span id="id-bindmail-devicelimit">3</span>个设备上使用<span class="bind_btn">立即绑定</span></div>
            <div class="free-version-tips3"></div>
        </div>
        
        <div class="bind-pro-version" id="bind-pro-version" style="display: none">
            <div class="version-box">
                <div class="left-box">
                    <img src="index_files/major.png" style="width:78px;height:78px;" alt="" onclick="">
                    <div class="tips-box">
                        <div class="tips1">尊敬的专业版用户</div>
                        <div class="tips2" style="">专业版即将到期，现在续费有优惠！<button class="upgrade-btn update_btn">立即续费</button></div>
                    </div>
                </div>
                <div>
                <span class="pro-version_text">
                    <div>专业版剩余时间: <span><span class="account_day"></span>天<span class="account_hour"></span>小时<span class="account_min"></span>分钟</span></div>
                </span>
                </div>
            </div>
        </div>

        <div id="gka" class="map-bg connect-gka">
            <div>
                <div id="gkaCenter" class="connect-success" onclick="toggle_connect()">
                    <div class="connect-tips-1">已连接</div>
                    <div class="connect-time center-cls" style="">01:09:13</div>
                    <div class="connect-tips-2 center-cls" style="">点击断开</div>
                </div>
                <div class="center-cls connect-privacy"></div>
            </div>
        </div>

        <div class="center-cls connect-tips-3 bold-font" style="display: none;" id="connect-info-free-tip">
            <span class="icon-lamp"></span>
            <p>
                <span>您正在使用免费版</span><span class="theme-color"></span><span>， 建议您</span><span class="theme-color">立刻升级</span><span>专业版!</span>
            </p>
        </div>
        <div class="center-cls connect-tips-3 bold-font" style="display: none;" id="connect-info-pro-tip">
            <span class="icon-lamp"></span>
            <p>
                <span>您的专业版剩余时间</span><span class="theme-color" id="user_banner_status3">0天0小时0分钟</span>
                
            </p>
        </div>
        <div class="center-cls connect-tips-3 bold-font" style="display: none;" id="connect-info-ex-pro-tip">
            <span class="icon-lamp"></span>
            <p>
                <span>您的专业版(分享获得)剩余时间</span><span class="theme-color" id="user_banner_status2">0天0小时0分钟</span>
                
            </p>
        </div>

        <div class="connect-box" id="id-connect-box" style="height: 126px;max-width: 745px; width: 100%">
            <div class="connect-title connect_info">  
                <div>连接状态</div>
                <div></div>
                
                <div>当前线路</div>
            </div>
            <div class="connect-row connect_info ">
                <div class="status-points success">
                    <i></i>
                    <p class="status-text">已连接</p>

                </div>
                <div></div>
                
                <div class="location" id="location1">
                    <span style="display: none;" id="flag" class="flag-icon flag-icon-us"></span>
                    <span id="country">费利蒙·电信稳定-536</span>
                    
                </div>
            </div>
            <div class="connect-action">
                <div class="col-sm-6" style="display: none" id="id-open-speedtest">
                    <button onclick="openSpeedTestModal()" class="btn btn-blue"><img src="index_files/icon_speedometer.png" class="styled-icon">自动检测最佳线路</button>
                </div>

                <div class="col-sm-12" id="id-open-normalproxy">
                    <button id="btn-open-normalproxy" onclick="switchServer()" class="btn btn-blue"><img src="index_files/switch.png">手动切换线路</button>
                </div>

            </div>
        </div>

        <div class="maid-setting-proxy" id="id-maid-setting-proxy" style="min-width: 745px; display: none">
            <div class="row">
                <div class="col-sm-3" style="padding-left: 26px;">
                    <label class="radio-inline">
                        代理模式
                        <p></p>
                    </label>
                </div>
                <div class="col-sm-2">
                    <label class="radio-inline">
                        <input id="id-radio-proxyall" onclick="checkProxyType('1')" type="radio" name="optradio">全局模式
                    </label>
                </div>
                <div class="col-sm-3">
                    <label class="radio-inline">
                        <input id="id-radio-not-proxyall" onclick="checkProxyType('0')" type="radio" name="optradio" checked="checked">智能模式
                    </label>
                </div>
                <div class="col-sm-4" style="top: 2px">
                    <div class="setting-title">
                        <span onmouseover="mouseover_proxy_tips_connect()" onmouseout="mouseout_proxy_tips_connect()">什么是全局模式/智能模式</span>
                        <i style="font-size: 16px" class="fa fa-question-circle" aria-hidden="true" onmouseover="mouseover_proxy_tips_connect()" onmouseout="mouseout_proxy_tips_connect()"></i>

                    </div>
                </div>

            </div>
        </div>

        <div id="id-setting-proxy-tips-connect" class="row" style="display: none;height: 0px;min-height: 0px">
            <div class="col-lg-4" style="height: 0px;min-height: 0px">
                <div class="setting-title"></div>
            </div>
            <div class="col-lg-6" style="height: 0px;min-height: 0px">
                <div class="setting-proxy-tips-01-connect" id="id-setting-proxy-tips-01-connect">
                    <h4 style="font-weight: bold">全局模式：</h4>
                    <p>访问全球所有网站（含国内）都是通过代理的方式进行访问，安全高效。但访问国内网站速度可能会较慢。全局模式下，连接成功后，IP地址会发生变化。建议您仅在出现部分被墙网站无法访问的情况下使用全局模式，如果您使用一切正常，请保持智能模式。</p>
                    
                    <br>
                    <h4 style="font-weight: bold">智能模式：</h4>
                    <p>也称智能路由模式，仅代理被墙网站。</p>
                    <p>即：国内网站依旧走本地网络，绝大部分国外网站都走代理。节省流量，访问国内网站速度更快。智能模式下，连接成功后IP地址不会发生变化。</p>
                    
                    <p>但是有些国外网站只有走全局模式，才可以访问成功。</p>
                </div>
            </div>
        </div>

        <div class="social-box" id="id-social-box" style="min-width: 745px">
            <div class="social-main-title">  
                <div>上网快捷键</div>
            </div>
            <div class="social-row social_info ">
                <a href="https://www.google.com/" target="_blank"><div><img src="index_files/icon_google.png"></div></a>
                <a href="https://www.wikipedia.org/" target="_blank"><div><img src="index_files/icon_wiki.png"></div></a>
                <a href="https://www.twitter.com/" target="_blank"><div><img src="index_files/icon_twitter.png"></div></a>
                <a href="https://www.youtube.com/" target="_blank"><div><img src="index_files/icon_youtube.png"></div></a>
                <a href="https://www.facebook.com/" target="_blank"><div><img src="index_files/icon_facebook.png"></div></a>
                <a style="cursor: pointer" onclick="toggleAlertBoxAppShortcutPrompt($('#renew-pane-appshortcut'))"><div><img src="index_files/icon_more_shortcut.png"></div></a>
            </div>
            <div class="social-row social_info ">
                <a href="https://www.google.com/" target="_blank"><div>谷歌</div></a>
                <a href="https://www.wikipedia.org/" target="_blank"><div>维基百科</div></a>
                <a href="https://www.twitter.com/" target="_blank"><div>推特</div></a>
                <a href="https://www.youtube.com/" target="_blank"><div>油管</div></a>
                <a href="https://www.facebook.com/" target="_blank"><div>脸书</div></a>
                <a style="cursor: pointer" onclick="toggleAlertBoxAppShortcutPrompt($('#renew-pane-appshortcut'))"><div>更多</div></a>
            </div>
        </div>

        <div class="center-cls fz14" style="display: none" id="connect-info-free">
            <p>
                
                登入方式<span class="btn-common-color">免费版</span><span class="theme-color">  </span><button class="upgrade-btn renew-upgrade-btn-connect-info update_btn"> 立即升级</button>
            </p>
        </div>
        <div class="center-cls fz14" style="display: none" id="connect-info-pro">
            <p>
                登入方式
                
                <span class="btn-common-color" id="connect-info-user-type"></span>
                
                
            </p>
        </div>

    </div>



</div>





<script src="index_files/jquery.js"></script>


<script src="index_files/bootstrap.js"></script>


<script src="index_files/metisMenu.js"></script>


<script src="index_files/sb-admin-2.js"></script>

<script src="index_files/easy.js"></script>

<script src="index_files/dom-to-image.js"></script>
<script src="index_files/FileSaver.js"></script>

<script src="index_files/speedometer.js"></script>



<script src="index_files/common.js"></script>



<script>
    


    $("#myValues").myfunc({divFact:5,eventListenerType:'change'});

    $( document ).ready(function() {

        try {
            document.getElementById('page-wrapper-static').style.display = "none"
            var url = window.location.href;
            if (url.includes("connect")) {
                document.getElementById('page-wrapper').style.display = "block"
                
            } else if (url.includes("pricing2")) {
                document.getElementById('id-pricing2-page').style.display = "block"
            } else if (url.includes("setting")) {
                document.getElementById('id-page-setting').style.display = "block"
            } else if (url.includes("business_partner")) {
                document.getElementById('page-wrapper-business-partner').style.display = "block"
            }


            $("#splash-loader-title-connect").text("正在更新配置...");
            $("#splash-loader-title-status").text("加载中...");

            var isVIP = false 
            var isEVIP =  false 
            var isNeedBind = true 
            var isUsers = true 
            var usernames ="vis58469339ach"
            var isAcceptPolicy = true 
            var bindtype = 0 
            var free_speed ="1m"
            var pro_speed ="100m"
            var tmp_phone_countrycode ="\u003coption value=\"86\" selected\u003e 中国+86 \u003c/option\u003e\u003coption value=\"93\"  disabled\u003e 阿富汗+93 \u003c/option\u003e\u003coption value=\"1890\"  disabled\u003e 多米尼加共和国+1890 \u003c/option\u003e\u003coption value=\"1345\"  disabled\u003e 开曼群岛+1345 \u003c/option\u003e\u003coption value=\"1246\"  disabled\u003e 巴巴多斯+1246 \u003c/option\u003e\u003coption value=\"247\"  disabled\u003e 阿森松+247 \u003c/option\u003e\u003coption value=\"374\"  disabled\u003e 亚美尼亚+374 \u003c/option\u003e\u003coption value=\"1264\"  disabled\u003e 安圭拉岛+1264 \u003c/option\u003e\u003coption value=\"1876\"  disabled\u003e 牙买加+1876 \u003c/option\u003e\u003coption value=\"81\"  disabled\u003e 日本+81 \u003c/option\u003e\u003coption value=\"962\"  disabled\u003e 约旦+962 \u003c/option\u003e\u003coption value=\"7\"  disabled\u003e 哈萨克斯坦+7 \u003c/option\u003e\u003coption value=\"254\"  disabled\u003e 肯尼亚+254 \u003c/option\u003e\u003coption value=\"996\"  disabled\u003e 吉尔吉斯+996 \u003c/option\u003e\u003coption value=\"856\"  disabled\u003e 老挝+856 \u003c/option\u003e\u003coption value=\"371\"  disabled\u003e 拉脱维亚+371 \u003c/option\u003e\u003coption value=\"297\"  disabled\u003e 阿鲁巴+297 \u003c/option\u003e\u003coption value=\"961\"  disabled\u003e 黎巴嫩+961 \u003c/option\u003e\u003coption value=\"266\"  disabled\u003e 莱索托+266 \u003c/option\u003e\u003coption value=\"231\"  disabled\u003e 利比里亚+231 \u003c/option\u003e\u003coption value=\"218\"  disabled\u003e 利比亚+218 \u003c/option\u003e\u003coption value=\"423\"  disabled\u003e 列支敦士登+423 \u003c/option\u003e\u003coption value=\"370\"  disabled\u003e 立陶宛+370 \u003c/option\u003e\u003coption value=\"352\"  disabled\u003e 卢森堡+352 \u003c/option\u003e\u003coption value=\"853\"  disabled\u003e 澳门+853 \u003c/option\u003e\u003coption value=\"389\"  disabled\u003e 马其顿共和国+389 \u003c/option\u003e\u003coption value=\"261\"  disabled\u003e 马达加斯加+261 \u003c/option\u003e\u003coption value=\"61\"  disabled\u003e 澳大利亚+61 \u003c/option\u003e\u003coption value=\"265\"  disabled\u003e 马拉维+265 \u003c/option\u003e\u003coption value=\"60\"  disabled\u003e 马来西亚+60 \u003c/option\u003e\u003coption value=\"960\"  disabled\u003e 马尔代夫+960 \u003c/option\u003e\u003coption value=\"223\"  disabled\u003e 马里+223 \u003c/option\u003e\u003coption value=\"356\"  disabled\u003e 马耳他+356 \u003c/option\u003e\u003coption value=\"222\"  disabled\u003e 毛里塔尼亚+222 \u003c/option\u003e\u003coption value=\"230\"  disabled\u003e 毛里求斯+230 \u003c/option\u003e\u003coption value=\"52\"  disabled\u003e 墨西哥+52 \u003c/option\u003e\u003coption value=\"43\"  disabled\u003e 奥地利+43 \u003c/option\u003e\u003coption value=\"691\"  disabled\u003e 密克罗尼西亚联邦+691 \u003c/option\u003e\u003coption value=\"373\"  disabled\u003e 摩尔多瓦+373 \u003c/option\u003e\u003coption value=\"377\"  disabled\u003e 摩纳哥+377 \u003c/option\u003e\u003coption value=\"976\"  disabled\u003e 蒙古+976 \u003c/option\u003e\u003coption value=\"382\"  disabled\u003e 黑山共和国+382 \u003c/option\u003e\u003coption value=\"212\"  disabled\u003e 摩洛哥+212 \u003c/option\u003e\u003coption value=\"258\"  disabled\u003e 莫桑比克+258 \u003c/option\u003e\u003coption value=\"95\"  disabled\u003e 缅甸+95 \u003c/option\u003e\u003coption value=\"264\"  disabled\u003e 纳米比亚+264 \u003c/option\u003e\u003coption value=\"994\"  disabled\u003e 阿塞拜疆共和国+994 \u003c/option\u003e\u003coption value=\"977\"  disabled\u003e 尼泊尔+977 \u003c/option\u003e\u003coption value=\"31\"  disabled\u003e 荷兰+31 \u003c/option\u003e\u003coption value=\"599\"  disabled\u003e 荷属安德烈斯群岛+599 \u003c/option\u003e\u003coption value=\"687\"  disabled\u003e 新喀里多尼亚+687 \u003c/option\u003e\u003coption value=\"64\"  disabled\u003e 新西兰+64 \u003c/option\u003e\u003coption value=\"505\"  disabled\u003e 尼加拉瓜+505 \u003c/option\u003e\u003coption value=\"227\"  disabled\u003e 尼日尔+227 \u003c/option\u003e\u003coption value=\"234\"  disabled\u003e 尼日利亚+234 \u003c/option\u003e\u003coption value=\"1242\"  disabled\u003e 巴哈马+1242 \u003c/option\u003e\u003coption value=\"47\"  disabled\u003e 挪威+47 \u003c/option\u003e\u003coption value=\"968\"  disabled\u003e 阿曼+968 \u003c/option\u003e\u003coption value=\"680\"  disabled\u003e 帕劳+680 \u003c/option\u003e\u003coption value=\"92\"  disabled\u003e 巴勒斯坦+92 \u003c/option\u003e\u003coption value=\"507\"  disabled\u003e 巴拿马+507 \u003c/option\u003e\u003coption value=\"675\"  disabled\u003e 巴布亚新几内亚+675 \u003c/option\u003e\u003coption value=\"595\"  disabled\u003e 巴拉圭+595 \u003c/option\u003e\u003coption value=\"51\"  disabled\u003e 秘鲁+51 \u003c/option\u003e\u003coption value=\"63\"  disabled\u003e 菲律宾+63 \u003c/option\u003e\u003coption value=\"973\"  disabled\u003e 巴林+973 \u003c/option\u003e\u003coption value=\"48\"  disabled\u003e 波兰+48 \u003c/option\u003e\u003coption value=\"351\"  disabled\u003e 葡萄牙+351 \u003c/option\u003e\u003coption value=\"1787\"  disabled\u003e 波多黎各+1787 \u003c/option\u003e\u003coption value=\"974\"  disabled\u003e 卡塔尔+974 \u003c/option\u003e\u003coption value=\"262\"  disabled\u003e 留尼旺岛+262 \u003c/option\u003e\u003coption value=\"40\"  disabled\u003e 罗马尼亚+40 \u003c/option\u003e\u003coption value=\"7\"  disabled\u003e 俄罗斯+7 \u003c/option\u003e\u003coption value=\"250\"  disabled\u003e 卢旺达+250 \u003c/option\u003e\u003coption value=\"880\"  disabled\u003e 孟加拉共和国+880 \u003c/option\u003e\u003coption value=\"378\"  disabled\u003e 圣马力诺+378 \u003c/option\u003e\u003coption value=\"239\"  disabled\u003e 圣多美和普林西比+239 \u003c/option\u003e\u003coption value=\"966\"  disabled\u003e 沙特阿拉伯+966 \u003c/option\u003e\u003coption value=\"221\"  disabled\u003e 塞内加尔+221 \u003c/option\u003e\u003coption value=\"381\"  disabled\u003e 塞尔维亚共和国+381 \u003c/option\u003e\u003coption value=\"248\"  disabled\u003e 塞舌尔+248 \u003c/option\u003e\u003coption value=\"232\"  disabled\u003e 塞拉利昂+232 \u003c/option\u003e\u003coption value=\"65\"  disabled\u003e 新加坡+65 \u003c/option\u003e\u003coption value=\"421\"  disabled\u003e 斯洛伐克+421 \u003c/option\u003e\u003coption value=\"386\"  disabled\u003e 斯洛文尼亚+386 \u003c/option\u003e\u003coption value=\"252\"  disabled\u003e 索马里+252 \u003c/option\u003e\u003coption value=\"27\"  disabled\u003e 南非+27 \u003c/option\u003e\u003coption value=\"82\"  disabled\u003e 韩国+82 \u003c/option\u003e\u003coption value=\"34\"  disabled\u003e 西班牙+34 \u003c/option\u003e\u003coption value=\"94\"  disabled\u003e 斯里兰卡+94 \u003c/option\u003e\u003coption value=\"211\"  disabled\u003e 苏丹+211 \u003c/option\u003e\u003coption value=\"375\"  disabled\u003e 白俄罗斯+375 \u003c/option\u003e\u003coption value=\"597\"  disabled\u003e 苏里南+597 \u003c/option\u003e\u003coption value=\"268\"  disabled\u003e 斯威士兰+268 \u003c/option\u003e\u003coption value=\"46\"  disabled\u003e 瑞典+46 \u003c/option\u003e\u003coption value=\"41\"  disabled\u003e 瑞士+41 \u003c/option\u003e\u003coption value=\"963\"  disabled\u003e 叙利亚+963 \u003c/option\u003e\u003coption value=\"886\"  disabled\u003e 台湾+886 \u003c/option\u003e\u003coption value=\"992\"  disabled\u003e 塔吉克斯坦+992 \u003c/option\u003e\u003coption value=\"255\"  disabled\u003e 坦桑尼亚+255 \u003c/option\u003e\u003coption value=\"66\"  disabled\u003e 泰国+66 \u003c/option\u003e\u003coption value=\"243\"  disabled\u003e 刚果民主共和国+243 \u003c/option\u003e\u003coption value=\"355\"  disabled\u003e 阿尔巴尼亚+355 \u003c/option\u003e\u003coption value=\"32\"  disabled\u003e 比利时+32 \u003c/option\u003e\u003coption value=\"228\"  disabled\u003e 多哥+228 \u003c/option\u003e\u003coption value=\"676\"  disabled\u003e 汤加+676 \u003c/option\u003e\u003coption value=\"1868\"  disabled\u003e 特立尼达和多巴哥+1868 \u003c/option\u003e\u003coption value=\"216\"  disabled\u003e 突尼斯+216 \u003c/option\u003e\u003coption value=\"90\"  disabled\u003e 土耳其+90 \u003c/option\u003e\u003coption value=\"993\"  disabled\u003e 土库曼斯坦+993 \u003c/option\u003e\u003coption value=\"501\"  disabled\u003e 伯利兹+501 \u003c/option\u003e\u003coption value=\"256\"  disabled\u003e 乌干达+256 \u003c/option\u003e\u003coption value=\"380\"  disabled\u003e 乌克兰+380 \u003c/option\u003e\u003coption value=\"44\"  disabled\u003e 英国+44 \u003c/option\u003e\u003coption value=\"1\"  disabled\u003e 美国+1 \u003c/option\u003e\u003coption value=\"598\"  disabled\u003e 乌拉圭+598 \u003c/option\u003e\u003coption value=\"998\"  disabled\u003e 乌兹别克斯坦+998 \u003c/option\u003e\u003coption value=\"678\"  disabled\u003e 瓦努阿图+678 \u003c/option\u003e\u003coption value=\"58\"  disabled\u003e 委内瑞拉+58 \u003c/option\u003e\u003coption value=\"229\"  disabled\u003e 贝宁共和国+229 \u003c/option\u003e\u003coption value=\"84\"  disabled\u003e 越南+84 \u003c/option\u003e\u003coption value=\"967\"  disabled\u003e 也门+967 \u003c/option\u003e\u003coption value=\"260\"  disabled\u003e 赞比亚+260 \u003c/option\u003e\u003coption value=\"263\"  disabled\u003e 津巴布韦+263 \u003c/option\u003e\u003coption value=\"1441\"  disabled\u003e 百慕大群岛+1441 \u003c/option\u003e\u003coption value=\"975\"  disabled\u003e 不丹+975 \u003c/option\u003e\u003coption value=\"591\"  disabled\u003e 玻利维亚+591 \u003c/option\u003e\u003coption value=\"387\"  disabled\u003e 波斯尼亚和黑塞哥维那+387 \u003c/option\u003e\u003coption value=\"267\"  disabled\u003e 博茨瓦纳+267 \u003c/option\u003e\u003coption value=\"55\"  disabled\u003e 巴西+55 \u003c/option\u003e\u003coption value=\"213\"  disabled\u003e 阿尔及利亚+213 \u003c/option\u003e\u003coption value=\"673\"  disabled\u003e 文莱+673 \u003c/option\u003e\u003coption value=\"359\"  disabled\u003e 保加利亚+359 \u003c/option\u003e\u003coption value=\"226\"  disabled\u003e 布基纳法索+226 \u003c/option\u003e\u003coption value=\"257\"  disabled\u003e 布隆迪+257 \u003c/option\u003e\u003coption value=\"855\"  disabled\u003e 柬埔寨+855 \u003c/option\u003e\u003coption value=\"237\"  disabled\u003e 喀麦隆+237 \u003c/option\u003e\u003coption value=\"1\"  disabled\u003e 加拿大+1 \u003c/option\u003e\u003coption value=\"238\"  disabled\u003e 佛得角+238 \u003c/option\u003e\u003coption value=\"236\"  disabled\u003e 中非共和国+236 \u003c/option\u003e\u003coption value=\"235\"  disabled\u003e 乍得+235 \u003c/option\u003e\u003coption value=\"56\"  disabled\u003e 智利+56 \u003c/option\u003e\u003coption value=\"57\"  disabled\u003e 哥伦比亚+57 \u003c/option\u003e\u003coption value=\"242\"  disabled\u003e 刚果+242 \u003c/option\u003e\u003coption value=\"682\"  disabled\u003e 库克群岛+682 \u003c/option\u003e\u003coption value=\"506\"  disabled\u003e 哥斯达黎加+506 \u003c/option\u003e\u003coption value=\"385\"  disabled\u003e 克罗地亚+385 \u003c/option\u003e\u003coption value=\"376\"  disabled\u003e 安道尔共和国+376 \u003c/option\u003e\u003coption value=\"53\"  disabled\u003e 古巴+53 \u003c/option\u003e\u003coption value=\"357\"  disabled\u003e 塞浦路斯+357 \u003c/option\u003e\u003coption value=\"420\"  disabled\u003e 捷克共和国+420 \u003c/option\u003e\u003coption value=\"45\"  disabled\u003e 丹麦+45 \u003c/option\u003e\u003coption value=\"253\"  disabled\u003e 吉布提+253 \u003c/option\u003e\u003coption value=\"593\"  disabled\u003e 厄瓜多尔+593 \u003c/option\u003e\u003coption value=\"244\"  disabled\u003e 安哥拉+244 \u003c/option\u003e\u003coption value=\"20\"  disabled\u003e 埃及+20 \u003c/option\u003e\u003coption value=\"503\"  disabled\u003e 萨尔瓦多+503 \u003c/option\u003e\u003coption value=\"240\"  disabled\u003e 赤道几内亚+240 \u003c/option\u003e\u003coption value=\"291\"  disabled\u003e 厄立特里亚+291 \u003c/option\u003e\u003coption value=\"372\"  disabled\u003e 爱沙尼亚+372 \u003c/option\u003e\u003coption value=\"251\"  disabled\u003e 埃塞俄比亚+251 \u003c/option\u003e\u003coption value=\"500\"  disabled\u003e 福克兰群岛+500 \u003c/option\u003e\u003coption value=\"298\"  disabled\u003e 法罗群岛+298 \u003c/option\u003e\u003coption value=\"679\"  disabled\u003e 斐济+679 \u003c/option\u003e\u003coption value=\"358\"  disabled\u003e 芬兰+358 \u003c/option\u003e\u003coption value=\"33\"  disabled\u003e 法国+33 \u003c/option\u003e\u003coption value=\"594\"  disabled\u003e 法属圭亚那+594 \u003c/option\u003e\u003coption value=\"689\"  disabled\u003e 法属波利尼西亚+689 \u003c/option\u003e\u003coption value=\"241\"  disabled\u003e 加蓬+241 \u003c/option\u003e\u003coption value=\"220\"  disabled\u003e 冈比亚+220 \u003c/option\u003e\u003coption value=\"995\"  disabled\u003e 格鲁吉亚+995 \u003c/option\u003e\u003coption value=\"49\"  disabled\u003e 德国+49 \u003c/option\u003e\u003coption value=\"233\"  disabled\u003e 加纳+233 \u003c/option\u003e\u003coption value=\"350\"  disabled\u003e 直布罗陀+350 \u003c/option\u003e\u003coption value=\"30\"  disabled\u003e 希腊+30 \u003c/option\u003e\u003coption value=\"1268\"  disabled\u003e 安提瓜和巴布达+1268 \u003c/option\u003e\u003coption value=\"590\"  disabled\u003e 瓜德罗普岛+590 \u003c/option\u003e\u003coption value=\"1671\"  disabled\u003e 关岛+1671 \u003c/option\u003e\u003coption value=\"502\"  disabled\u003e 危地马拉+502 \u003c/option\u003e\u003coption value=\"224\"  disabled\u003e 巴布亚新几内亚+224 \u003c/option\u003e\u003coption value=\"245\"  disabled\u003e 几内亚比绍共和国+245 \u003c/option\u003e\u003coption value=\"592\"  disabled\u003e 圭亚那+592 \u003c/option\u003e\u003coption value=\"509\"  disabled\u003e 海地+509 \u003c/option\u003e\u003coption value=\"504\"  disabled\u003e 洪都拉斯+504 \u003c/option\u003e\u003coption value=\"54\"  disabled\u003e 阿根廷+54 \u003c/option\u003e\u003coption value=\"852\"  disabled\u003e 香港+852 \u003c/option\u003e\u003coption value=\"36\"  disabled\u003e 匈牙利+36 \u003c/option\u003e\u003coption value=\"354\"  disabled\u003e 冰岛+354 \u003c/option\u003e\u003coption value=\"91\"  disabled\u003e 印度+91 \u003c/option\u003e\u003coption value=\"62\"  disabled\u003e 印度尼西亚+62 \u003c/option\u003e\u003coption value=\"98\"  disabled\u003e 伊朗+98 \u003c/option\u003e\u003coption value=\"964\"  disabled\u003e 伊拉克+964 \u003c/option\u003e\u003coption value=\"353\"  disabled\u003e 爱尔兰+353 \u003c/option\u003e\u003coption value=\"972\"  disabled\u003e 以色列+972 \u003c/option\u003e\u003coption value=\"39\"  disabled\u003e 意大利+39 \u003c/option\u003e"
            var paymentview_status = true 

            if (isVIP){
                setLocalItem('user_type',1)
            }else if (isEVIP){
                setLocalItem('user_type',2)
            } else{
                setLocalItem('user_type',3)
            }

            loadAccountBox(isUsers, isNeedBind, usernames);
            loadAccountBoxUsername(isVIP, isEVIP, isNeedBind, usernames);
            loadEquipmentList(isVIP, isEVIP);
            loadBindSwitchUser(isNeedBind,isUsers);

            loadUpgradeVIPEntry(isVIP,paymentview_status);

            loadSidebarBindUserForm(isNeedBind);
            loadSidebarResetPwd();
            loadSidebarCommonProblem();

            
            if ( false ) {
                if ( true ) {
                    if ( false ) {
                        preload_ActivityShareContent();
                        preload_ActivityPage()
                         
                    }
                }
            }

            if (getLocalItem('preload_onetimeonly') === null) {

                

                preloadSwitchServer();
                preload_notice();
                getPlans("");

                var isCorrectTime = true 
                if (isCorrectTime) {
                    hideSystimeError();
                } else {
                    showSystimeError();
                }

                


                if (isAcceptPolicy) {
                    popUpNotices();

                }

                setLocalItem('preload_onetimeonly', true)

            }

            if (isVIP) {

                if( false ){

                    document.getElementById('id-open-speedtest').style.display='block'
                    document.getElementById("id-open-normalproxy").classList.remove('col-sm-12');
                    document.getElementById("id-open-normalproxy").classList.add('col-sm-6');
                }else{

                    document.getElementById('id-open-speedtest').style.display='none'
                    document.getElementById("id-open-normalproxy").classList.remove('col-sm-6');
                    document.getElementById("id-open-normalproxy").classList.add('col-sm-12');
                }

            }else if (isEVIP){

                if( false ){
                    document.getElementById('id-open-speedtest').style.display='block'
                    document.getElementById("id-open-normalproxy").classList.remove('col-sm-12');
                    document.getElementById("id-open-normalproxy").classList.add('col-sm-6');
                }else{

                    document.getElementById('id-open-speedtest').style.display='none'
                    document.getElementById("id-open-normalproxy").classList.remove('col-sm-6');
                    document.getElementById("id-open-normalproxy").classList.add('col-sm-12');
                }
            } else{
                if( false ){

                    document.getElementById('id-open-speedtest').style.display='block'
                    document.getElementById("id-open-normalproxy").classList.remove('col-sm-12');
                    document.getElementById("id-open-normalproxy").classList.add('col-sm-6');
                }else{

                    document.getElementById('id-open-speedtest').style.display='none'
                    document.getElementById("id-open-normalproxy").classList.remove('col-sm-6');
                    document.getElementById("id-open-normalproxy").classList.add('col-sm-12');
                }
            }

            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            

            if(isVIP || isEVIP){
                if (isNeedBind){
                    document.getElementById('id-span-switchaccount-small').innerHTML="登录账号"
                }
                else{
                    document.getElementById('id-span-switchaccount-small').innerHTML="切换账号"
                }

                document.getElementById('id-switchaccount-small').style.display='block'

                if (paymentview_status){
                    document.getElementById('id-user-profile-pricing2').style.display='block'
                }else{
                    document.getElementById('id-user-profile-pricing2').style.display='none'
                }

                document.getElementById('id-bindaccount').style.display='none'
                document.getElementById('id-switchaccount').style.display='none'
            }

            if (bindtype==2){ 
                document.getElementById('id-user-profile-tips').style.display='block'
            }

            if (isAcceptPolicy){
                var isFirstTimeGetPromo=getLocalItem('isFirstTimePromoGetPlan')
                var isFirstTimeGetPromoRetain=getLocalItem('isFirstTimePromoGetPlanRetain')
                var isFreeRetainEnd=getCookie('isfreeretainend')
                var isVIPRenewEnd=getCookie('isvipretainend')

                if (isVIP)
                {

                    setCookie('freePromorunningtmr', null)
                    setCookie('isfreeretainend', null)
                    setCookie('discount_free_trigger',null)

                    setLocalItem('freePromocode',null)
                    setLocalItem('freePromorunningtmr',null)

                    if (paymentview_status){
                        loadPromoCodeGetPlans(isVIP, isEVIP,isVIPRenewEnd);
                    }

                    



                }

                if(!isVIP &&!isEVIP){

                    setCookie('vipPromorunningtmr',null)
                    setCookie('isvipretainend', null)

                    setLocalItem('vipPromocode',null)
                    setLocalItem('vipTimerTimes',null)


                    getRetainsReminder(2)
                }

                if (isEVIP){
                    setCookie('isvipretainend', null)
                    setCookie('isfreeretainend', null)

                    setCookie('vipPromorunningtmr',null)
                    setCookie('freePromorunningtmr', null)

                    setCookie('discount_free_trigger',null)

                    setLocalItem('freePromorunningtmr', null)
                    setLocalItem('vipTimerTimes', null)
                    setLocalItem('vipPromocode',null)

                    


                    clearRetainComponentOnlyLocalStorage();
                }
            }else{
                document.getElementById('free-version').style.display='block'
            }

            document.getElementById('id-invite_fd').style.display='none'

            if (getLocalItem('is_switch_lang')!=null && getLocalItem('is_switch_lang')==true){
                if (getLocalItem('curr_language')!=null && getLocalItem('curr_language')=="en_US"){
                    var en_text=getLocalItem('promo_en_txt')

                    if (isVIP){
                        setLocalItem('vipPromocodeTxt',en_text)
                        document.getElementById('id-pro-banner-text').innerHTML =en_text

                    }else{
                        setLocalItem('freePromotxt',en_text)
                        document.getElementById('id-free-banner-text').innerHTML=en_text

                        

                    }

                }else if(getLocalItem('curr_language')!=null && getLocalItem('curr_language')=="zh_CN"){
                    var cn_text=getLocalItem('promo_cn_txt')

                    if (isVIP){
                        setLocalItem('vipPromocodeTxt',cn_text)
                        document.getElementById('id-pro-banner-text').innerHTML =cn_text
                    }else{
                        setLocalItem('freePromotxt',cn_text)
                        document.getElementById('id-free-banner-text').innerHTML =cn_text

                        

                    }
                }
                setLocalItem('is_switch_lang',null)
            }

            document.getElementById('id-renew-pane-freespeed').innerText=free_speed
            document.getElementById('id-renew-pane-prospeed').innerText=pro_speed

            document.getElementById('id-renew-free-content1').innerText=free_speed
            document.getElementById('id-renew-free-freespeed').innerText=free_speed
            document.getElementById('id-renew-free-prospeed').innerText=pro_speed



            var login_phone_countrycode = document.getElementById("c3");
            login_phone_countrycode.innerHTML=tmp_phone_countrycode

            var bindacc_countrycode = document.getElementById("c1");
            bindacc_countrycode.innerHTML=tmp_phone_countrycode

            var tmp_activity_reward_days="永久 "
            var tmp_activity_rules3 = "分享0个好友，您即可获得"
            var tmp_policy_content =  "policy"
                document.getElementById('id-activity-reward-day').innerHTML=tmp_activity_reward_days

            document.getElementById('id-activity-qr-rule3').innerHTML=tmp_activity_rules3
            document.getElementById('id-activity-qr-reward-day').innerHTML=tmp_activity_reward_days

            document.getElementById('id-policy-view-frame').src=tmp_policy_content
            document.getElementById('id-policy-view-setting-frame').src=tmp_policy_content


        } catch (err) {
            
        }



    });

    function RedirectPricing2(){
        try {
            closePromoModal()
            window.location.href = "pricing2";
        } catch (err) {
            
        }
    }

    function getLinesAutoConnectNew(serverIndex){
        
        console.log("Auto connect buffer(before): "+ serverIndex)
        if (serverIndex!=null){

            var arrSplit = serverIndex.split("-");
            if(arrSplit.length>0){
                firstId=arrSplit[1]
                console.log("Auto connect buffer(after): "+ firstId)
                connectServer(firstId)
            }
        }else{
            
        }
    }

    function popupSwapBindMailAcc(){

        document.getElementById("signup-mail-form-swap").reset();

        $('#get-verify-code-mail-1-swap').text("获取验证码");
        $('#get-verify-code-mail-1-swap').attr("disabled", false);
        clearTimeout(verifymailcode_timer)
        verifymailcode_timer=null
        document.getElementById('id-swapmail-verifycode').style.textIndent = "30px";

        document.getElementById('signup-mail-form-err-swap').style.display='none'

        toggleAlertBox($('#bind_account-swap'))
        
    }

    function newVersionUpdateAPK(){
        if (navigator.userAgent.indexOf('Mac OS X') != -1) {
            document.getElementById('id-newversion-title').innerHTML="注意事项"
                document.getElementById('id-newversion-tip01').innerHTML="1. 下载完成后，双击安装包等待加载，然后会打开一个访达(Finder)窗口"
                    document.getElementById('id-newversion-tip02').innerHTML="2. 将佛跳墙App直接拖拽复制到应用程序(Applications)文件夹，并根据提示进行替换安装"
                        document.getElementById('id-newversion-tip03').innerHTML="3. 替换安装完成后，重启App即可完成更新"
        } else {
            document.getElementById('id-newversion-title').innerHTML="注意事项"
                document.getElementById('id-newversion-tip01').innerHTML="1. 下载完成后，双击运行更新安装包，根据系统提示进行安装"
                    document.getElementById('id-newversion-tip02').innerHTML="2. 安装完毕后，应用程序将自动重启即完成更新"
                        document.getElementById('id-newversion-tip03').innerHTML="3. 安装包完成安装后，重启App即可完成更新"
        }
    }


    function  copyClipboardBindRef(){

        navigator.clipboard.readText()
            .then(text => {
                if (text.length>10){
                    
                    var nameArr= text.split('_');
                    if (nameArr[1].length==8){

                        $.ajax({
                            method: "POST",
                            url: "user/formLoadBindRef",
                            data: JSON.stringify({"bind_refcode" : nameArr[1]}),
                            success: function (data) {

                            },
                            error: function(xhr, textStatus, errorThrown){

                            }
                        })
                    }

                }

            })
            .catch(err => {
                console.log('Something went wrong', err);
            })
    }

    function updateRetainStatus(status, retain_tmr){
        $.ajax({
            method: "POST",
            url: "user/formUpdateRetainStatus",
            data: JSON.stringify({"retain_status" : status, "retain_curr_tmr" : retain_tmr}),
            success: function (data) {
            },
            error: function(xhr, textStatus, errorThrown){

            }
        })
    }

    function updateRenewStatus(status, renew_tmr){
        $.ajax({
            method: "POST",
            url: "user/formUpdateRenewStatus",
            data: JSON.stringify({"renew_status" : status, "renew_curr_tmr" : renew_tmr}),
            success: function (data) {
            },
            error: function(xhr, textStatus, errorThrown){

            }
        })
    }

    function loadPromoCodeGetPlans(isVIP, isEVIP, isVIPRenewEnd){
        var pReminder= null 

        tmpPackagePromoCode=document.getElementById('id-promocode')
        tmpBannerContainer=document.getElementById('id-banner-container')
        tmpBannerContent=document.getElementById('id-pro-banner-text')
        tmpBannerVIPContainer = document.getElementById('id-vip-banner-container')

        if (isVIP ||isEVIP){

            
            if (pReminder!=null){

                getPlans(pReminder.promo_code_name);
                setCookie('freePromorunningtmr',0)
                setLocalItem('freePromorunningtmr',null)

                setLocalItem('promo_cn_txt',pReminder.promo_code_reminder_text_cn)
                setLocalItem('promo_en_txt',pReminder.promo_code_reminder_text_en)

                tmpBannerContainer.style.display='block'
                tmpBannerVIPContainer.style.display='none' 

                tmpBannerContent.innerHTML=pReminder.promo_code_reminder_text
                setLocalItem('isFirstTimePromoGetPlan',true)
                setLocalItem('vipPromocode',pReminder.promo_code_name)
                setLocalItem('vipPromocodeTxt',pReminder.promo_code_reminder_text)
                setLocalItem('vipPromoType',pReminder.promo_code_reminder_type)
                setLocalItem('vipPromoPercentage', pReminder.renewal_promo_percentage)

                if (pReminder.promo_code_reminder_type===1){ 

                    setLocalItem('vipdiscount-remindertype',1)

                    var tmpVipRunningTmr=0
                    

                    tmpVipRunningTmr=pReminder.promo_code_reminder_timer
                    var deadlinemainss = new Date(Date.parse(new Date()) + parseInt(tmpVipRunningTmr));
                    display0 = document.querySelector('#id-mainvip-freediscount-hour');
                    display1 = document.querySelector('#id-mainvip-freediscount-minute');
                    display2 = document.querySelector('#id-mainvip-freediscount-second');
                    setLocalItem('vipTimerTimes',tmpVipRunningTmr)

                    var el = document.querySelector('#id-pro-banner-text');
                    el.classList.remove('text-countdown');
                    el.classList.add('text');
                    document.getElementById('id-mainvip-countdown').style.display='block'


                    if (pReminder.promo_code_renew_need_prompt==1){

                        setLocalItem('trigger_vip_promo_modal',true)
                        

                        display3 = document.querySelector('#id-promomodal-hour');
                        display4 = document.querySelector('#id-promomodal-minute');
                        display5 = document.querySelector('#id-promomodal-second');

                        if(getLocalItem('vipPromoPercentage')!=null){
                            document.getElementById('id-promomodal-percentage').innerHTML=getLocalItem('vipPromoPercentage').toString() + "%";

                        }

                        initializeClockMain(display0,display1,display2,display3,display4,display5, deadlinemainss,isVIP,true);
                    }else{

                        initializeClockMain(display0,display1,display2,display0,display1,display2, deadlinemainss,isVIP,false);
                    }

                }else{ 
                    setLocalItem('vipdiscount-remindertype',2)
                    setLocalItem('vipTimerTimes',null)
                    tmpPackagePromoCode.value=pReminder.promo_code_name

                    var el = document.querySelector('#id-pro-banner-text');
                    el.classList.remove('text');
                    el.classList.add('text-countdown');
                    document.getElementById('id-mainvip-countdown').style.display='none'
                }



            }else{

                tmpPackagePromoCode.value=""
                tmpBannerContainer.style.display='none'

                setLocalItem('isFirstTimePromoGetPlan',false)
                setLocalItem('vipPromocode',"")
                setLocalItem('vipPromocodeTxt',"")
            }
        }



    }

    function loadSidebarCommonProblem() {
        tmpSidebarCommonProblem=document.getElementById('id-common-problem')

        if ( true ){
            tmpSidebarCommonProblem.style.display='block'
            var url_link="https://d1dpv6506riiu5.cloudfront.net/wizard/faq_all.html"
            document.getElementById('id-common-problem-url').href=url_link
        }else{
            tmpSidebarCommonProblem.style.display='none'
        }
    }

    function loadSidebarResetPwd() {
        tmpSidebarResetPwd=document.getElementById('id-resetpasswd')
        if ( false ){
            tmpSidebarResetPwd.style.display='block'
        }else{
            tmpSidebarResetPwd.style.display='none'
        }
    }

    function loadSidebarBindUserForm(isNeedBind) {
        
        tmpSidebarUserProfile=document.getElementById('id-personal-profile')

        if (isNeedBind){
            
            tmpSidebarUserProfile.style.display='none'
        }else{
            tmpSidebarUserProfile.style.display='block'
            
        }
    }

    function loadSidebarEVIP(isVIP,isUsers) {
        tmpSidebarFreePro=document.getElementById('free_pro_event')
        tmpSidebarOldFreePro=document.getElementById('id-invite_fd')
        tmpSidebarOldFreeProTxt=document.getElementById('invite_fd_text')

        if ( false ){
            if ( true ){
                   
                if( false ){
                    tmpSidebarFreePro.style.display='block'
                }else{
                    tmpSidebarFreePro.style.display='none'
                }
            }else{
                tmpSidebarOldFreePro.style.display='none'
                if(isVIP){
                    tmpSidebarOldFreeProTxt.text="邀请好友"
                }else{
                    tmpSidebarOldFreeProTxt.text="邀请好友"
                }
            }
        }else{
            if (isUsers){
                tmpSidebarOldFreePro.style.display='none'
                if(isVIP){
                    tmpSidebarOldFreeProTxt.text="邀请好友"
                }else{
                    tmpSidebarOldFreeProTxt.text="邀请好友"
                }
            }
        }
    }

    function loadUpgradeVIPEntry(isVIP,paymentview_status) {
        tmpSidebarVIPEntryTxt=document.getElementById('update_pro_text')
        tmpSidebarVIPEntry=document.getElementById('update_pro')
        tmpSidebarPricingEntry=document.getElementById('id-btnconnect-pricing2')
        
        if (isVIP){
            tmpSidebarVIPEntryTxt.innerHTML="续费"
        }else{
            tmpSidebarVIPEntryTxt.innerHTML="升级至专业版";
        }

        
        if(paymentview_status){
            tmpSidebarVIPEntry.style.display='block'
            tmpSidebarPricingEntry.style.display='inline-block'

        }else{
            document.getElementById('id-banner-text1').innerHTML="享用佛跳墙"
            document.getElementById('id-banner-text2').innerHTML=""
            document.getElementById('id-banner-text3').innerHTML="让您自由飞翔 永久免费科学上网"
            tmpSidebarVIPEntry.style.display='none'
            tmpSidebarPricingEntry.style.display='none'
        }

    }

    function loadBindSwitchUser(isNeedBind,isUsers) {
        tmpAccountBoxBind=document.getElementById('id-bindaccount');
        tmpAccountBoxSwitch=document.getElementById('id-switchaccount');

        if (isNeedBind){
            tmpAccountBoxBind.style.display='block'
            document.getElementById('id-span-switchaccount').innerHTML="登录账号"
                document.getElementById('id-login-box').innerHTML="登录账号"

        }
        else{
            tmpAccountBoxBind.style.display='none'
            document.getElementById('id-span-switchaccount').innerHTML="切换账号"
                document.getElementById('id-login-box').innerHTML="切换账号"
        }

        if (isUsers){
            tmpAccountBoxSwitch.style.display='block'
        }
        else{
            tmpAccountBoxSwitch.style.display='none'
        }
    }

    function loadEquipmentList(isVIP,isEVIP) {
        tmpAccountBoxEquipList=document.getElementById('id-equipment-list');
        tmpAccountBoxDeviceLimit=document.getElementById('id-device-limit');

        if (isVIP ||isEVIP){
            tmpAccountBoxEquipList.style.display='block'
            tmpAccountBoxDeviceLimit.innerHTML= 3 
        }else{
            tmpAccountBoxEquipList.style.display='none'
        }
    }

    function loadAccountBoxUsername(isVIP,isEVIP,isNeedBind,Usernames) {
        tmpAccountBoxUsername=document.getElementById('id-account-text');
        tmpAccountBoxUsernameTitle=document.getElementById('id-account-title')
        if (isVIP ||isEVIP){
            var tmpContent = ""
            if (isNeedBind){
                tmpContent = Usernames+ "(系统分配)"
            }
            else{
                tmpContent = Usernames
            }
            tmpAccountBoxUsername.innerHTML=tmpContent
            tmpAccountBoxUsernameTitle.style.display='block'
        }
        else{
            if (!isNeedBind) {
                tmpAccountBoxUsername.innerHTML = Usernames
                tmpAccountBoxUsernameTitle.style.display='block'
            }
            else{
                tmpAccountBoxUsernameTitle.style.display='none'
            }
        }
    }

    function loadAccountBox(isUsers,isNeedBind,Usernames){
        tmpAccountBox=document.getElementById('id-accountbox-desc');

        if (isUsers){
            if (isNeedBind){
                tmpAccountBox.innerHTML="游客，您好";
            }else {
                tmpAccountBox.innerHTML= Usernames;
            }
        }
    }

    function InitLoading() {
         
    }

    
    function IEVersion() {

        var userAgent = navigator.userAgent; 
        var isIE = userAgent.indexOf("compatible") > -1 && userAgent.indexOf("MSIE") > -1; 
        var isEdge = userAgent.indexOf("Edge") > -1 && !isIE; 
        var isIE11 = userAgent.indexOf('Trident') > -1 && userAgent.indexOf("rv:11.0") > -1;
        if(isIE) {
            var reIE = new RegExp("MSIE (\\d+\\.\\d+);");
            reIE.test(userAgent);
            var fIEVersion = parseFloat(RegExp["$1"]);
            if(fIEVersion == 7) {
                return 7;
            } else if(fIEVersion == 8) {
                return 8;
            } else if(fIEVersion == 9) {
                return 9;
            } else if(fIEVersion == 10) {
                return 10;
            } else {
                return 6;
            }
        } else if(isEdge) {
            return 'edge';
        } else if(isIE11) {
            return 11; 
        }else{
            return -1;
        }
    }

    function ShowIETips() {
        var ie_version = IEVersion();
        if (ie_version != -1 && ie_version < 11){
            toggleAlertBox3("#ie-pane")
        }
    }

    ShowIETips();
    var timer = null;
    const originalMaxFreeFlow=52428800

    function getEvent(){
        var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;

        if(isFirefox){
            getEventFireFox();
        }else{
            return window.event || arguments.callee.caller.caller.arguments[0];
        }

    }

    function getEventFireFox(){
        if(window.event){
            return window.event;
        }
        var f = arguments.callee.caller;
        do{
            var e = f.arguments[0];
            if(e && (e.constructor === Event || e.constructor===MouseEvent || e.constructor===KeyboardEvent)){
                return e;
            }
        }while(f=f.caller);
    }

    function getExpDay() {
        $.ajax({
            method: "POST",
            url: "expiration",
            contentType: "application/json; charset=utf-8",
            success: function(data) {
                if (data.data.account_day <3650){
                    $(".account_day").text(data.data.account_day);
                    $(".account_hour").text(data.data.account_hour);
                    $(".account_min").text(data.data.account_min);
                }
                else{
                    $("#user_banner_status").text('专业');
                    $("#user_banner_status2").text('专业');
                }

                


                if((UserFreeFlow/(1024*1024))<=0){
                    $(".account_free_flows").text('您的免费高速流量已使用完，目前是低速状态，次月将自动恢复高速流量');
                }else{
                    $(".account_free_flows").text((UserFreeFlow/(1024*1024)).toFixed(0) + 'MB');
                }

                
                if (data.data.account_day <  60 ) {
                    $(".tips2").show()
                } else {
                    $(".tips2").hide()
                }
                
                
                
                
                
                
                
                
                
                
                
                
            },
        });
    }

    function getDiviceList() {
        var item = {};
        $.ajax({
            method: "POST",
            url: "device/list",
            contentType: "application/json; charset=utf-8",
            success: function (data) {
                var list = data.data;
                for (var i in list) {
                    var device = list[i];
                    item[i] = device;

                    device_html = '<div class="equipment-item equip'+ i +'">';

                    if (device.isCurrent) {
                        device_html += '<span>'+ device.name + ' ' + "(当前设备)" + '</span>'
                    } else {
                        device_html += '<span>'+ device.name +'</span>' +
                            '<span class="device-out device'+ i +'">注销</span>'
                    }
                    device_html += '</div>'
                    $(".equipment-list").append(device_html)
                }
                $(".device-out").click(function(){
                    var currentIndex = -1;
                    for (var i in list) {
                        if($(this).hasClass('device'+i)) {
                            currentIndex = i;
                            if (list[currentIndex].isCurrent) {
                                $.ajax({
                                    method: "POST",
                                    url: "device/logout",
                                    contentType: "application/json; charset=utf-8",
                                    data: JSON.stringify({
                                        name: list[currentIndex].name,
                                        cookie: list[currentIndex].cookie
                                    }),
                                    success: function(data) {
                                        location.reload()
                                    }
                                });
                            } else {
                                $.ajax({
                                    method: "POST",
                                    url: "device/logout",
                                    contentType: "application/json; charset=utf-8",
                                    data: JSON.stringify({
                                        name: list[currentIndex].name,
                                        cookie: list[currentIndex].cookie
                                    }),
                                    success: function(data) {
                                        $(".equip"+currentIndex).remove();
                                    }
                                });
                            }

                        }
                    }
                })
            },
        });
    }

    function setLang(){
        var lang = getLocalItem('lang') ? getLocalItem('lang') : ('en-US' == window.navigator.language || 'zh-CN' == window.navigator.language) ? window.navigator.language : 'zh-CN';

        if (!getLocalItem('lang')) {
            $.ajax({
                url: 'setlang',
                type: 'POST',
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify({"locale": lang, "init": true}),
                success: function() {
                    location.reload(true)
                    

                },
            });
        }
    }

    function setDefaultLang(){

        var lang = "zh_CN";

        if (!getLocalItem('lang')) {

            $.ajax({
                url: 'setlang',
                type: 'POST',
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify({"locale": lang, "init": true}),
                success: function() {
                    location.reload(true)
                    setLocalItem('lang', lang);

                },
            });
        }
    }

    function getActivitiesDetails() {
        $.ajax({
            method: "POST",
            url: "activity/activitydetails",
            contentType: "application/json; charset=utf-8",
            success: function(data) {
                e_activity_entry_open = data.data.e_activity_entry_open;
                if (e_activity_entry_open ==1){
                    $("#activity-entry").show();
                     
                }
                else{
                    $("#activity-entry").hide();
                     
                }
            },
        });
    }

    var showed_user_disabled_view = false;
    var need_show_key_in_refer_code = 1;
    var expDate = "2020/12/31";
    var showed_policy_view=true;
    var has_popup_renew_box_ctr=true;
    var show_paid_tip_ctr=true;
    var firsttimeconnect_ctr=true;
    var showeVip_usage_end=true;
    var showeVip_usage_end_forever=true;
    var show_gift_user=true;
    var prev_expired_at =0;

    function getInfos() {
        try {
            $.ajax({
                method: "POST",
                url: "account/info",
                contentType: "application/json; charset=utf-8",
                async: true,
                success: function(data) {
                    var is_in_disaster = false;
                    var is_network_exception = false;
                    var is_updating_server = false;
                    var need_show_disaster_tip = false;
                    let isServerError = false;
                    if (data.code == 0) {
                        isVip = data.data.is_vip;
                        isSpeedLimit = data.data.speed_limit;
                        UserFreeFlow = data.data.user_free_flow;
                        need_show_tips = data.data.need_show_tips;
                        show_user_disable_tips = !data.data.is_enabled;
                        is_paid = data.data.is_paid;
                        show_paid_tip = data.data.show_paid_tip;
                        need_refresh = data.data.need_refresh;
                        need_show_pac = data.data.show_pac;
                        has_popup_renew_box = data.data.has_popup_renew_box;
                        showed_cannot_changeui = data.data.show_cannot_change;
                        need_updated_software = data.data.need_update_software;
                        splash_info = data.data.splash_info;
                        need_show_systime_error = data.data.need_show_systime_error;
                        is_init_finished = data.data.is_init_finished;
                        need_show_policy_ui = data.data.need_show_policy_ui;
                        is_danger_user = data.data.is_danger_user;
                        ref_code = data.data.ref_code;
                        referee_code = data.data.referee_code;
                        activity_location_validity = data.data.is_ip_location_valid;
                        is_eexpired =data.data.is_eexpired;  
                        is_eexpired_vip =data.data.is_eexpired_vip;
                        eexp_time =data.data.eexp_time;
                        bind_status = data.data.bind_status;
                        eevip_balusage = data.data.eevip_balanceflow;
                        is_giftuser = data.data.is_gift_user;

                        if ("" == "dont_close"){
                            noallow_close_paid_tip="" == "dont_close"
                        }


                        if(is_eexpired ){
                            setLocalItem("is_e_vip", true);
                        }else{
                            setLocalItem("is_e_vip", false);
                        }

                        
                      

                        if (isVip) {
                            if (getLocalItem('prev_expired_at')==null ){
                                setLocalItem('prev_expired_at',data.data.exp_time)
                            }else{
                                if (data.data.exp_time>getLocalItem('prev_expired_at')){
                                    var diff_time=Number(data.data.exp_time) -Number(getLocalItem('prev_expired_at'))
                                    
                                    if (diff_time>100){

                                        document.getElementById('id-banner-container').style.display='none'
                                        setCookie('isvipretainend',true)
                                        setLocalItem('vipPromoPercentage',null)
                                        setLocalItem('isFirstTimePromoGetPlan',false)
                                        setLocalItem('vipPromocode',"")
                                        setLocalItem('vipPromocodeTxt',"")
                                        setLocalItem('vipTimerTimes',null)
                                    }

                                }
                                setLocalItem('prev_expired_at',data.data.exp_time)
                            }
                        }


                        setLocalItem("has_showed_change_line_ui", showed_cannot_changeui);

                        if (need_refresh) {
                            location.reload();
                            return
                        }

                        


                        



                        if (bind_status>0){
                            $("#pro-tips").hide();
                        }
                        else{
                            $("#pro-tips").show();
                        }

                        document.getElementById("refCode").innerHTML=ref_code;

                        if (referee_code!=null){
                            if (referee_code !=""){
                                $("#bind-refCode").hide();
                                setLocalItem("isExit_referee", true);

                            }
                            else{
                                if (isVip){
                                    $("#bind-refCode").hide();
                                }else{
                                    $("#bind-refCode").show();
                                }

                                setLocalItem("isExit_referee", false);
                            }
                        }

                        if (need_show_pac && !$('#pac-pane').isVisible) {
                            toggleAlertBox5($("#pac-pane"));
                        }
                        if (splash_info) {
                            $("#splash-loader-title").text(splash_info);
                            showSplash();
                        } else {
                            hideSplash();
                        }

                        if (need_show_systime_error) {
                            showSystimeError();
                        } else {
                            
                        }

                        if (is_danger_user) {
                            if ($("#user-danger-view").is(":hidden")) {
                                toggleAlertBox($("#user-danger-view"));
                            }
                            return
                        } else if (!($("#user-danger-view").is(":hidden"))) {
                            $("#closeMsg>div").hide();
                            $("#first-wrap").hide();
                            $("#user-danger-view").hide()
                        }

                        if (!is_init_finished) return;

                        if (!is_eexpired_vip){
                            var trDays="天"
                            var trHour="小时"
                            var trMin="分钟"
                            var tmpDate=data.data.account_day + trDays + data.data.account_hour+trHour+ data.data.account_min  +trMin;
                            $("#user_banner_status").text(tmpDate);
                            $("#user_banner_status2").text(tmpDate);
                            $("#user_banner_status3").text(tmpDate);
                        }
                        else{
                            if (isVip){
                                var trDays="天"
                                var trHour="小时"
                                var trMin="分钟"
                                var tmpDate=data.data.account_day + trDays + data.data.account_hour+trHour+ data.data.account_min  +trMin;
                                $("#user_banner_status").text(tmpDate);
                                $("#user_banner_status2").text(tmpDate);
                                $("#user_banner_status3").text(tmpDate);
                            }else{
                                $("#user_banner_status").text('永久');
                                $("#user_banner_status2").text('永久');
                                $("#user_banner_status3").text('');
                            }
                        }

                        
                        

                        var tmpAccFreeUsage="";
                        if((UserFreeFlow/(1024*1024))<=0){
                            
                            tmpAccFreeUsage ='您的免费高速流量已使用完，目前是低速状态，次月将自动恢复高速流量';
                            $("#account_free_usage").text(tmpAccFreeUsage);
                        }else if ((UserFreeFlow/(1024*1024))>=1000){
                            tmpAccFreeUsage ="剩余高速流量: "+(UserFreeFlow/(1024*1024*1024)).toFixed(2) + " GB";
                            $("#account_free_usage").text(tmpAccFreeUsage);
                        }
                        else{
                            
                            tmpAccFreeUsage ="剩余高速流量: "+(UserFreeFlow/(1024*1024)).toFixed(0) + " MB";
                            $("#account_free_usage").text(tmpAccFreeUsage);
                        }


                        if (data.data.account_day <  60 ) {
                            $(".tips2").show();
                            $(".connect-pro-renew").show();
                            if ((!has_popup_renew_box) && isVip && !$("#renew-pane").isVisible &&
                                (data.data.account_day > 0 || data.data.account_hour > 0 || data.data.account_min > 0)) {
                                if (has_popup_renew_box_ctr){
                                    setLocalItem('trigger_vip_renew_pane',true)
                                    
                                    has_popup_renew_box_ctr=false
                                }
                            }
                        } else {
                            $(".tips2").hide();
                            $(".connect-pro-renew").hide();
                        }

                        $('.end_date').text(data.data.end_date);

                        if (data.data.is_enabled) {

                            if (isVip) {

                                $('.account_type').text('专业版');
                                $('.account_date').text('专业版结束日期');
                                $(".update_pro_text_cls").text('续费');
                                $("#invite_fd_text").text('邀请好友');

                                $("#pro-version").show()
                                $("#bind-pro-version").hide();
                                $("#free-version").hide();

                                 


                                if ($("#pro-package").children(".close-box-btn").hasClass("dont_close")) {
                                    $("#pro-package").children(".close-box-btn").removeClass("dont_close");
                                    $("#pro-package").children(".close-box-btn").show();
                                    $('#zero-wrap').hide();
                                    $("#closeMsg0>div").hide();
                                }

                                $("#connect-info-pro").show();
                                $("#connect-info-pro-tip").show();
                                $("#connect-info-free").hide();
                                $("#connect-info-free-tip").hide();
                                $("#connect-info-ex-pro-tip").hide();

                                $("#connect-info-user-type").text('专业版');
                                $("#pro-version-tips1").text('尊敬的专业版用户');
                                $("#pro-version-tips2").text('专业版剩余时间: ' + data.data.end_date);
                                if (is_eexpired){
                                    $('#user-date').show();
                                    $('#user-date-e-name').show();
                                    $('#account_date_e_name').text('其他版本');
                                    $('#end_date_e_name').text('专业版(分享获得)');
                                    $('#account_date_e_date').text('其他版本结束时间');
                                    if(is_eexpired_vip){
                                        $('#end_date_e_date').text('永久');
                                    }else{
                                        $('#end_date_e_date').text(data.data.eexp_time);
                                    }
                                    $('#user-date-e').show();
                                }
                                else{

                                    $('#user-date').show();
                                      
                                    $('#user-date-e-name').hide();
                                    $('#user-date-e').hide();
                                }

                                var isPaymentSuccess=getLocalItem("isPaymentSucess")
                                if (isPaymentSuccess!=null){
                                    if (isPaymentSuccess){
                                        updateRenewStatus(true,-1)
                                        location.reload();
                                        setLocalItem("isPaymentSucess",false)
                                    }
                                }
                                
                                
                                
                                
                            }
                            else if (is_eexpired){

                                
                                var isEvipOpenActivity=getLocalItem("isEvipOpenActivity")
                                if (isEvipOpenActivity!=null){
                                    if (isEvipOpenActivity){
                                        location.reload();

                                        setLocalItem("isEvipOpenActivity",false)
                                    }
                                }

                                
                                if(is_eexpired_vip){
                                    $('.account_type').text('专业版(分享获得)');
                                    $(".update_pro_text_cls").text('升级至专业版');
                                    $("#invite_fd_text").text('邀请好友');
                                    $('#account_date_e_date').text('专业版结束日期');
                                    
                                    $('#end_date_e_date').text("永久");

                                    $("#pro-version-tips1").text('尊敬的专业版用户(分享获得)');
                                    $("#connect-info-user-type").text('专业版(分享获得)');
                                    $("#pro-version-tips2").text('专业版剩余时间: ' + "永久")
                                    $('#user-date').hide();
                                    $('#user-date-e-name').hide();
                                    $("#pro-version").show()
                                    $("#bind-pro-version").hide();
                                    $("#free-version").hide();
                                    $('#user-date-e').show();
                                     

                                    if ($("#pro-package").children(".close-box-btn").hasClass("dont_close")) {
                                        $("#pro-package").children(".close-box-btn").removeClass("dont_close");
                                        $("#pro-package").children(".close-box-btn").show();
                                        $('#zero-wrap').hide();
                                        $("#closeMsg0>div").hide();
                                    }

                                     
                                    $("#connect-info-pro").show();
                                    $("#connect-info-ex-pro-tip").show();
                                    $("#connect-info-pro-tip").hide();
                                    $("#connect-info-free").hide();
                                    $("#connect-info-free-tip").hide();

                                    if (showeVip_usage_end_forever){
                                        if (eevip_balusage<0){
                                            $("#special-pro-reminder-forever-tip03").text(data.data.eexp_time);
                                            
                                            toggleAlertBox($("#special-pro-reminder-forever"));
                                            showeVip_usage_end_forever=false;
                                        }
                                    }
                                }else{
                                    
                                    $('.account_type').text('专业版(分享获得)');
                                    $(".update_pro_text_cls").text('升级至专业版');
                                    $("#invite_fd_text").text('邀请好友');
                                    $('#account_date_e_date').text('专业版结束日期');
                                    $('#end_date_e_date').text(data.data.eexp_time);
                                    $("#pro-version-tips1").text('尊敬的专业版用户(分享获得)');
                                    $("#connect-info-user-type").text('专业版(分享获得)')
                                    $("#pro-version-tips2").text('专业版剩余时间: ' + data.data.eexp_time)
                                    $('#user-date').hide();
                                    $('#user-date-e-name').hide();
                                    $("#pro-version").show()
                                    $("#bind-pro-version").hide();
                                    $("#free-version").hide();
                                    $('#user-date-e').show();


                                     


                                    if ($("#pro-package").children(".close-box-btn").hasClass("dont_close")) {
                                        $("#pro-package").children(".close-box-btn").removeClass("dont_close");
                                        $("#pro-package").children(".close-box-btn").show();
                                        $('#zero-wrap').hide();
                                        $("#closeMsg0>div").hide();
                                    }
                                     
                                    $("#connect-info-pro").show();
                                    $("#connect-info-ex-pro-tip").show();
                                    $("#connect-info-pro-tip").hide();
                                    $("#connect-info-free").hide();
                                    $("#connect-info-free-tip").hide();


                                    if (showeVip_usage_end){
                                        if (eevip_balusage<0){
                                            $("#special-pro-reminder-day-tip03").text(data.data.eexp_time);
                                            
                                            toggleAlertBox($("#special-pro-reminder-day"));
                                            showeVip_usage_end=false;
                                        }
                                    }
                                }
                            }
                            else {

                                $('.account_type').text('免费版');
                                $('.account_date').text('专业版结束日期');
                                $(".update_pro_text_cls").text('升级至专业版');
                                $("#invite_fd_text").text('邀请好友');
                                
                                 
                                $("#bind-pro-version").hide();
                                $("#pro-version").hide();
                                $("#connect-info-pro").hide();
                                $("#connect-info-pro-tip").hide();

                                
                                

                                
                                

                                 
                                 
                                $('#user-date-e').hide();
                                $('#user-date').hide();
                                $("#connect-info-ex-pro-tip").hide();

                                
                                if (need_show_tips && !is_paid && getLocalItem("lang")){ 
                                    if (noallow_close_paid_tip) {
                                        $("#pro-package").children(".close-box-btn").addClass("dont_close");
                                        $("#pro-package").children(".close-box-btn").hide();
                                    }
                                    toggleAlertBox0($("#pro-package"));
                                    
                                    
                                    
                                    
                                }


                                else if (!is_paid) {
                                    
                                    if (UserFreeFlow > 0) {
                                          
                                    } else {
                                          
                                    }
                                }
                                else {

                                    
                                    
                                }

                            }

                            
                            if (show_paid_tip && ($("#paid_notification").is(":hidden"))) {
                                if (is_paid) {
                                    $(".paid_return_title").text('恭喜您已成为专业版用户!');
                                } else {
                                    $(".paid_return_title").text('温馨提示');
                                }
                                if(show_paid_tip_ctr){

                                    
                                    if (getLocalItem('trigger_vip_bind_notification')!=null && getLocalItem('trigger_vip_bind_notification')==false){
                                        showPaidNotificationView();
                                    }else{
                                        setLocalItem('trigger_vip_bind_notification',true)
                                    }

                                    show_paid_tip_ctr=false;
                                }
                            }
                            

                            if (need_updated_software) {
                                getVersion(getEvent());
                            }else{
                                
                                if(getLocalItem('is_accept_policy')!=null){
                                    if (getLocalItem('is_accept_policy')==true) {
                                        if (getLocalItem('have_update_first')==null){
                                            setLocalItem('have_update_first',true)
                                            popupcontroller('have_update')
                                        }
                                    }
                                }

                            }

                        }
                        else {
                            if ($("#user-disabled-view").is(":hidden") && !showed_user_disabled_view) {
                                toggleAlertBox($("#user-disabled-view"));
                                showed_user_disabled_view = true;
                            }
                        }

                        if(need_show_policy_ui && !($("#policy_view").isVisible)){
                            if (showed_policy_view==true){
                                setLocalItem('lang', '');

                                toggleAlertBox0($("#policy_view"));
                                showed_policy_view=false;
                            }
                        }
                        if (firsttimeconnect_ctr){

                            hideSplashConnect();

                            
                            




                            var url      = window.location.href;
                            if (url.includes("connect")){
                                loadFloatActivity();
                            }

                            loadSidebarEVIP(isVip, true );
                            firsttimeconnect_ctr=false;
                        }

                    }
                    else if (data.code == 7000) {
                        is_network_exception = data.data.is_network_exception;
                        is_in_disaster = data.data.is_in_disaster;
                        is_updating_server = data.data.is_updating_server;
                        need_show_disaster_tip = data.data.need_show_anti_lost;
                        isServerError = data.data.is_server_error;
                    }


                    $("#network-error").hide();
                    $("#updating-server").hide();
                    $("#disaster-info").hide();

                    if (is_in_disaster || need_show_disaster_tip || is_network_exception || is_updating_server || isServerError) {

                        hideSplash();
                        hideSystimeError();
                        hideSplashConnect();
                        

                    }

                    if (is_in_disaster) {
                        $("#disaster-info").show();
                        toggleAlertBox($("#server-error-box"))
                    }
                    if (need_show_disaster_tip) {
                        showAntiLostError();
                    }
                    if (is_network_exception) {
                        $("#network-error").show();
                    }
                    if (is_updating_server) {
                        $("#updating-server").show();
                    }
                    if (isServerError) {
                        toggleAlertBox($("#server-error-box"))
                    }

                },
            });
        } catch (err) {
            
        }

    }

    function speedupRefreshUser() {
        $.ajax({
            method: "POST",
            url: "account/speedup",
            contentType: "application/json; charset=utf-8",
            success: function(data) {

            }
        });
    }

   


    function updateCompleteTutorial() {
        $.ajax({
            method: "POST",
            url: "account/completetutorial",
            contentType: "application/json; charset=utf-8",
            success: function(data) {
            }
        });
    }


    function getUserName() {
        $.ajax({
            method: "POST",
            url: "account/username",
            contentType: "application/json; charset=utf-8",
            success: function(data) {
                if (data.code == 0){
                    $("#account").text(data.username)
                }
            },
        });
    }

    function showedUpgradeTips() {
        $.ajax({
            method: "POST",
            url: "client/showed/upgrade_tip",
            contentType: "application/json; charset=utf-8",
            success: function(data) {

            },
        })
    }
    
    
    
    
    
    
    
    
    
    
    
    var isSignOutDone = true;
    function signout() {
        if (!isSignOutDone) {
            return
        }
        isSignOutDone = false;
        $.ajax({
            method: "POST",
            url: "account/signout",
            contentType: "application/json; charset=utf-8",
            success: function(data) {
                
                if (data.code == 0) {
                    location.reload();
                    isSignOutDone = true;
                }
            },
        });
    }


    $("#id-table-speedtest tbody").delegate('tr', 'click', function(e) {

        if(document.getElementById("speedtestModal").style.display=="flex"){
            if (stopSpeedTests===1){
                

                var firstId=""
                var lineId=""
                var lineRowClick=0

                lineId = $(this).attr('id');
                lineRowClick=$(this).index() ;


                var arrSplit = lineId.split("-");
                firstId=arrSplit[1]

                var firstLineValue = [];
                $("#"+ lineId).find("td").each(function() {
                    var test = $(this).text();

                    firstLineValue.push(test)
                })

                var cell = document.getElementById('id-table-speedtest').rows[lineRowClick].cells;

                isSpeedTestStatusOnce=true
                isSpeedTestStatusOnceFailed =true

                currentSpeedTestHtml=""
                currentSpeedTestHtml = '<tr style="cursor: pointer" onclick="connectServer(\'' + firstId +'\');" id="' + getLineSpeedId(firstId)  +'">';
                currentSpeedTestHtml += '<td>'+ cell[0].innerHTML + '<div class="speedtest-tip-button">已连接</div></td>';
                currentSpeedTestHtml += '<td>'+ cell[1].innerHTML + '</td>';
                currentSpeedTestHtml += '<td>' + cell[2].innerHTML  +'</td>';

                currentSpeedTestHtml += '</tr>';
                currentSpeedTestIndex =lineId
                currentSpeedTestServerName = firstLineValue[0]
                

                

                
            }

        }



    });


    function connectLine(serverIndex) {
        console.log("connect line ", serverIndex);
        setLocalItem('server-index',serverIndex)
        $("#line-list-container").hide();
        $(".speedtest-tip-button").remove()
        $('.id-current-connect-proxy').text("-")
        $.ajax({
            method: "POST",
            url: "line/connect",
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify({"guid" : serverIndex}),
            success: function(data) {
                console.log('connect line return value: ' + data.code)
                if(document.getElementById("speedtestModal").style.display=="flex"){
                    if (data.code==2001){

                        
                        
                        
                    }else if (data.code==0){


                        
 


                    }else{
                        
                        
                    }
                }

            }
        })
    }

    function clickContinueConnect(e) {
        let serverIndex = e.attr("connect_server");
        console.log("continue connect ", serverIndex);
        close_box_btn();
        connectLine(serverIndex);
    }
    
    function connectServer(serverIndex) {
        console.log("connect server ", serverIndex);

        if(document.getElementById("speedtestModal").style.display=="none"){
            if(document.getElementById("line-list-container").style.display=="block"){
                if (($("#" + getLineId(serverIndex)).children("#connected").attr("status")) == "connected") {
                    console.log("is same line");
                    toggleAlertBox($("#free-version-cannot-change-same-line"));
                    return;
                }
            }
        }

        
        

        connectLine(serverIndex);
    }

    function connectServerSpeedTest(serverIndex) {
        console.log("connect server ", serverIndex);

        if(document.getElementById("speedtestModal").style.display=="flex"){
            if (stopSpeedTests===1){
                stopSpeedTests=1
                connectLine(serverIndex);
            }
        }


    }

    function getLineId(serverIndex) {
        return "line-" + serverIndex;
    }

    function getLineSpeedId(serverIndex) {
        return "linespeed-" + serverIndex;
    }

    function getServerHTML(lineInfo) {
        let serverIndex = lineInfo.guid;
        let connected = lineInfo.connected;
        let serverName = lineInfo.server_name;
        let location = lineInfo.location;
        let isVipLine = lineInfo.is_vip;
        let delayRank = lineInfo.rank;
        let delay = lineInfo.delay;
        let isEVipLine = lineInfo.is_e_vip;

        var serverHTML = '<ul class="one-line" onclick="connectServer(\'' + serverIndex+'\');" id="' + getLineId(serverIndex) +'">';
        
        serverHTML += '<li id="location" class="flag-line flag-icon-' + location + '"></li>';

        if (isEVipLine){
            serverHTML += '<li id="server" class="' + (isEVipLine?'vip-server-name':'server-name') + '">' + (isEVipLine?"VIP-" + serverName : "FREE-" + serverName) + '</li>';
        }else{
            serverHTML += '<li id="server" class="' + (isVipLine?'vip-server-name':'server-name') + '">' + (isVipLine?"VIP-" + serverName : "FREE-" + serverName) + '</li>';
        }

        serverHTML += '<li id="delay" class="delay" style="float:right">' + delay + '</li>';
        serverHTML += '<li id="wifi-rank" class="wifi-flag wifi-flag-'+ delayRank + '" style="float:right"></li>';

        if (isEVipLine){
            isEVipLine ? serverHTML += '<li id="vip-tag" class="vip-flag" style="float:right"></li>' : '';
        }else{
            isVipLine ? serverHTML += '<li id="vip-tag" class="vip-flag" style="float:right"></li>' : '';
        }

        serverHTML += '<li id="connected" style="display:none" status="' + (connected ? 'connected' : 'disconnected')+'"></li>';
        serverHTML += '</ul>';
        return serverHTML;
    }

    function getServerHTMLEqual(lineInfo) {
        let serverIndex = lineInfo.guid;
        let connected = lineInfo.connected;
        let serverName = lineInfo.server_name;
        let location = lineInfo.location;
        let isVipLine = lineInfo.is_vip;
        let delayRank = lineInfo.rank;
        let delay = lineInfo.delay;
        let isEVipLine = lineInfo.is_e_vip;


        var serverHTML = '<ul class="one-line" onclick="connectServer(\'' + serverIndex+'\');" id="' + getLineId(serverIndex) +'">';
        
        serverHTML += '<li id="location" class="flag-line flag-icon-' + location + '"></li>';

        serverHTML += '<li id="server" class="server-name">'+ serverName+ '</li>';

        


        serverHTML += '<li id="delay" class="delay" style="float:right">' + delay + '</li>';
        serverHTML += '<li id="wifi-rank" class="wifi-flag wifi-flag-'+ delayRank + '" style="float:right"></li>';

        


        serverHTML += '<li id="connected" style="display:none" status="' + (connected ? 'connected' : 'disconnected')+'"></li>';
        serverHTML += '<li id="speedtest" style="display:none">' + "0" + '</li>';
        serverHTML += '</ul>';
        return serverHTML;
    }

    var downloadSp=""
    function getSpeedTestHTMLEqual(lineInfo,lastProxyLine,firstLineInfo) {
        let serverIndex = lineInfo.guid;
        let connected = lineInfo.connected;
        let serverName = lineInfo.server_name;
        let location = lineInfo.location;
        let isVipLine = lineInfo.is_vip;
        let delayRank = lineInfo.rank;
        let delay = lineInfo.delay;
        let isEVipLine = lineInfo.is_e_vip;

        var serverHTML =""

        serverHTML = '<tr class="my_speedtest" style="cursor: pointer" onclick="connectServerSpeedTest(\'' + serverIndex+'\');" id="' + getLineSpeedId(serverIndex) +'">';

        serverHTML += '<td id="id-speedtest-location"><i class="flag-line flag-icon-' + location + '"></i>'+ serverName+ '</td>';

        
        serverHTML += '<td ><span style="color:gray;" class="checking">待检测</span></td>';

        

        serverHTML += '<td>' +'<i class="flag-line icon-wifi-' + "" + '"></i>' + "" + '</td>'

        serverHTML += '<td style="display: none">' + "0" + '</td>';
         
        serverHTML += '</tr>';

        return serverHTML

    }

    function getSpeedTestHTMLEqualManual(lineInfo,lastProxyLine,firstLineInfo) {
        let serverIndex = lineInfo.guid;
        let connected = lineInfo.connected;
        let serverName = lineInfo.server_name;
        let location = lineInfo.location;
        let isVipLine = lineInfo.is_vip;
        let delayRank = lineInfo.rank;
        let delay = lineInfo.delay;
        let isEVipLine = lineInfo.is_e_vip;


        
        var serverHTML=""
        var serverHTML = '<ul class="one-line" onclick="connectServer(\'' + serverIndex+'\');" id="' + getLineId(serverIndex) +'">';
        
        serverHTML += '<li id="location" class="flag-line flag-icon-' + location + '"></li>';

        serverHTML += '<li id="server" class="server-name">'+ serverName+ '</li>';

        serverHTML += '<li id="delay" class="delay" style="float:right">' + delay + '</li>';
        serverHTML += '<li id="wifi-rank" class="wifi-flag wifi-flag-'+ delayRank + '" style="float:right"></li>';

        serverHTML += '<li id="connected" style="display:none" status="' + (connected ? 'connected' : 'disconnected')+'"></li>';
        serverHTML += '<li id="speedtest" style="display:none">' + "0" + '</li>';
        serverHTML += '</ul>';

        return serverHTML

    }

    
    function refreshLines() {
        
        serverHTMLManual=0
        isTriggerAutoCheckDownloadSpeed=true
        checklinesTimerId = setTimeout(getLines, 1000);
        console.log("refreshing lines...");
        $.ajax({
            method: "POST",
            url: "lines/refresh",
            contentType: "application/json; charset=utf-8",
            success: function(data) {
                if(document.getElementById("id-empty-speedtestModal").style.display=="flex"){
                    var listBodyChildren = $(".line-list-body>ul");
                    if (listBodyChildren.length>0){
                        document.getElementById('id-empty-speedtestModal').style.display='none'
                        close_box_btn()

                        getLines_AI()
                        document.getElementById('speedtestModal').style.display="flex"
                        toggleAlertBox($('#speedtestModal'));
                    }

                }

                if (data.code != 0) {
                    alert(data.msg);
                }
            },
        });
    }

    
    function updateLineInfo(newLineInfo, lineEle) {
        
        lineEle.attr("id", getLineId(newLineInfo.guid));
        lineEle.attr("onclick", 'connectServer(\'' + newLineInfo.guid+'\');');

        
        let locationEle = lineEle.children("#location");
        locationEle.attr("class", "flag-line flag-icon-" + newLineInfo.location);

        
        if (newLineInfo.is_vip) {
            if (lineEle.children("#vip-tag").length <= 0) {
                lineEle.append('<li id="vip-tag" class="vip-flag" style="float:right"></li>');
            }

        } else if (newLineInfo.is_e_vip) {
            if (lineEle.children("#vip-tag").length <= 0) {
                lineEle.append('<li id="vip-tag" class="vip-flag" style="float:right"></li>');
            }
        }else
        {
            lineEle.children('vip-tag').remove();
        }
        
        let serverEle = lineEle.children("#server");

        if (newLineInfo.is_vip && !newLineInfo.is_e_vip) {
            
            serverEle.attr("class", "vip-server-name");
            serverEle.text("VIP-" + newLineInfo.server_name);

        } else if (newLineInfo.is_e_vip && !newLineInfo.is_vip ){
            
            serverEle.attr("class", "vip-server-name");
            serverEle.text("VIP-" + newLineInfo.server_name);
        } else if (!newLineInfo.is_e_vip && !newLineInfo.is_vip )
        {
            
            serverEle.attr("class", "server-name");
            serverEle.text("FREE-" + newLineInfo.server_name);
        }

        
        let rankEle = lineEle.children("#wifi-rank");
        rankEle.attr("class", "wifi-flag wifi-flag-"+newLineInfo.rank);

        
        let delayEle = lineEle.children("#delay");
        delayEle.text(newLineInfo.delay);

        
        let connectedEle = lineEle.children("#connected");
        connectedEle.attr("status", newLineInfo.connected ? "connected" : "disconnected");
    }

    function updateLineInfoEqual(newLineInfo, lineEle) {

        
        lineEle.attr("id", getLineId(newLineInfo.guid));

        lineEle.attr("onclick", 'connectServer(\'' + newLineInfo.guid+'\');');

        
        let locationEle = lineEle.children("#location");
        locationEle.attr("class", "flag-line flag-icon-" + newLineInfo.location);

        
        


        
        let serverEle = lineEle.children("#server");

        


        serverEle.attr("class", "server-name");
        serverEle.text(newLineInfo.server_name);

        
        let rankEle = lineEle.children("#wifi-rank");
        rankEle.attr("class", "wifi-flag wifi-flag-"+newLineInfo.rank);

        
        let delayEle = lineEle.children("#delay");
        delayEle.text(newLineInfo.delay);

        
        let connectedEle = lineEle.children("#connected");
        connectedEle.attr("status", newLineInfo.connected ? "connected" : "disconnected");
    }

    function updateLineInfoEqualSpeedtest(newLineInfo, lineEle) {

        for (let i=0;i<newLineInfo.length;i++){
            var ids=lineEle.attr("id")

            if (getLineId(newLineInfo[i].guid) ==ids){
                let serverEle = lineEle.children("#server");
                serverEle.attr("class", "server-name");
                serverEle.text(newLineInfo[i].server_name);

                break;
            }
        }

    }

    
    function getRetainsReminderOnOff() {
        clearRetainComponent()

        clearTimeout(checkRetainReminderTimerId)
        clearTimeout(checkRetainReminderTimerIdOnOff)

    }

    function clearRetainComponent(){
        tmpPackagePromoCode=document.getElementById('id-promocode')
        tmpBannerContainer=document.getElementById('free-version-content')
        tmpBannerContent=document.getElementById('id-free-banner-text')
        tmpBannerFreeContent=document.getElementById('free-version')


        tmpBannerContainer.style.display='none'
        tmpPackagePromoCode.value=""
        tmpBannerFreeContent.style.display='block'

        setLocalItem('isFirstTimePromoGetPlanRetain',null)
        setLocalItem('freePromotxt',null)
        setLocalItem('freePromocode',null)
        setLocalItem('freePromoPercentage',null)
        

    }

    function clearRetainComponentOnlyLocalStorage(){
        setLocalItem('isFirstTimePromoGetPlanRetain',null)
        setLocalItem('freePromotxt',null)
        setLocalItem('freePromocode',null)
        setLocalItem('freePromoPercentage',null)
    }

    function getTimeRemainingMain(endtime) {
        const total = Date.parse(endtime) - Date.parse(new Date());
        const seconds = Math.floor((total / 1000) % 60);
        const minutes = Math.floor((total / 1000 / 60) % 60);
        const hours = Math.floor((total / (1000 * 60 * 60)) % 24);
        const days = Math.floor(total / (1000 * 60 * 60 * 24));

        return {
            total,
            days,
            hours,
            minutes,
            seconds
        };
    }

    function initializeClockMain(id,id2,id3,id4,id5,id6, endtime, isVIP, includePrompt) {

        function updateClockMain() {
            const t = getTimeRemainingMain(endtime);

             
            id.textContent = ('0' + t.hours).slice(-2);
            id2.textContent = ('0' + t.minutes).slice(-2);
            id3.textContent = ('0' + t.seconds).slice(-2);

            if (includePrompt){
                id4.textContent = ('0' + t.hours).slice(-2);
                id5.textContent = ('0' + t.minutes).slice(-2);
                id6.textContent = ('0' + t.seconds).slice(-2);
            }

            if (t.total <= 0) {
                clearInterval(timeintervals_base);
                if (isVIP){
                    setLocalItem('vipTimerTimes',null)

                    setCookie('vipPromorunningtmr',0,30)
                    setCookie('isvipretainend', 'true',30)
                    setLocalItem('vipPromocode',null)
                    setLocalItem('vipPromoPercentage',null)

                    document.getElementById('id-banner-container').style.display='none'
                    notifyUserClose("id-promoModal-Content")
                    closePromoModal()
                    updateRenewStatus(false,0)
                    location.reload()
                }else{

                    setLocalItem('freePromorunningtmr',null)

                    setCookie('freePromorunningtmr',0,30)
                    setCookie('isfreeretainend', 'true',30)
                    setLocalItem('freePromocode',null)
                    setLocalItem('freePromoPercentage',null)

                    setCookie('discount_free_trigger',false)

                    updateRetainStatus(false,0)
                    notifyUserClose("id-promoModal-Content")
                    closePromoModal()
                    clearRetainComponent()
                }


            }

            if (isVIP){
                if (t.total>0){
                    updateRenewStatus(true,t.total)
                }
                setLocalItem('vipTimerTimes',t.total)
                setCookie('vipPromorunningtmr',t.total,30)
            }else{
                if (t.total>0){
                    updateRetainStatus(true,t.total)
                }

                setLocalItem('freePromorunningtmr',t.total)
                setCookie('freePromorunningtmr',t.total,30)
            }

        }

        updateClockMain();
        
        timeintervals_base = setInterval(updateClockMain, 1000);
    }

    var timeintervals_base = 0
    var checkRetainReminderTimerId
    var checkRetainReminderTimerIdOnOff
    var checkRetainReminderTimerCounter
    
    function getRetainsReminder(retain_type) {
        var url      = window.location.href;
        if (url.includes("connect")){
            tmpPackagePromoCode=document.getElementById('id-promocode')
            tmpBannerContainer=document.getElementById('free-version-content')
            tmpBannerContent=document.getElementById('id-free-banner-text')
            tmpBannerFreeContent=document.getElementById('free-version')
            tmpBannerFreeCountdown=document.getElementById('id-main-countdown')

            if(retain_type==1){

                if (getLocalItem('freediscount-remindertype')!=null && getLocalItem('freediscount-remindertype')==1){
                    tmpBannerFreeContent.style.display='none'
                    tmpBannerContainer.style.display='block'

                    if (getLocalItem('freePromocode')!=null && getLocalItem('freePromocode')!=""){
                        tmpPackagePromoCode.value=getLocalItem('freePromocode')
                    }
                    if (getLocalItem('freePromotxt')!=null && getLocalItem('freePromotxt')!=""){
                        tmpBannerContent.innerHTML=getLocalItem('freePromotxt')
                    }

                    var freeRunningTmr=getLocalItem('freePromorunningtmr')

                    var deadlinemain
                    if (freeRunningTmr!=null && freeRunningTmr!="" && freeRunningTmr!="NaN"){

                        deadlinemain = new Date(Date.parse(new Date()) + freeRunningTmr);
                        display0 = document.querySelector('#id-main-freediscount-hour');
                        display1 = document.querySelector('#id-main-freediscount-minute');
                        display2 = document.querySelector('#id-main-freediscount-second');

                        initializeClockMain(display0,display1,display2,display0,display1,display2,deadlinemain, false,false);

                    }else{
                        var freeRunningTmrCookies= parseInt(getCookie('freePromorunningtmr'))
                        deadlinemain = new Date(Date.parse(new Date()) + freeRunningTmrCookies);
                        display0 = document.querySelector('#id-main-freediscount-hour');
                        display1 = document.querySelector('#id-main-freediscount-minute');
                        display2 = document.querySelector('#id-main-freediscount-second');

                        initializeClockMain(display0,display1,display2,display0,display1,display2,deadlinemain, false,false);
                    }
                    var el = document.querySelector('#id-free-banner-text');
                    el.classList.remove('text-countdown');
                    el.classList.add('text');
                    document.getElementById('id-main-countdown').style.display='block'
                }else{

                    tmpBannerFreeContent.style.display='none'
                    tmpBannerContainer.style.display='block'
                    tmpBannerContent.innerHTML=getLocalItem('freePromotxt')

                }

            }else if (retain_type==2){
                try {
                    $.ajax({
                        method: "Post",
                        url: "user/retainPromoReminderwCounter",
                        
                        success: function (data) {

                            if (data.data.promo_code_name!=""){
                                setLocalItem('preload_plan',null)
                                getPlans(data.data.promo_code_name);
                                setLocalItem('promo_cn_txt',data.data.payment_reminder_cn)
                                setLocalItem('promo_en_txt',data.data.payment_reminder_en)

                                if (data.data.promo_code_reminder_counter_valid==1){

                                    tmpBannerFreeContent.style.display='none'
                                    tmpBannerContainer.style.display='block'
                                    tmpPackagePromoCode.value=data.data.promo_code_name
                                    tmpBannerContent.innerHTML=data.data.payment_reminder_text

                                    setLocalItem('freePromocode',data.data.promo_code_name)
                                    setLocalItem('freePromotxt',data.data.payment_reminder_text)
                                    setLocalItem('freePromoPercentage',data.data.retain_promo_percentage)
                                    setLocalItem('isFirstTimePromoGetPlanRetain',true)
                                    var reminderType= parseInt(data.data.promo_code_reminder_type)
                                     
                                    var cookiesRetainRunningTmr=parseInt(getCookie('freePromorunningtmr'))
                                    var localRetainRunningTmr= 0

                                    if(reminderType===1){ 

                                        setLocalItem('freediscount-remindertype',1)

                                        var el = document.querySelector('#id-free-banner-text');
                                        el.classList.remove('text-countdown');
                                        el.classList.add('text');
                                        document.getElementById('id-main-countdown').style.display='block'
                                        
                                        var retainRunningTiming
                                        setLocalItem('freePromorunningtmr', data.data.promo_code_reminder_timer)
                                        retainRunningTiming=data.data.promo_code_reminder_timer

                                        var deadlinemains = new Date(Date.parse(new Date()) + retainRunningTiming);
                                        display0 = document.querySelector('#id-main-freediscount-hour');
                                        display1 = document.querySelector('#id-main-freediscount-minute');
                                        display2 = document.querySelector('#id-main-freediscount-second');

                                        if (data.data.promo_code_retains_need_prompt==1){
                                            toggleAlertBoxPromoModal($("#id-promoModal-Content"))
                                            
                                            


                                            display3 = document.querySelector('#id-promomodal-hour');
                                            display4 = document.querySelector('#id-promomodal-minute');
                                            display5 = document.querySelector('#id-promomodal-second');


                                            if(getLocalItem('freePromoPercentage')!=null){
                                                document.getElementById('id-promomodal-percentage').innerHTML=getLocalItem('freePromoPercentage').toString() + "%";

                                            }

                                            initializeClockMain(display0,display1,display2,display3,display4,display5, deadlinemains,false,true);
                                        }else{

                                            initializeClockMain(display0,display1,display2,display0,display1,display2, deadlinemains,false,false);
                                        }

                                    }else if (reminderType===2){ 

                                        setLocalItem('freediscount-remindertype',2)
                                         
                                        tmpBannerFreeContent.style.display='none'
                                        tmpBannerContainer.style.display='block'
                                        tmpPackagePromoCode.value=data.data.promo_code_name
                                        tmpBannerContent.innerHTML=data.data.payment_reminder_text
                                    }
                                }else{

                                     
                                    tmpBannerFreeContent.style.display='block'
                                    tmpBannerContainer.style.display='none'
                                    tmpPackagePromoCode.value=""
                                    setLocalItem('freePromocode',"")
                                    setLocalItem('freePromoPercentage',"")
                                }

                            }else{

                                 
                                tmpBannerFreeContent.style.display='block'
                                tmpBannerContainer.style.display='none'
                                tmpPackagePromoCode.value=""
                                setLocalItem('freePromocode',"")
                                setLocalItem('freePromoPercentage',"")

                            }
                        },
                        error: function(xhr, textStatus, errorThrown){
                            setLocalItem('is_preload_retain_event',2)
                            setLocalItem('freePromocode',null)
                            setLocalItem('freePromotxt',null)
                            setLocalItem('freePromoPercentage',null)
                            setLocalItem('isFirstTimePromoGetPlanRetain',null)

                            setCookie('discount_free_trigger',false)

                            tmpBannerFreeContent.style.display='block'
                            tmpBannerContainer.style.display='none'

                             
                             
                        }
                    })
                } catch (err) {
                    
                }


            }else if(retain_type==3){

                $.ajax({
                    method: "POST",
                    url: "user/retainPromoReminder",
                    contentType: "application/json; charset=utf-8",
                    success: function (data) {

                        if (data.data.promo_code_name!=""){
                            setLocalItem('istrigger_freediscount', true)

                            setLocalItem('promo_cn_txt',data.data.payment_reminder_cn)
                            setLocalItem('promo_en_txt',data.data.payment_reminder_en)
                            tmpBannerFreeContent.style.display='none'
                            tmpBannerContainer.style.display='block'
                            tmpPackagePromoCode.value=data.data.promo_code_name
                            tmpBannerContent.innerHTML=data.data.payment_reminder_text

                            setLocalItem('freePromocode',data.data.promo_code_name)
                            setLocalItem('freePromotxt',data.data.payment_reminder_text)
                            setLocalItem('freePromoPercentage',data.data.retain_promo_percentage)
                            setLocalItem('isFirstTimePromoGetPlanRetain',true)

                            var reminderType= parseInt(data.data.promo_code_reminder_type)
                            var cookiesRetainRunningTmr=0

                            if(getCookie('freePromorunningtmr')!=null){
                                var cookiesRetainRunningTmr=parseInt(getCookie('freePromorunningtmr'))
                            }

                            if(reminderType===1){ 
                                setLocalItem('freediscount-remindertype',1)
                                 
                                var el = document.querySelector('#id-free-banner-text');
                                el.classList.remove('text-countdown');
                                el.classList.add('text');
                                document.getElementById('id-main-countdown').style.display='block'

                                var retainRunningTiming
                                if (cookiesRetainRunningTmr< data.data.promo_code_reminder_timer){
                                    if (cookiesRetainRunningTmr<=0){
                                        setLocalItem('freePromorunningtmr', data.data.promo_code_reminder_timer)
                                        retainRunningTiming=data.data.promo_code_reminder_timer
                                    }else{
                                        setLocalItem('freePromorunningtmr', cookiesRetainRunningTmr)
                                        retainRunningTiming=cookiesRetainRunningTmr
                                    }

                                }else{
                                    var isFreeRetainEnd=getCookie('isfreeretainend')
                                    if(isFreeRetainEnd=='true'){
                                        clearRetainComponent()
                                    }else{
                                        setLocalItem('freePromorunningtmr',data.data.promo_code_reminder_timer)
                                        retainRunningTiming=data.data.promo_code_reminder_timer
                                    }

                                }

                                var deadlinemains = new Date(Date.parse(new Date()) + retainRunningTiming);
                                display0 = document.querySelector('#id-main-freediscount-hour');
                                display1 = document.querySelector('#id-main-freediscount-minute');
                                display2 = document.querySelector('#id-main-freediscount-second');

                                initializeClockMain(display0,display1,display2,display0,display1,display2, deadlinemains,false,false);


                            }else if (reminderType===2){ 
                                setLocalItem('freediscount-remindertype',2)
                                 
                                tmpBannerFreeContent.style.display='none'
                                tmpBannerContainer.style.display='block'
                                tmpPackagePromoCode.value=data.data.promo_code_name
                                tmpBannerContent.innerHTML=data.data.payment_reminder_text
                            }


                        }else{

                            tmpBannerFreeContent.style.display='block'
                            tmpBannerContainer.style.display='none'
                            tmpPackagePromoCode.value=""
                            setLocalItem('freePromocode',"")
                            setLocalItem('freePromoPercentage',"")

                        }
                    },
                    error: function(xhr, textStatus, errorThrown){

                        setLocalItem('freePromocode',null)
                        setLocalItem('freePromotxt',null)
                        setLocalItem('freePromoPercentage',null)
                        setLocalItem('isFirstTimePromoGetPlanRetain',null)
                        

                        tmpBannerFreeContent.style.display='block'
                        tmpBannerContainer.style.display='none'
                         
                         
                    }
                })


            }
        }

    }

    function setCookie(name,value,days) {
        var expires = "";
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days*24*60*60*1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "")  + expires + "; path=/";
    }
    function getCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    }
    function eraseCookie(name) {
        document.cookie = name +'=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
    }

    var latestServerIndex=""
    var getLinesOnlyOnce =true
    
    function getLines() {

        $.ajax({
            method: "POST",
            url: "lines",
            contentType: "application/json; charset=utf-8",
            success: function (data) {

                if (data.code == 0) {
                    const newLines = data.data.lines;
                    const isRefreshing = data.data.is_refreshing;
                    const listBodyChildren = $(".line-list-body>ul");
                    if (listBodyChildren.length>=1){

                        var isConnected=getLocalItem("before_switch_user_state");
                        if (isConnected!=null){
                            if(isConnected){
                                console.log("ready:" + isConnected)
                                
                                getLinesAutoConnectNew($(listBodyChildren[0]).attr("id"))
                                setLocalItem("before_switch_user_state",null)
                            }
                        }
                    }
                    const maxLength = newLines.length > listBodyChildren.length ? newLines.length : listBodyChildren.length;
                    
                    if(isTriggerAutoCheckDownloadSpeed){
                        for (let i = 0 ; i < maxLength; i ++) {

                            if (i>=listBodyChildren.length) {
                                
                                 
                                lineHTML=getServerHTMLEqual(newLines[i]);

                                $(".line-list-body").append(lineHTML);
                            } else if (i>=newLines.length) {
                                $(listBodyChildren[i]).remove();
                            } else {
                                
                                
                                updateLineInfoEqual(newLines[i], $(listBodyChildren[i]));

                            }
                        }
                        isRefreshing ? $(".line-wait").show() : $(".line-wait").hide();
                    }else{
                        if (serverHTMLManual>0){
                            for (let i = 0 ; i < serverHTMLManual; i ++) {
                                if(getLinesOnlyOnce){
                                    console.log("serverHTMLManual: "+serverHTMLManual)
                                    if(serverHTMLManual>0){
                                        console.log("sorting table & delete ul ")
                                        delete_row_list("manul-line-list-body","-")
                                        sortTableWithNumListView("manul-line-list-body",5)
                                    }

                                    getLinesOnlyOnce=false
                                }
                                updateLineInfoEqualSpeedtest(newLines, $(listBodyChildren[i]))

                                

                            }

                        }
                    }

                    checklinesTimerId = setTimeout(getLines, 1000);
                }
            }
        })
    }

    function openSpeedTestModal(){
        var isProxyConnected=getLocalItem('tunnel_connected')
        var lastProxyLineV2=false
        if (isProxyConnected!=null){
            if(isProxyConnected==true){
                Toast("连线期间，无法进行自动检测线路。 请先解除连线。", 2000);
            }else{



                var listBodyChildren = $(".line-list-body>ul");
                if (listBodyChildren.length>0){
                    getLines_AI()
                    document.getElementById('speedtestModal').style.display="flex"
                    toggleAlertBox($('#speedtestModal'));
                }else{
                    document.getElementById('id-empty-speedtestModal').style.display="flex"
                    toggleAlertBox($('#id-empty-speedtestModal'));
                }



            }
        }
    }

    var serverHTMLManual=0
    var isTriggerAutoCheckDownloadSpeed=true
    function getLines_AI() {
        disconnect();
        stopSpeedTests=0
        $(".speedtest-table").empty()
        
        document.getElementById('id-speedtest-checking-title').innerHTML = "-";
        document.getElementById('id-display-speedometer').style.display='block'
        document.getElementById('id-end-speedometer').style.display='none'

        document.getElementById('id-display-curr-connected-proxy').style.display='none'
        document.getElementById('id-display-balance-speedtest-counter').style.display='block'
        speedtestOneMinuterCounter=0
        successCounter=0
        failedCounter=0
        totalSpeedtestCounter=0
        totalRowsSpeedTest=0
        isLastSpeedTestHTML=""
        isLastSpeedTestHTMLServerIndex=""
        currentSpeedTestServerName=""
        currentSpeedTestHtml=""
        currentSpeedTestIndex=0
        $(".id-balance-checking-speedtest").text("0")
        $(".success-proxy-counter").text("0")
        $(".failed-proxy-counter").text("0")
        $('.id-current-connect-proxy').text("-")
        arrDownloadSpeed =[]
        speedtestInprogressServerIndex=""
        speedtestInprogressHTML=""
        serverHTMLManual=0
        getLinesOnlyOnce=true

        $(".line-list-body").empty()
        $.ajax({
            method: "POST",
            
            url: "lines/withSpeedTest",
            contentType: "application/json; charset=utf-8",
            success: function (data) {

                if (data.code == 0) {
                    
                    
                    const newLines = data.data.lines;
                    const isRefreshing = data.data.is_refreshing;
                    const listBodyChildren = $(".speedtest-table>tr");
                    const maxLength = newLines.length > listBodyChildren.length ? newLines.length : listBodyChildren.length;
                    

                    var lastProxyLine =false

                    
                    
                    

                    for (let i = 0 ; i < maxLength; i ++) {
                        if (i == (maxLength-1)){
                            lastProxyLine=true
                        }
                        if (i>=listBodyChildren.length) {

                            lineHTML=getSpeedTestHTMLEqual(newLines[i],lastProxyLine, newLines[0]);
                            $(".speedtest-table").append(lineHTML);

                            lineHTMLs=getSpeedTestHTMLEqualManual(newLines[i],lastProxyLine, newLines[0]);
                            $(".line-list-body").append(lineHTMLs);

                            var totalRows =maxLength

                            


                            
                            
                            
                            var nextLine = i+1

                            if(nextLine==totalRows){
                                nextLine=i
                            }
                            taskSpeedTestV4(newLines[i],newLines[nextLine],lastProxyLine, newLines[0], i,totalRows )

                            

                        } else if (i>=newLines.length) {
                            $(listBodyChildren[i]).remove();
                        } else {
                            
                            console.log('update speed line ' + i.toString())
                        }
                    }


                     
                    $('#myValues').val(0).change()

                }
            }
        })
    }

    var speedTestLoadingHtml=""
    function proceedTaskSpeedTestV4(downloadSpeed, lineInfo,lastProxyLine,firstLineInfo, currRows,totalRows){
        let serverIndex = lineInfo.guid;
        let connected = lineInfo.connected;
        let serverName = lineInfo.server_name;
        let location = lineInfo.location;
        let isVipLine = lineInfo.is_vip;
        let delayRank = lineInfo.rank;
        let delay = lineInfo.delay;
        let isEVipLine = lineInfo.is_e_vip;
        var serverHTML=""
        var delayValue=""
        var delayColor=""
        var delayArr = delay.split("m");
        if(delayArr.length>=2){
            delayValue=parseInt(delayArr[0])
        }

        setTimeout(function(){
            if ((currRows-1)==totalRows){
                lastProxyLine = true
            }else{
                lastProxyLine = false
            }

            console.log("proceedTaskSpeedTestV4 curr rows: " + currRows)

            delayColor=verifySpeedtestDelayColor(delayValue)
            var tmpV
            autoConnectOnce=true
            clearTimeout(verifyReSpeedTest_timer)
            reSpeedCheck_PreventMultipleClick()

            if(document.getElementById("speedtestModal").style.display=="flex"){
                var tmpV=Math.round(parseFloat(downloadSpeed).toFixed(2))
                $('#myValues').val(tmpV).change()

                var titleChild = '<i class="flag-line flag-icon-' + location + '"></i><span>'+ serverName+ '</span>'
                document.getElementById('id-speedtest-checking-title').innerHTML = titleChild;

                isDoneCheckingEachLine = true

                var tmpSpeedDownload=""
                if (tmpV==0){
                    tmpSpeedDownload= "-"
                }else{
                    tmpSpeedDownload= tmpV.toString()+"Mbps"
                }

                if (tmpV>0){
                    successCounter+=1
                    totalSpeedtestCounter+=1
                    $(".success-proxy-counter").text(successCounter.toString())
                }else{
                    totalSpeedtestCounter+=1
                }
                var balanceRows=  totalRows - totalSpeedtestCounter;
                failedCounter=  totalRows - successCounter;

                $(".failed-proxy-counter").text(failedCounter.toString())

                $(".id-balance-checking-speedtest").text(balanceRows.toString())

                totalRowsSpeedTest=totalRows;

                var wifiBar=verifySpeedtestWifiBar(tmpV)

                currentSpeedTestHtml = '<tr style="cursor: pointer" onclick="connectServerSpeedTest(\'' + serverIndex+'\');" id="' + getLineSpeedId(serverIndex) +'">';
                currentSpeedTestHtml += '<td id="id-speedtest-location"><i class="flag-line flag-icon-' + location + '"></i>'+ serverName+ '</td>';
                
                if (delayColor=="1"){
                    currentSpeedTestHtml += '<td><svg height="40" width="40">\n' +
                        '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#00AF44" />\n' +
                        '  Sorry, your browser does not support inline SVG.  \n' +
                        '</svg>' + "良好" + '</td>';
                }else if (delayColor=="2"){
                    currentSpeedTestHtml += '<td><svg height="40" width="40">\n' +
                        '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#FFC500" />\n' +
                        '  Sorry, your browser does not support inline SVG.  \n' +
                        '</svg>' + "繁忙" + '</td>';
                }else if (delayColor=="3"){
                    currentSpeedTestHtml += '<td><svg height="40" width="40">\n' +
                        '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#F00000" />\n' +
                        '  Sorry, your browser does not support inline SVG.  \n' +
                        '</svg>' + "拥挤" + '</td>';
                }
                if(tmpSpeedDownload=="-"){
                    currentSpeedTestHtml += '<td style="padding-left: 0px">-</td>';
                }else{
                    currentSpeedTestHtml += '<td>' +'<i class="flag-line icon-wifi-' + wifiBar + '"></i>' + "" + '</td>';
                }

                currentSpeedTestHtml += '<td style="display: none">' + tmpV.toString() + '</td>';
                 
                currentSpeedTestHtml += '</tr>';

                $('#' + getLineSpeedId(serverIndex)).replaceWith(currentSpeedTestHtml);
                currentSpeedTestIndex =getLineSpeedId(serverIndex)
                console.log(currentSpeedTestHtml);

                var rows = $('#id-table-speedtest').closest('table').find(' tbody tr');

                rows[currRows].scrollIntoView({
                    behavior: 'instant',
                    block: 'center'
                });

                if(lastProxyLine){

                    console.log("last line ss:"+ lastProxyLine)
                    document.getElementById('id-display-speedometer').style.display='none'
                    document.getElementById('id-end-speedometer').style.display='block'

                    clearTimeout(checklinesTimerId_AI)

                    
                    
                    $('#myValues').val(0).change()
                    var tmpSpeedDownload=""
                    if (tmpV==0){
                        tmpSpeedDownload= "-"
                    }else{
                        tmpSpeedDownload= tmpV.toString()+"Mbps"
                    }
                    if (tmpV>0){
                        successCounter+=1
                        totalSpeedtestCounter+=1
                        $(".success-proxy-counter").text(successCounter.toString())
                    }else{
                        totalSpeedtestCounter+=1
                    }

                    var balanceRows=  totalRows - totalSpeedtestCounter;
                    failedCounter=  totalRows - successCounter;

                    $(".failed-proxy-counter").text(failedCounter.toString())
                    $(".id-balance-checking-speedtest").text(balanceRows.toString())

                    totalRowsSpeedTest=totalRows;
                    var wifiBar=verifySpeedtestWifiBar(tmpV)

                     
                    serverHTML = '<tr style="cursor: pointer" onclick="connectServerSpeedTest(\'' + serverIndex+'\');" id="' + getLineSpeedId(serverIndex) +'">';
                    serverHTML += '<td id="id-speedtest-location"><i class="flag-line flag-icon-' + location + '"></i>'+ serverName+ '</td>';
                    if (delayColor=="1"){
                        serverHTML += '<td><svg height="40" width="40">\n' +
                            '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#00AF44" />\n' +
                            '  Sorry, your browser does not support inline SVG.  \n' +
                            '</svg>' + "良好" + '</td>';
                    }else if (delayColor=="2"){
                        serverHTML += '<td><svg height="40" width="40">\n' +
                            '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#FFC500" />\n' +
                            '  Sorry, your browser does not support inline SVG.  \n' +
                            '</svg>' + "繁忙" + '</td>';
                    }else if (delayColor=="3"){
                        serverHTML += '<td><svg height="40" width="40">\n' +
                            '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#F00000" />\n' +
                            '  Sorry, your browser does not support inline SVG.  \n' +
                            '</svg>' + "拥挤" + '</td>';
                    }
                    if(tmpSpeedDownload=="-"){
                        serverHTML += '<td style="padding-left: 0px">' + tmpSpeedDownload + '</td>';
                    }else{
                        serverHTML += '<td><i class="flag-line icon-wifi-' + wifiBar + '"></i>' + "" + '</td>';
                    }
                    serverHTML += '<td style="display: none">' + tmpV.toString() + '</td>';
                     
                    serverHTML += '</tr>';
                    $('#' + getLineSpeedId(serverIndex)).replaceWith(serverHTML);


                    if (autoConnectOnce){
                        delete_row("id-table-speedtest" , "-")

                        var count = $('#id-table-speedtest tr').length;
                        console.log("Balance rows: "+count.toString())
                        if (count>0){
                            sortTableWithNum("id-table-speedtest",3)

                            var firstId=""
                            var lineId = $('#id-table-speedtest').closest('table').find(' tbody tr:first').attr('id');

                            var arrSplit = lineId.split("-");
                            firstId=arrSplit[1]

                            var firstLineValue = [];
                            $("#"+ lineId).find("td").each(function() {
                                var test = $(this).text();

                                firstLineValue.push(test)
                            })

                            var cell = document.getElementById('id-table-speedtest').rows[0].cells;

                             
                            currentSpeedTestHtml = '<tr style="cursor: pointer" onclick="connectServerSpeedTest(\'' + firstId +'\');" id="' + firstId +'">';
                            currentSpeedTestHtml += '<td>'+ cell[0].innerHTML + '<div class="speedtest-tip-button">已连接</div></td>';
                            currentSpeedTestHtml += '<td>' + cell[1].innerHTML +'</td>';
                            
                            currentSpeedTestHtml += '<td>' + cell[2].innerHTML +'</td>';

                            currentSpeedTestHtml += '</tr>';
                            currentSpeedTestIndex =lineId
                            currentSpeedTestServerName = firstLineValue[0]
                            

                            connectServer(firstId)

                            var rows = $('#id-table-speedtest').closest('table').find(' tbody tr');
                            rows[0].scrollIntoView({
                                behavior: 'smooth',
                                block: 'center'
                            });

                            document.getElementById('id-display-curr-connected-proxy').style.display='block'
                            document.getElementById('id-display-balance-speedtest-counter').style.display='none'
                            

                            

                            var rowCount = $("#id-table-speedtest tr").length; 
                            successCounter = rowCount
                            failedCounter=  totalRows - successCounter;
                            $(".success-proxy-counter").text(successCounter.toString())
                            $(".failed-proxy-counter").text(failedCounter.toString())

                            if (successCounter==0){
                                $('.id-current-connect-proxy').text("-")
                            }
                            
                            stopSpeedTests=1

                            autoConnectOnce=false
                        }

                    }


                }
            }else{
                stopSpeedTests=1
            }
        },100)

    }

    function EndSpeedCheck(){
        if (downloadSpeedAjax!=null){
            for(var i = 0; i < downloadSpeedAjax.length; i++)
                downloadSpeedAjax[i].abort();
        }

        document.getElementById('id-end-speedtest-with-failed').style.display='block'
        document.getElementById('id-end-speedtest-without-failed').style.display='none'

        document.getElementById('id-display-curr-connected-proxy').style.display='block'
        document.getElementById('id-display-balance-speedtest-counter').style.display='none'

        stopSpeedTests=1
        proxyStopSpeedTest()
        $('#' + speedtestInprogressServerIndex).replaceWith(speedtestInprogressHTML);
        delete_row("id-table-speedtest","-")
        sortTableWithNum("id-table-speedtest",3)
        isTriggerAutoCheckDownloadSpeed=false
        $('#myValues').val(0).change()

        var lineId = $('#id-table-speedtest').closest('table').find(' tbody tr:first').attr('id');
        var arrSplit = lineId.split("-");
        firstId=arrSplit[1]

        var firstLineValue = [];
        $("#"+ lineId).find("td").each(function() {
            var test = $(this).text();

            firstLineValue.push(test)
        })
        var cell = document.getElementById('id-table-speedtest').rows[0].cells;

        connectServerSpeedTest(firstId)
        isSpeedTestStatusOnce=true
        isSpeedTestStatusOnceFailed=true

        if (successCounter>0){
            currentSpeedTestHtml=""
            currentSpeedTestHtml = '<tr style="cursor: pointer" onclick="connectServerSpeedTest(\'' + firstId +'\');" id="' + getLineSpeedId(firstId)  +'">';
            currentSpeedTestHtml += '<td>'+ cell[0].innerHTML + '<div class="speedtest-tip-button">已连接</div></td>';
            currentSpeedTestHtml += '<td>' +  cell[1].innerHTML  + '</td>';
            currentSpeedTestHtml += '<td>' + cell[2].innerHTML +'</td>';
            currentSpeedTestHtml += '<td style="display: none">' + cell[3].innerHTML +'</td>';
            currentSpeedTestHtml += '</tr>';
            currentSpeedTestIndex=lineId
            currentSpeedTestServerName=firstLineValue[0]
            
        }


        var rows = $('#id-table-speedtest').closest('table').find(' tbody tr');

        rows[0].scrollIntoView({
            behavior: 'instant',
            block: 'center'
        });

        var totalRowsBalance = $("#id-table-speedtest tr").length; 
        serverHTMLManual =totalRowsBalance
        failedCounter=  totalRowsBalance-successCounter;
        $(".success-proxy-counter").text(successCounter.toString())
        $(".failed-proxy-counter").text(failedCounter.toString())

        if (successCounter==0){
            document.getElementById('id-current-connect-proxy')
            $('.id-current-connect-proxy').text("-")
            $(".line-list-body").empty()
        }

        document.getElementById('id-display-speedometer').style.display='none'
        document.getElementById('id-end-speedometer').style.display='block'


    }

    function ReSpeedCheck() {

        if(reSpeedTestCounter<=60 && reSpeedTestCounter>0){
            var contentMsg = "您的操作过于频繁，请稍后再试" + "(" + reSpeedTestCounter + "秒" + ")"
            Toast(contentMsg, 1000);
        }else{

            proxyStopSpeedTest()

            stopSpeedTests =1

            $('#myValues').val(0).change()
            disconnect()
            getLines_AI()

            toggleAlertBox($('#speedtestModal'));
        }


    }

    var reSpeedTestCounter =0
    var verifyReSpeedTest_timer
    function reSpeedCheck_PreventMultipleClick() {
        var downcnt = 60;
        verifyReSpeedTest_timer = setInterval(function () {
            downcnt --;
            if (downcnt <= 0){
                reSpeedTestCounter =0
                return
            }

            reSpeedTestCounter =downcnt
        }, 1000);
    }

    function delete_row(tableId, given_value) {
        var td = $("#" + tableId + " td");
        $.each(td, function(i) {
            
            if ($(td[i]).text() === given_value) {
                $(td[i]).parent().remove();
            }
        });
    }

    function delete_row_list(tableId, given_value) {
        var td = $("#" + tableId + " li");
        $.each(td, function(i) {
            

            if ($(td[i]).text() === given_value) {
                $(td[i]).parent().remove();
                console.log("remove value: "+ given_value)
            }
        });
    }

    function sortTableWithNum(tableId, n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;

        table = document.getElementById(tableId);
        switching = true;
        dir = "desc";
        while (switching) {
            switching = false;
            rows = table.getElementsByTagName("TR");
            for (i = 0; i < (rows.length - 1); i++) {
                shouldSwitch = false;
                x = rows[i].getElementsByTagName("TD")[n];
                y = rows[i + 1].getElementsByTagName("TD")[n];

                var cmpX=isNaN(parseInt(x.innerHTML))?x.innerHTML.toLowerCase():parseInt(x.innerHTML);
                var cmpY=isNaN(parseInt(y.innerHTML))?y.innerHTML.toLowerCase():parseInt(y.innerHTML);
                cmpX=(cmpX=='-')?0:cmpX;
                cmpY=(cmpY=='-')?0:cmpY;
                if (dir == "asc") {
                    if (cmpX > cmpY) {
                        shouldSwitch= true;
                        break;
                    }
                } else if (dir == "desc") {
                    if (cmpX < cmpY) {
                        shouldSwitch= true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                switchcount ++;
            } else {
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    }

    function sortTableWithNumListView(tableId, n) {
        var table, rows, switching, i, x, y, shouldSwitch, dir, switchcount = 0;

        table = document.getElementById(tableId);
        switching = true;
        dir = "desc";
        while (switching) {
            switching = false;
            rows = table.getElementsByTagName("ul");

            for (i = 0; i < (rows.length - 1); i++) {
                shouldSwitch = false;
                x = rows[i].getElementsByTagName("li")[n];
                y = rows[i + 1].getElementsByTagName("li")[n];

                var cmpX=isNaN(parseInt(x.innerHTML))?x.innerHTML.toLowerCase():parseInt(x.innerHTML);
                var cmpY=isNaN(parseInt(y.innerHTML))?y.innerHTML.toLowerCase():parseInt(y.innerHTML);
                cmpX=(cmpX=='-')?0:cmpX;
                cmpY=(cmpY=='-')?0:cmpY;
                if (dir == "asc") {
                    if (cmpX > cmpY) {
                        shouldSwitch= true;
                        break;
                    }
                } else if (dir == "desc") {
                    if (cmpX < cmpY) {
                        shouldSwitch= true;
                        break;
                    }
                }
            }
            if (shouldSwitch) {
                rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
                switching = true;
                switchcount ++;
            } else {
                if (switchcount == 0 && dir == "asc") {
                    dir = "desc";
                    switching = true;
                }
            }
        }
    }

    var autoConnectOnce
    var stopSpeedTests=0
    var successCounter=0
    var failedCounter=0
    var totalSpeedtestCounter=0
    var totalRowsSpeedTest =0;
    var isDoneCheckingEachLine =false
    var isLastSpeedTestHTML=""
    var isLastSpeedTestHTMLServerIndex=""

    var currentSpeedTestHtml=""
    var currentSpeedTestIndex
    var currentSpeedTestServerName =""

    function taskSpeedTestV3(lineInfo,lastProxyLine,firstLineInfo, currRows,totalRows) {
        let serverIndex = lineInfo.guid;
        let connected = lineInfo.connected;
        let serverName = lineInfo.server_name;
        let location = lineInfo.location;
        let isVipLine = lineInfo.is_vip;
        let delayRank = lineInfo.rank;
        let delay = lineInfo.delay;
        let isEVipLine = lineInfo.is_e_vip;
        var serverHTML=""
        var delayValue=""
        var delayColor=""
        var delayArr = delay.split("m");
        if(delayArr.length>=2){
            delayValue=parseInt(delayArr[0])
        }
        delayColor=verifySpeedtestDelayColor(delayValue)
        var tmpV
        autoConnectOnce=true

        let i=0
        checklinesTimerId_AI=setTimeout(function() {

            speedtestOneMinuterCounter+=1
            if(speedtestOneMinuterCounter===60){
                if (stopSpeedTests===0){
                    EndSpeedCheck()
                    Toast("已超时，停止检测", 400);
                }else{
                    $('#' + currentSpeedTestIndex).replaceWith(currentSpeedTestHtml);
                    speedtestOneMinuterCounter=0
                }
            }
            if (stopSpeedTests===0){
                if(document.getElementById("speedtestModal").style.display=="flex"){
                    var titleChild = '<i class="flag-line flag-icon-' + location + '"></i><span>'+ serverName+ '</span>'
                    document.getElementById('id-speedtest-checking-title').innerHTML = titleChild;

                    speedValues= loadSpeedTestValuesV2(serverIndex)
                    var tmpV=Math.round(parseFloat(speedValues).toFixed(2))
                    
                    $('#myValues').val(tmpV).change()

                    if(i==0){
                        isDoneCheckingEachLine = true


                        var tmpSpeedDownload=""
                        if (tmpV==0){
                            tmpSpeedDownload= "-"
                        }else{
                            tmpSpeedDownload= tmpV.toString()+"Mbps"
                        }

                        if (tmpV>0){
                            successCounter+=1
                            totalSpeedtestCounter+=1
                            $(".success-proxy-counter").text(successCounter.toString())
                        }else{
                            totalSpeedtestCounter+=1
                        }
                        var balanceRows=  totalRows - totalSpeedtestCounter;
                        failedCounter=  totalRows - successCounter;

                        $(".failed-proxy-counter").text(failedCounter.toString())

                        $(".id-balance-checking-speedtest").text(balanceRows.toString())

                        totalRowsSpeedTest=totalRows;

                        var wifiBar=verifySpeedtestWifiBar(tmpV)
                        
                        
                        


                        currentSpeedTestHtml = '<tr style="cursor: pointer" onclick="connectServerSpeedTest(\'' + serverIndex+'\');" id="' + getLineSpeedId(serverIndex) +'">';
                        currentSpeedTestHtml += '<td id="id-speedtest-location"><i class="flag-line flag-icon-' + location + '"></i>'+ serverName+ '</td>';
                        
                        if (delayColor=="1"){
                            currentSpeedTestHtml += '<td><svg height="40" width="40">\n' +
                                '  <circle cx="20" cy="20" r="10" stroke="none" stroke-width="3" fill="#00AF44" />\n' +
                                '  Sorry, your browser does not support inline SVG.  \n' +
                                '</svg>' + "良好" + '</td>';
                        }else if (delayColor=="2"){
                            currentSpeedTestHtml += '<td><svg height="40" width="40">\n' +
                                '  <circle cx="20" cy="20" r="10" stroke="none" stroke-width="3" fill="#FFC500" />\n' +
                                '  Sorry, your browser does not support inline SVG.  \n' +
                                '</svg>' + "繁忙" + '</td>';
                        }else if (delayColor=="3"){
                            currentSpeedTestHtml += '<td><svg height="40" width="40">\n' +
                                '  <circle cx="20" cy="20" r="10" stroke="none" stroke-width="3" fill="#F00000" />\n' +
                                '  Sorry, your browser does not support inline SVG.  \n' +
                                '</svg>' + "拥挤" + '</td>';
                        }
                        if(tmpSpeedDownload=="-"){
                            currentSpeedTestHtml += '<td>-</td>';
                        }else{


                            currentSpeedTestHtml += '<td>' +'<i class="flag-line icon-wifi-' + wifiBar + '"></i>' + "" + '</td>';
                        }

                        currentSpeedTestHtml += '<td style="display: none">' + tmpV.toString() + '</td>';
                         
                        currentSpeedTestHtml += '</tr>';

                        $('#' + getLineSpeedId(serverIndex)).replaceWith(currentSpeedTestHtml);
                        currentSpeedTestIndex =getLineId(serverIndex)
                        console.log(currentSpeedTestHtml);

                        var rows = $('#id-table-speedtest').closest('table').find(' tbody tr');

                        rows[currRows].scrollIntoView({
                            behavior: 'instant',
                            block: 'center'
                        });
                    }

                    if(lastProxyLine){

                        document.getElementById('id-display-speedometer').style.display='none'
                        document.getElementById('id-end-speedometer').style.display='block'

                        clearTimeout(checklinesTimerId_AI)

                        
                        
                        $('#myValues').val(0).change()
                        var tmpSpeedDownload=""
                        if (tmpV==0){
                            tmpSpeedDownload= "-"
                        }else{
                            tmpSpeedDownload= tmpV.toString()+"Mbps"
                        }
                        if (tmpV>0){
                            successCounter+=1
                            totalSpeedtestCounter+=1
                            $(".success-proxy-counter").text(successCounter.toString())
                        }else{
                            totalSpeedtestCounter+=1
                        }

                        var balanceRows=  totalRows - totalSpeedtestCounter;
                        failedCounter=  totalRows - successCounter;

                        $(".failed-proxy-counter").text(failedCounter.toString())
                        $(".id-balance-checking-speedtest").text(balanceRows.toString())

                        totalRowsSpeedTest=totalRows;
                        var wifiBar=verifySpeedtestWifiBar(tmpV)

                         
                        serverHTML = '<tr style="cursor: pointer" onclick="connectServerSpeedTest(\'' + serverIndex+'\');" id="' + getLineSpeedId(serverIndex) +'">';
                        serverHTML += '<td id="id-speedtest-location"><i class="flag-line flag-icon-' + location + '"></i>'+ serverName+ '</td>';
                        if (delayColor=="1"){
                            serverHTML += '<td><svg height="40" width="40">\n' +
                                '  <circle cx="20" cy="20" r="10" stroke="none" stroke-width="3" fill="#00AF44" />\n' +
                                '  Sorry, your browser does not support inline SVG.  \n' +
                                '</svg>' + "良好" + '</td>';
                        }else if (delayColor=="2"){
                            serverHTML += '<td><svg height="40" width="40">\n' +
                                '  <circle cx="20" cy="20" r="10" stroke="none" stroke-width="3" fill="#FFC500" />\n' +
                                '  Sorry, your browser does not support inline SVG.  \n' +
                                '</svg>' + "繁忙" + '</td>';
                        }else if (delayColor=="3"){
                            serverHTML += '<td><svg height="40" width="40">\n' +
                                '  <circle cx="20" cy="20" r="10" stroke="none" stroke-width="3" fill="#F00000" />\n' +
                                '  Sorry, your browser does not support inline SVG.  \n' +
                                '</svg>' + "拥挤" + '</td>';
                        }
                        if(tmpSpeedDownload=="-"){
                            serverHTML += '<td>' + tmpSpeedDownload + '</td>';
                        }else{
                            serverHTML += '<td><i class="flag-line icon-wifi-' + wifiBar + '"></i>' + "" + '</td>';
                        }
                        serverHTML += '<td style="display: none">' + tmpV.toString() + '</td>';
                         
                        serverHTML += '</tr>';
                        $('#' + getLineSpeedId(serverIndex)).replaceWith(serverHTML);


                        if(i==0){
                            if (autoConnectOnce){
                                sortTableWithNum("id-table-speedtest",3)

                                var firstId=""
                                var lineId = $('#id-table-speedtest').closest('table').find(' tbody tr:first').attr('id');

                                var arrSplit = lineId.split("-");
                                firstId=arrSplit[1]

                                var firstLineValue = [];
                                $("#"+ lineId).find("td").each(function() {
                                    var test = $(this).text();

                                    firstLineValue.push(test)
                                })

                                var cell = document.getElementById('id-table-speedtest').rows[0].cells;

                                 
                                serverHTML = '<tr style="cursor: pointer" onclick="connectServerSpeedTest(\'' + firstId +'\');" id="' + firstId +'">';
                                serverHTML += '<td>'+ cell[0].innerHTML + '<div class="speedtest-tip-button">已连接</div></td>';
                                serverHTML += '<td>' + cell[1].innerHTML +'</td>';
                                
                                serverHTML += '<td>' + cell[2].innerHTML +'</td>';

                                serverHTML += '</tr>';
                                $('#' + lineId).replaceWith(serverHTML);

                                connectServer(firstId)

                                var rows = $('#id-table-speedtest').closest('table').find(' tbody tr');
                                rows[0].scrollIntoView({
                                    behavior: 'smooth',
                                    block: 'center'
                                });

                                document.getElementById('id-display-curr-connected-proxy').style.display='block'
                                document.getElementById('id-display-balance-speedtest-counter').style.display='none'
                                $('.id-current-connect-proxy').text(firstLineValue[0])

                                delete_row("id-table-speedtest" , "-")

                                var rowCount = $("#id-table-speedtest tr").length; 
                                successCounter = rowCount
                                failedCounter=  totalRows - successCounter;
                                $(".success-proxy-counter").text(successCounter.toString())
                                $(".failed-proxy-counter").text(failedCounter.toString())

                                if (successCounter==0){
                                    $('.id-current-connect-proxy').text("-")
                                }
                                Toast("佛跳墙VPN已连接成功", 1000);
                                stopSpeedTests=1

                                autoConnectOnce=false
                            }
                        }


                    }
                }else{
                    stopSpeedTests=1
                }

            }else{
                
                document.getElementById('id-speedtest-checking-title').innerHTML = "-";
                document.getElementById('id-display-speedometer').style.display='none'
                document.getElementById('id-end-speedometer').style.display='block'
            }

        }, 500);


    }

    var speedtestInprogressHTML=""
    var speedtestInprogressServerIndex=""
    function taskSpeedTestV4(lineInfo,nextInfo,lastProxyLine,firstLineInfo, currRows,totalRows) {
        let serverIndex = lineInfo.guid;
        let nextServerIndex = nextInfo.guid;
        let connected = lineInfo.connected;
        let serverName = lineInfo.server_name;
        let nextServerName = nextInfo.server_name;
        let location = lineInfo.location;
        let nextLocation = nextInfo.location;
        let isVipLine = lineInfo.is_vip;
        let delayRank = lineInfo.rank;
        let delay = lineInfo.delay;
        let isEVipLine = lineInfo.is_e_vip;
        var serverHTML=""
        var delayValue=""
        var delayColor=""
        var delayArr = delay.split("m");
        if(delayArr.length>=2){
            delayValue=parseInt(delayArr[0])
        }
        delayColor=verifySpeedtestDelayColor(delayValue)
        var tmpV


        autoConnectOnce=true
        clearTimeout(verifyReSpeedTest_timer)
        reSpeedCheck_PreventMultipleClick()

        
        checklinesTimerId_AI=setTimeout(function() {

            speedtestOneMinuterCounter+=1
            if(speedtestOneMinuterCounter===60){
                if (stopSpeedTests===0){
                    EndSpeedCheck()
                    Toast("已超时，停止检测", 400);
                }else{
                    $('#' + currentSpeedTestIndex).replaceWith(currentSpeedTestHtml);
                    speedtestOneMinuterCounter=0
                }
            }
            if (stopSpeedTests===0){
                if(document.getElementById("speedtestModal").style.display=="flex"){


                    var titleChilds = '<i class="flag-line flag-icon-' + nextLocation + '"></i><span>'+ nextServerName+ '</span>'
                    document.getElementById('id-speedtest-checking-title').innerHTML = titleChilds;

                    serverHTML = '<tr class="my_speedtest" style="cursor: pointer" onclick="connectServerSpeedTest(\'' + nextServerIndex+'\');" id="' + getLineSpeedId(nextServerIndex) +'">';
                    serverHTML += '<td id="id-speedtest-location"><i class="flag-line flag-icon-' + nextLocation + '"></i>'+ nextServerName+ '</td>';
                    if (delayColor=="1"){
                        serverHTML += '<td><svg height="40" width="40">\n' +
                            '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#00AF44" />\n' +
                            '  Sorry, your browser does not support inline SVG.  \n' +
                            '</svg>' + "良好" + '</td>';
                    }else if (delayColor=="2"){
                        serverHTML += '<td><svg height="40" width="40">\n' +
                            '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#FFC500" />\n' +
                            '  Sorry, your browser does not support inline SVG.  \n' +
                            '</svg>' + "繁忙" + '</td>';
                    }else if (delayColor=="3"){
                        serverHTML += '<td><svg height="40" width="40">\n' +
                            '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#F00000" />\n' +
                            '  Sorry, your browser does not support inline SVG.  \n' +
                            '</svg>' + "拥挤" + '</td>';
                    }
                    serverHTML += '<td>' +'<i class="flag-line icon-wifi-' + "" + '"></i>' + "检测中" + '</td>'
                    
                    serverHTML += '<td style="display: none">' + "0" + '</td>';
                    serverHTML += '</tr>';
                    $('#' + getLineSpeedId(nextServerIndex)).replaceWith(serverHTML);

                    speedtestInprogressHTML = '<tr class="my_speedtest" style="cursor: pointer" onclick="connectServerSpeedTest(\'' + nextServerIndex+'\');" id="' + getLineSpeedId(nextServerIndex) +'">';
                    speedtestInprogressHTML += '<td id="id-speedtest-location"><i class="flag-line flag-icon-' + nextLocation + '"></i>'+ nextServerName+ '</td>';
                    speedtestInprogressHTML += '<td ><span style="color:gray;" class="checking">待检测</span></td>';
                    speedtestInprogressHTML += '<td>' +'<i class="flag-line icon-wifi-' + "" + '"></i>' + "" + '</td>'
                    speedtestInprogressHTML += '<td style="display: none">' + "0" + '</td>';
                    speedtestInprogressHTML += '</tr>';
                    speedtestInprogressServerIndex=getLineSpeedId(nextServerIndex)

                    
                    







                    
                    loadSpeedTestValuesV2(lineInfo,lastProxyLine,firstLineInfo, currRows,totalRows)


                }else{
                    stopSpeedTests=1
                }

            }else{
                
                document.getElementById('id-speedtest-checking-title').innerHTML = "-";
                document.getElementById('id-display-speedometer').style.display='none'
                document.getElementById('id-end-speedometer').style.display='block'
            }

        }, 500);

    }

    var speedtestOneMinuterCounter=0
    function verifySpeedtestWifiBar(downloadValue){

        var returnResult=""
        if (downloadValue<5){
            returnResult='<td>' +'<img style="padding-left: 28px" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAO5JREFUSEtjZKAxYKSm+efPnxdgYGAQMDQ0fAAzl2oWnD9/XuHv37/3QQYzMzMLGhoafgCxqWbB6dOnHRgZGfeDDP3//7+jqanpgcFvAXKYU90H6GH+588fA6oGEbqLweFNzTigiQX4wpxiHxAKc4otIBQkg9MCUsKcZB+QGuYkW0BqmBNlQcL7/QIMP34ILJD0fEB1CxKeb1dgYGQAF7cM7ByC2Xd4ULI+ugsJ8TFK04Tn2x0YGBnAxS3DfwbH7CciKFmfkIEEg2hYWIASB/kPBASQq0BQXUsKH2uViZyKQGGKXomTyqdqlYmrdQIAtHtyKNMFolwAAAAASUVORK5CYII=" alt="Loading" />' + "" + '</td>'
        }else if (downloadValue<10){
            returnResult='<td>' +'<img style="padding-left: 28px" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAPJJREFUSEvdlqEOgzAQhu+C2MRESWbmeAQq8CD3FnjEXmlvgWQe0RdYMsQS5CYrIF1aVS4EsnEkZLgz9/W+/umBsPKH3P2VUgIAhJSysb1ZAUqpqO/7h20cBEEopXyzAuq6ThGxsgBjTJYkyW37AN85+wTUedd1MasiemKXGs47WAUw5XzxBHPOFwPmlGwTkL8qAVqL6+ncsE+Qt2UECO5tgd0+LO6HQc6pkq8V5W2ZAoJ7W8BAVjyPg5z/BPCVsAOoEtA6Zp2Antip4VT0F4BBLG3+/ZheGiH8lWh371Q9ujL9FNkroDVd6nM168oc+0P5AAfraChnStbtAAAAAElFTkSuQmCC" alt="Loading" />' + "" + '</td>'
        }else if (downloadValue<20){
            returnResult='<td>' +'<img style="padding-left: 28px" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAO1JREFUSEvtlqEOgzAQhv8LYhMTJZmZ4xGowIPcW+ARe6W9BZJ5RF9gyRBLJjdZAenSqtKQITgSxOpq7mu/u/QvYeVF3PWVUgKAkFJ2tjYrQCmVDMPwsIWjKIqllB9WQNu2ORE1FmCMKbIsu20f4Dtnv0HovO/7lFVReGI3NZw9WAVQvhsBrcX1dO7YAeWrTkBwc47dPq7uh5HzxYrKV52D4OYcBkX1PI6cbxPgO2e/QegcWqesisITO/dLe/BLyWLAnBIOwGgMw4J/ACZ6IPynwb5B/v7SCeFHpM3i2cj0p8g6n9uHIb9q6E/9UL4cAlcotfABowAAAABJRU5ErkJggg==" alt="Loading" />' + "" + '</td>'
        }else if (downloadValue<=30){
            returnResult='<td>' +'<img style="padding-left: 28px" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAN5JREFUSEvllqEOgzAQhv8LYhMTJZmZ4xGowIPcW+ARe6W9BZJ5RF9gyRBLkEzWkC5FAVnWlB0JyerO3Nf7erkrYeVD3PmVUgKAkFI2NjcrQCkV9X3/sImDIAillC9WQF3XKRFVFmCMyZIkuW0fkHeVgNbiejo37BXkbRmBMDjHbh8W90PMqihvyxSEwTkMsuJ5xPYBY+fsFcydQ+uYVdH8xoN7zjdYBfDN+c8VuJxzACZ9Pk+4COCjxBvgq2QJwEvJfwIm49fO+fE4dsWXRgjnyhx3kXXsG6+69D/9UN5Asj4o8OU80AAAAABJRU5ErkJggg==" alt="Loading" />' + "" + '</td>'
        }else if (downloadValue>30){
            returnResult='<td>' +'<img style="padding-left: 28px" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAK1JREFUSEtjZKAxYKS2+Qnv9wsw/PghsEDS8wHIbKpakPB8uwIDI8N9sKPZOQQXCDp+oLYFDgyMDPvBFvxncFwg6Xlg8FuAHOYJz7dT1wfoYc7w44cBVYMI3cXgsKdmHNDEAnxhTrEPCIU5NSxASSXoBg5OC0gJc5J9QGqYk2MBSWFOlAWUBAlBCygNEmIsoChIRoYFKFUeqG5FrgJJ5WOtMtErbUr5VK0ysbVQANeWDChIfKoUAAAAAElFTkSuQmCC" alt="Loading" />' + "" + '</td>'
        }

        return returnResult
    }

    function verifySpeedtestDelayColor(delayValue){
        var returnResult=0
        if (delayValue>1000){
            returnResult=3
        }else if (delayValue>350 && delayValue<1000){
            returnResult=2
        }else if (delayValue<=350){
            returnResult=1
        }else{
            returnResult=1
        }
        return returnResult
    }

    async function updateSpeedTestHTML(lineInfo,lastProxyLine,firstLineInfo){
        let serverIndex = lineInfo.guid;
        let connected = lineInfo.connected;
        let serverName = lineInfo.server_name;
        let location = lineInfo.location;
        let isVipLine = lineInfo.is_vip;
        let delayRank = lineInfo.rank;
        let delay = lineInfo.delay;
        let isEVipLine = lineInfo.is_e_vip;

        await proxyStartSpeedTest(lineInfo,lastProxyLine,firstLineInfo).then(
            function(downloadSpeed){


                if (lineInfo.guid == firstLineInfo.guid){
                    downloadSp = downloadSpeed;
                }

                if (lastProxyLine){
                    document.getElementById('id-display-speedometer').style.display='none'
                    document.getElementById('id-end-speedometer').style.display='block'

                    clearTimeout(checklinesTimerId_AI)

                    serverHTML = '<tr style="cursor: pointer" onclick="connectServer(\'' + firstLineInfo.guid+'\');" id="' + getLineId(firstLineInfo.guid) +'">';
                    serverHTML += '<td style="width: 59%"><i class="flag-line flag-icon-' + firstLineInfo.location + '"></i><div class="speedtest-tip-button">已连接</div>'+ firstLineInfo.server_name+ '</td>';
                    serverHTML += '<td style="width: 20%"><img src="./static/sb/dist/img/icon/icon_delay.png">' + firstLineInfo.delay + '</td>';
                    serverHTML += '<td><img src="./static/sb/dist/img/icon/wifi-flag-'+ firstLineInfo.rank + '.png">' + downloadSp.toString() + '</td>';
                     
                    serverHTML += '</tr>';
                    $('#' + getLineId(firstLineInfo.guid)).replaceWith(serverHTML);
                    connectServer(firstLineInfo.guid)
                }
                return
            }).catch(err => console.log(err));
    }

    var checklinesTimerId_AI=null;
    var countDown=12
    var speedTestDownloadValue
    async function proxyStartSpeedTest(lineInfo,lastProxyLine,firstLineInfo) {
        let serverIndex = lineInfo.guid;
        let connected = lineInfo.connected;
        let serverName = lineInfo.server_name;
        let location = lineInfo.location;
        let isVipLine = lineInfo.is_vip;
        let delayRank = lineInfo.rank;
        let delay = lineInfo.delay;
        let isEVipLine = lineInfo.is_e_vip;

        var speedValues
        var serverHTML=""

        var speedTestList =[];
        for (let i = 0; i <= 5; i++) {
            speedValues=loadSpeedTestValues(serverIndex)
            speedTestList.push(speedValues)

        }

        speedTestList.forEach((element,i) => {
            setTimeout(
                function(){
                    

                    var tmpV=parseInt(speedValues)
                }
                , 1000);
        });

        
        
        


        speedValues=loadSpeedTestValues(serverIndex)
        var tmpV=parseInt(speedValues)
        $('#myValues').val(tmpV).change()

        if (i==5){
             
            document.getElementById('id-speedtest-checking-title').innerHTML = "-";
            serverHTML = '<tr style="cursor: pointer" onclick="connectServer(\'' + serverIndex+'\');" id="' + getLineId(serverIndex) +'">';
            serverHTML += '<td id="id-speedtest-location" style="width: 59%"><i class="flag-line flag-icon-' + location + '"></i>'+ serverName+ '</td>';
            serverHTML += '<td style="width: 20%"><img src="./static/sb/dist/img/icon/icon_delay.png">' + delay + '</td>';
            serverHTML += '<td><img src="./static/sb/dist/img/icon/wifi-flag-'+ delayRank + '.png">' + tmpV.toString() + "Mbps" + '</td>';
             
            serverHTML += '</tr>';

            $('#' + getLineId(serverIndex)).replaceWith(serverHTML);

            $('#myValues').val(0).change()
            return tmpV.toString() + "Mbps"
        }

    }


    function waitforme(milisec) {
        return new Promise(resolve => {
            setTimeout(() => { resolve('') }, milisec);
        })
    }

    $(document).click(function (e) {
        
        if(document.getElementById("speedtestModal").style.display==="flex"){
             
        }else if(document.getElementById("speedtestModal").style.display==="none"){
             

            if (downloadSpeedAjax!=null){
                for(var i = 0; i < downloadSpeedAjax.length; i++)
                    downloadSpeedAjax[i].abort();
            }
        }

        if(document.getElementById("have_update").style.display==="block"){

            setLocalItem('have_update', true)
        }else if(getLocalItem('have_update')!=null){
            if (getLocalItem('have_update')){
                notifyUserClose($("#have_update"));
                setLocalItem('have_update', null)
            }
        }



    });

    
    function popupcontroller(id){
        console.log("popupcontroller: "+ id)
        var usertype=getLocalItem('user_type')
        switch(id) {
            case "notice-pane":
                if (usertype == 1) { 
                    if (getLocalItem('trigger_vip_renew_pane')!=null && getLocalItem('trigger_vip_renew_pane')){
                        var paymentview_status = true 
                        if (paymentview_status){
                            toggleAlertBox4($("#renew-pane"))
                            setLocalItem('trigger_vip_renew_pane',null)
                        }

                    }else{
                        if (getLocalItem('trigger_vip_promo_modal')!=null && getLocalItem('trigger_vip_promo_modal')){
                            toggleAlertBoxPromoModal($("#id-promoModal-Content"))
                            setLocalItem('trigger_vip_promo_modal',null)
                        }else{
                            if (getLocalItem('trigger_vip_bind_notification')!=null && getLocalItem('trigger_vip_bind_notification')){
                                setLocalItem('trigger_vip_bind_notification',null)
                                showPaidNotificationView();
                            }else{
                                var bindtype = 0 
                                if (bindtype == 2) { 
                                    toggleAlertBox06($("#id-switchbind-tip001"))
                                }
                            }
                        }
                    }
                } else if (usertype == 2) { 
                    var bindtype = 0 
                    if (bindtype == 2) { 
                        toggleAlertBox06($("#id-switchbind-tip001"))
                    }
                } else { 

                    var free_user_promp = 1 
                    if (free_user_promp!=0){
                        if ( getLocalItem('click_notice_ev')==null){
                            var paymentview_status = true 
                            if (paymentview_status){
                                toggleAlertBoxFreeUserPrompt($("#renew-pane-free"))
                                setLocalItem('click_notice_ev',null)
                            }
                        }

                    }else{
                        if (getLocalItem('is_preload_retain_event')==1){
                            setLocalItem('is_preload_retain_event',2)
                            toggleAlertBoxPromoModal($("#id-promoModal-Content"))
                        }else{
                            var bindtype = 0 
                            if (bindtype == 2) { 
                                toggleAlertBox06($("#id-switchbind-tip001"))
                            }
                        }
                    }
                }
                break;
            case "have_update":
                if (usertype == 1) {

                } else if (usertype == 2) {

                } else {
                    if(getLocalItem('is_accept_policy')!=null){
                        if (getLocalItem('is_accept_policy')==true) {
                            setLocalItem('trigger_tutorial_auto',true)
                            setLocalItem('is_accept_policy',null)
                            console.log('tutorialhandler(1)')
                            tutorialhandler(1)
                        }
                    }else{
                        toggleAlertBox2($("#notice-pane"))
                    }

                }
                break;
            case "id-promoModal-Content":
                if (usertype == 1) {
                    if (getLocalItem('trigger_vip_bind_notification')!=null && getLocalItem('trigger_vip_bind_notification')){
                        showPaidNotificationView();
                        setLocalItem('trigger_vip_bind_notification',null)
                    }else{
                        var bindtype = 0 
                        if (bindtype == 2) { 
                            toggleAlertBox06($("#id-switchbind-tip001"))
                        }
                    }
                } else if (usertype == 2) {

                } else {
                    var bindtype = 0 
                    if (bindtype == 2) { 
                        toggleAlertBox06($("#id-switchbind-tip001"))
                    }
                }
                break;
            case "renew-pane-free":
                if (usertype == 1) {

                } else if (usertype == 2) {

                } else {
                    if (getLocalItem('is_preload_retain_event')==1){
                        setLocalItem('is_preload_retain_event',2)
                        toggleAlertBoxPromoModal($("#id-promoModal-Content"))
                    }else{
                        var bindtype = 0 
                        if (bindtype == 2) { 
                            toggleAlertBox06($("#id-switchbind-tip001"))
                        }
                    }
                }
                break;
            case "renew-pane":
                if (usertype == 1) {
                    if (getLocalItem('trigger_vip_promo_modal')!=null && getLocalItem('trigger_vip_promo_modal')){
                        toggleAlertBoxPromoModal($("#id-promoModal-Content"))
                        setLocalItem('trigger_vip_promo_modal',null)
                    }else{
                        if (getLocalItem('trigger_vip_bind_notification')!=null && getLocalItem('trigger_vip_bind_notification')){
                            showPaidNotificationView();
                            setLocalItem('trigger_vip_bind_notification',false)
                        }else{
                            var bindtype = 0 
                            if (bindtype == 2) { 
                                toggleAlertBox06($("#id-switchbind-tip001"))
                            }
                        }
                    }
                } else if (usertype == 2) {

                } else {
                    
                }
                break;
            case "tutorial":

                if (usertype == 1) {

                } else if (usertype == 2) {

                } else {

                    if (getLocalItem('trigger_tutorial_auto')!=null){
                        if (getLocalItem('trigger_tutorial_auto')==true){
                            setLocalItem('trigger_tutorial_auto',null)
                            
                            
                        }
                    }
                }
                break;
            default:
        }

    }

    function tutorialhandler(type) {
        var tutorialFirstPart="#tutorial-";

        var tutorialSecondPart="";
        var tutorialFinal="";

        var paymentview_status = true 
        if (paymentview_status){
            document.getElementById('tutorial-page1').innerHTML="1/8"
            document.getElementById('tutorial-page2').innerHTML="2/8"
            document.getElementById('tutorial-page3').innerHTML="3/8"
            document.getElementById('tutorial-page4').innerHTML="4/8"
            document.getElementById('tutorial-page5').innerHTML="5/8"
            document.getElementById('tutorial-page6').innerHTML="6/8"
            document.getElementById('tutorial-page7').innerHTML="7/8"
            document.getElementById('tutorial-page8').innerHTML="8/8"

            document.getElementById('id-tutorial-button-plan1').style.display='block'
            document.getElementById('id-tutorial-button-plan2').style.display='none'
        }else{
            document.getElementById('tutorial-page1').innerHTML="1/7"
            document.getElementById('tutorial-page2').innerHTML="2/7"
            document.getElementById('tutorial-page3').innerHTML="3/7"
            document.getElementById('tutorial-page4').innerHTML="4/7"
            document.getElementById('tutorial-page5').innerHTML="5/7"
            document.getElementById('tutorial-page6').innerHTML="5/7"
            document.getElementById('tutorial-page7').innerHTML="6/7"
            document.getElementById('tutorial-page8').innerHTML="7/7"
            document.getElementById('id-tutorial-button-plan1').style.display='none'
            document.getElementById('id-tutorial-button-plan2').style.display='block'
        }


        tutorialSecondPart=type.toString();
        tutorialFinal=tutorialFirstPart.concat(tutorialSecondPart);
        toggleAlertBox($(tutorialFinal));

    }


    function loadSpeedTestValuesV2(lineInfo,lastProxyLine,firstLineInfo, currRows,totalRows){
        let serverIndex = lineInfo.guid;
        let connected = lineInfo.connected;
        let serverName = lineInfo.server_name;
        let location = lineInfo.location;
        let isVipLine = lineInfo.is_vip;
        let delayRank = lineInfo.rank;
        let delay = lineInfo.delay;
        let isEVipLine = lineInfo.is_e_vip;
        var serverHTML=""
        var delayValue=""
        var delayColor=""
        var delayArr = delay.split("m");
        if(delayArr.length>=2){
            delayValue=parseInt(delayArr[0])
        }
        delayColor=verifySpeedtestDelayColor(delayValue)
        var tmpV

        var downloadSpeed=""
        $.ajax({
            method: "POST",
            async: false,
            url: "lines/startSpeedTest",
            data: JSON.stringify({"proxy_guid" : serverIndex}),
            contentType: "application/json; charset=utf-8",
            success: function (data) {

                var speedValue = data.data.proxy_download_speed
                var str=speedValue.split(" ")
                if (str.length>0){
                    
                    var tmpV=Math.round(parseFloat(speedValue).toFixed(2))
                    
                    $('#myValues').val(tmpV).change()

                    isDoneCheckingEachLine = true

                    var tmpSpeedDownload=""
                    if (tmpV==0){
                        tmpSpeedDownload= "-"
                    }else{
                        tmpSpeedDownload= tmpV.toString()
                    }

                    if (tmpV>0){
                        successCounter+=1
                        totalSpeedtestCounter+=1
                        $(".success-proxy-counter").text(successCounter.toString())
                    }else{
                        totalSpeedtestCounter+=1
                    }
                    var balanceRows=  totalRows - totalSpeedtestCounter;
                    failedCounter=  totalRows - successCounter;

                    $(".failed-proxy-counter").text(failedCounter.toString())

                    $(".id-balance-checking-speedtest").text(balanceRows.toString())

                    totalRowsSpeedTest=totalRows;

                    var wifiBar=verifySpeedtestWifiBar(tmpV)
                    
                    
                    


                    currentSpeedTestHtml = '<tr style="cursor: pointer" onclick="connectServerSpeedTest(\'' + serverIndex+'\');" id="' + getLineSpeedId(serverIndex) +'">';
                    currentSpeedTestHtml += '<td id="id-speedtest-location"><i class="flag-line flag-icon-' + location + '"></i>'+ serverName+ '</td>';
                    
                    if (delayColor=="1"){
                        currentSpeedTestHtml += '<td><svg height="40" width="40">\n' +
                            '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#00AF44" />\n' +
                            '  Sorry, your browser does not support inline SVG.  \n' +
                            '</svg>' + "良好" + '</td>';
                    }else if (delayColor=="2"){
                        currentSpeedTestHtml += '<td><svg height="40" width="40">\n' +
                            '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#FFC500" />\n' +
                            '  Sorry, your browser does not support inline SVG.  \n' +
                            '</svg>' + "繁忙" + '</td>';
                    }else if (delayColor=="3"){
                        currentSpeedTestHtml += '<td><svg height="40" width="40">\n' +
                            '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#F00000" />\n' +
                            '  Sorry, your browser does not support inline SVG.  \n' +
                            '</svg>' + "拥挤" + '</td>';
                    }
                    if(tmpSpeedDownload=="-"){
                        currentSpeedTestHtml += '<td style="padding-left: 47px">-</td>';
                    }else{
                        
                        currentSpeedTestHtml += wifiBar;
                    }

                    currentSpeedTestHtml += '<td style="display: none">' + tmpV.toString() + '</td>';
                     
                    currentSpeedTestHtml += '</tr>';

                    $('#' + getLineSpeedId(serverIndex)).replaceWith(currentSpeedTestHtml);
                    currentSpeedTestIndex =getLineSpeedId(serverIndex)

                    
                    var serverHTMLManuals=""
                    serverHTMLManuals= '<ul class="one-line" onclick="connectServer(\'' + serverIndex+'\');" id="' + getLineId(serverIndex) +'">';
                    serverHTMLManuals += '<li id="location" class="flag-line flag-icon-' + location + '"></li>';
                    serverHTMLManuals += '<li id="server" class="server-name">'+ serverName+ '</li>';
                    serverHTMLManuals += '<li id="delay" class="delay" style="float:right">' + delay + '</li>';
                    serverHTMLManuals += '<li id="wifi-rank" class="wifi-flag wifi-flag-'+ delayRank + '" style="float:right"></li>';
                    serverHTMLManuals += '<li id="connected" style="display:none" status="' + (connected ? 'connected' : 'disconnected')+'"></li>';
                    if(tmpV==0){
                        serverHTMLManuals += '<li id="speedtest" style="display:none">' + "-" + '</li>';
                    }else{
                        serverHTMLManuals += '<li id="speedtest" style="display:none">' + tmpV + '</li>';
                    }
                    serverHTMLManuals += '</ul>';
                    $('#' + getLineId(serverIndex)).replaceWith(serverHTMLManuals);
                     


                    var rows = $('#id-table-speedtest').closest('table').find(' tbody tr');
                    rows[currRows].scrollIntoView({
                        behavior: 'instant',
                        block: 'center'
                    });

                    if(lastProxyLine){

                        document.getElementById('id-display-speedometer').style.display='none'
                        document.getElementById('id-end-speedometer').style.display='block'

                        clearTimeout(checklinesTimerId_AI)

                        
                        
                        $('#myValues').val(0).change()
                        var tmpSpeedDownload=""
                        if (tmpV==0){
                            tmpSpeedDownload= "-"
                        }else{
                            tmpSpeedDownload= tmpV.toString()+"Mbps"
                        }
                        if (tmpV>0){
                            successCounter+=1
                            totalSpeedtestCounter+=1
                            $(".success-proxy-counter").text(successCounter.toString())
                        }else{
                            totalSpeedtestCounter+=1
                        }

                        var balanceRows=  totalRows - totalSpeedtestCounter;
                        failedCounter=  totalRows - successCounter;

                        $(".failed-proxy-counter").text(failedCounter.toString())
                        $(".id-balance-checking-speedtest").text(balanceRows.toString())

                        totalRowsSpeedTest=totalRows;
                        var wifiBar=verifySpeedtestWifiBar(tmpV)

                         
                        serverHTML = '<tr style="cursor: pointer" onclick="connectServerSpeedTest(\'' + serverIndex+'\');" id="' + getLineSpeedId(serverIndex) +'">';
                        serverHTML += '<td id="id-speedtest-location"><i class="flag-line flag-icon-' + location + '"></i>'+ serverName+ '</td>';
                        if (delayColor=="1"){
                            serverHTML += '<td><svg height="40" width="40">\n' +
                                '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#00AF44" />\n' +
                                '  Sorry, your browser does not support inline SVG.  \n' +
                                '</svg>' + "良好" + '</td>';
                        }else if (delayColor=="2"){
                            serverHTML += '<td><svg height="40" width="40">\n' +
                                '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#FFC500" />\n' +
                                '  Sorry, your browser does not support inline SVG.  \n' +
                                '</svg>' + "繁忙" + '</td>';
                        }else if (delayColor=="3"){
                            serverHTML += '<td><svg height="40" width="40">\n' +
                                '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#F00000" />\n' +
                                '  Sorry, your browser does not support inline SVG.  \n' +
                                '</svg>' + "拥挤" + '</td>';
                        }
                        if(tmpSpeedDownload=="-"){
                            serverHTML += '<td style="padding-left: 47px">' + tmpSpeedDownload + '</td>';
                        }else{
                            serverHTML += wifiBar;
                        }
                        serverHTML += '<td style="display: none">' + tmpV.toString() + '</td>';
                         
                        serverHTML += '</tr>';
                        $('#' + getLineSpeedId(serverIndex)).replaceWith(serverHTML);


                        if (autoConnectOnce){
                            delete_row("id-table-speedtest" , "-")
                            isTriggerAutoCheckDownloadSpeed=false
                            var count = $('#id-table-speedtest tr').length;
                            serverHTMLManual = count
                            console.log("Balance rows: "+count.toString())

                            if (count>0){
                                sortTableWithNum("id-table-speedtest",3)

                                var firstId=""
                                var lineId = $('#id-table-speedtest').closest('table').find(' tbody tr:first').attr('id');

                                var arrSplit = lineId.split("-");
                                firstId=arrSplit[1]

                                var firstLineValue = [];
                                $("#"+ lineId).find("td").each(function() {
                                    var test = $(this).text();

                                    firstLineValue.push(test)
                                })

                                var cell = document.getElementById('id-table-speedtest').rows[0].cells;

                                 
                                currentSpeedTestHtml = '<tr style="cursor: pointer" onclick="connectServerSpeedTest(\'' + firstId +'\');" id="' + firstId +'">';
                                currentSpeedTestHtml += '<td>'+ cell[0].innerHTML + '<div class="speedtest-tip-button">已连接</div></td>';
                                currentSpeedTestHtml += '<td>' + cell[1].innerHTML +'</td>';
                                
                                currentSpeedTestHtml += '<td>' + cell[2].innerHTML +'</td>';

                                currentSpeedTestHtml += '</tr>';
                                currentSpeedTestIndex =lineId
                                currentSpeedTestServerName = firstLineValue[0]
                                

                                connectServer(firstId)
                                isSpeedTestStatusOnce=true
                                isSpeedTestStatusOnceFailed=true

                                var rows = $('#id-table-speedtest').closest('table').find(' tbody tr');
                                rows[0].scrollIntoView({
                                    behavior: 'smooth',
                                    block: 'center'
                                });

                                document.getElementById('id-display-curr-connected-proxy').style.display='block'
                                document.getElementById('id-display-balance-speedtest-counter').style.display='none'
                                

                                

                                var rowCount = $("#id-table-speedtest tr").length; 
                                

                                successCounter = rowCount
                                failedCounter=  totalRows - successCounter;
                                $(".success-proxy-counter").text(successCounter.toString())
                                $(".failed-proxy-counter").text(failedCounter.toString())

                                $(".id-balance-checking-speedtest").text("0")

                                if (successCounter==0){
                                    $('.id-current-connect-proxy').text("-")
                                }

                                document.getElementById('id-end-speedtest-with-failed').style.display='none'
                                document.getElementById('id-end-speedtest-without-failed').style.display='block'

                                stopSpeedTests=1

                                autoConnectOnce=false
                            }else {
                                $('.id-current-connect-proxy').text("-")
                                $(".line-list-body").empty()
                                document.getElementById('id-end-speedtest-with-failed').style.display='none'
                                document.getElementById('id-end-speedtest-without-failed').style.display='block'

                                stopSpeedTests=1

                                document.getElementById('id-display-curr-connected-proxy').style.display='block'
                                document.getElementById('id-display-balance-speedtest-counter').style.display='none'
                                autoConnectOnce=false
                            }

                        }


                    }
                }



            }
        })

        return downloadSpeed
    }

    var arrDownloadSpeed=[]
    var arrNewLines
    var arrMaxLength
    function loadSpeedTestValuesV3(guid){
        var downloadSpeed=""
        $.ajax({
            method: "POST",
            async: false,
            url: "lines/startSpeedTest",
            data: JSON.stringify({"proxy_guid" : guid}),
            contentType: "application/json; charset=utf-8",
            success: function (data) {
                var speedValue = data.data.proxy_download_speed
                var str=speedValue.split(" ")
                if (str.length>0){
                    downloadSpeed=str
                    

                }
            }
        })

        return downloadSpeed
    }

    var speedValueArr =[]
    var downloadSpeedAjax=[]
    function loadSpeedTestValues(lineInfo,lastProxyLine,firstLineInfo, currRows,totalRows){
        let serverIndex = lineInfo.guid;
        let connected = lineInfo.connected;
        let serverName = lineInfo.server_name;
        let location = lineInfo.location;
        let isVipLine = lineInfo.is_vip;
        let delayRank = lineInfo.rank;
        let delay = lineInfo.delay;
        let isEVipLine = lineInfo.is_e_vip;
        var serverHTML=""
        var delayValue=""
        var delayColor=""

        var delayArr = delay.split("m");
        if(delayArr.length>=2){
            delayValue=parseInt(delayArr[0])
        }
        delayColor=verifySpeedtestDelayColor(delayValue)
        var tmpV

        console.log("loadSpeedTestValues curr row outside: "+ currRows)
        var downloadSpeed=""
        autoConnectOnce=true
        clearTimeout(verifyReSpeedTest_timer)
        reSpeedCheck_PreventMultipleClick()

        

        downloadSpeedAjax.push(
            $.ajax({
                method: "POST",
                
                url: "lines/startSpeedTest",
                data: JSON.stringify({"proxy_guid" : serverIndex}),
                contentType: "application/json; charset=utf-8",
                beforeSend: function(){
                    
                    var serverHTML =""
                    serverHTML = '<tr class="my_speedtest" style="cursor: pointer" onclick="connectServerSpeedTest(\'' + serverIndex+'\');" id="' + getLineSpeedId(serverIndex) +'">';

                    serverHTML += '<td id="id-speedtest-location"><i class="flag-line flag-icon-' + location + '"></i>'+ serverName+ '</td>';

                    serverHTML += '<td ><span style="color:gray;" class="checking">待检测</span></td>';

                    serverHTML += '<td>' +'<i class="flag-line icon-wifi-' + "" + '"></i>' + "" + '</td>'

                    serverHTML += '<td style="display: none">' + "0" + '</td>';

                    serverHTML += '</tr>';
                    $(".speedtest-table").append(serverHTML);
                },
                success: function (data) {
                    setTimeout( function() {
                        console.log("loadSpeedTestValues curr row: "+ currRows)
                        var speedValue = data.data.proxy_download_speed
                        var str=speedValue.split(" ")
                        if (str.length>0){
                            downloadSpeed=str

                            tmpV=Math.round(parseFloat(downloadSpeed).toFixed(2))
                            var tmpSpeedDownload=""
                            if (tmpV==0){
                                tmpSpeedDownload= "-"
                            }else{
                                tmpSpeedDownload= tmpV.toString()+"Mbps"
                            }

                            if (tmpV>0){
                                successCounter+=1
                                totalSpeedtestCounter+=1
                                $(".success-proxy-counter").text(successCounter.toString())
                            }else{
                                totalSpeedtestCounter+=1
                            }
                            var balanceRows=  totalRows - totalSpeedtestCounter;
                            failedCounter=  totalRows - successCounter;

                            $(".failed-proxy-counter").text(failedCounter.toString())

                            $(".id-balance-checking-speedtest").text(balanceRows.toString())

                            totalRowsSpeedTest=totalRows;
                            var wifiBar=verifySpeedtestWifiBar(tmpV)

                            var titleChild = '<i class="flag-line flag-icon-' + location + '"></i><span>'+ serverName+ '</span>'
                            document.getElementById('id-speedtest-checking-title').innerHTML = titleChild;

                            $('#myValues').val(tmpV).change()
                            serverHTML=""
                            serverHTML = '<tr style="cursor: pointer" onclick="connectServerSpeedTest(\'' + serverIndex+'\');" id="' + getLineSpeedId(serverIndex) +'">';
                            serverHTML += '<td id="id-speedtest-location"><i class="flag-line flag-icon-' + location + '"></i>'+ serverName+ '</td>';
                            
                            if (delayColor=="1"){
                                serverHTML += '<td><svg height="40" width="40">\n' +
                                    '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#00AF44" />\n' +
                                    '  Sorry, your browser does not support inline SVG.  \n' +
                                    '</svg>' + "良好" + '</td>';
                            }else if (delayColor=="2"){
                                serverHTML += '<td><svg height="40" width="40">\n' +
                                    '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#FFC500" />\n' +
                                    '  Sorry, your browser does not support inline SVG.  \n' +
                                    '</svg>' + "繁忙" + '</td>';
                            }else if (delayColor=="3"){
                                serverHTML += '<td><svg height="40" width="40">\n' +
                                    '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#F00000" />\n' +
                                    '  Sorry, your browser does not support inline SVG.  \n' +
                                    '</svg>' + "拥挤" + '</td>';
                            }
                            if(tmpSpeedDownload=="-"){
                                serverHTML += '<td style="padding-left: 0px"><i class="flag-line icon-wifi-' + "" + '"></i>' + tmpSpeedDownload + '</td>';
                            }else{
                                serverHTML += '<td>' +'<i class="flag-line icon-wifi-' + wifiBar + '"></i>' + "" + '</td>';
                            }

                            serverHTML += '<td style="display: none">' + tmpV.toString() + '</td>';
                             
                            serverHTML += '</tr>';
                            $('#' + getLineSpeedId(serverIndex)).replaceWith(serverHTML);



                            if (currRows !=null && currRows>0){
                                var rows = $('#id-table-speedtest').closest('table').find(' tbody tr');
                                rows[currRows].scrollIntoView({
                                    behavior: 'instant',
                                    block: 'center'
                                });
                            }

                            if(lastProxyLine){

                                document.getElementById('id-display-speedometer').style.display='none'
                                document.getElementById('id-end-speedometer').style.display='block'

                                $('#myValues').val(0).change()

                                var tmpSpeedDownload=""
                                if (tmpV==0){
                                    tmpSpeedDownload= "-"
                                }else{
                                    tmpSpeedDownload= tmpV.toString()+"Mbps"
                                }
                                if (tmpV>0){
                                    successCounter+=1
                                    totalSpeedtestCounter+=1
                                    $(".success-proxy-counter").text(successCounter.toString())
                                }else{
                                    totalSpeedtestCounter+=1
                                }

                                var balanceRows=  totalRows - totalSpeedtestCounter;
                                failedCounter=  totalRows - successCounter;

                                $(".failed-proxy-counter").text(failedCounter.toString())
                                $(".id-balance-checking-speedtest").text(balanceRows.toString())

                                totalRowsSpeedTest=totalRows;

                                var wifiBar=verifySpeedtestWifiBar(tmpV)

                                 
                                serverHTML = '<tr style="cursor: pointer" onclick="connectServerSpeedTest(\'' + serverIndex+'\');" id="' + getLineSpeedId(serverIndex) +'">';
                                serverHTML += '<td id="id-speedtest-location"><i class="flag-line flag-icon-' + location + '"></i>'+ serverName+ '</td>';
                                if (delayColor=="1"){
                                    serverHTML += '<td><svg height="40" width="40">\n' +
                                        '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#00AF44" />\n' +
                                        '  Sorry, your browser does not support inline SVG.  \n' +
                                        '</svg>' + "良好" + '</td>';
                                }else if (delayColor=="2"){
                                    serverHTML += '<td><svg height="40" width="40">\n' +
                                        '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#FFC500" />\n' +
                                        '  Sorry, your browser does not support inline SVG.  \n' +
                                        '</svg>' + "繁忙" + '</td>';
                                }else if (delayColor=="3"){
                                    serverHTML += '<td><svg height="40" width="40">\n' +
                                        '  <circle cx="20" cy="20" r="7" stroke="none" stroke-width="3" fill="#F00000" />\n' +
                                        '  Sorry, your browser does not support inline SVG.  \n' +
                                        '</svg>' + "拥挤" + '</td>';
                                }
                                if(tmpSpeedDownload=="-"){
                                    serverHTML += '<td style="padding-left: 0px"><i class="flag-line icon-wifi-' + "" + '"></i>' + tmpSpeedDownload + '</td>';
                                }else{
                                    
                                    serverHTML += '<td><i class="flag-line icon-wifi-' + wifiBar + '"></i>' + "" + '</td>';

                                }
                                serverHTML += '<td style="display: none">' + tmpV.toString() + '</td>';
                                 
                                serverHTML += '</tr>';
                                $('#' + getLineSpeedId(serverIndex)).replaceWith(serverHTML);


                                console.log('last line :' + autoConnectOnce)
                                if (autoConnectOnce){
                                    delete_row("id-table-speedtest" , "-")

                                    sortTableWithNum("id-table-speedtest",3)

                                    var firstId=""
                                    var lineId = $('#id-table-speedtest').closest('table').find(' tbody tr:first').attr('id');

                                    if(lineId.length>0){
                                        var arrSplit = lineId.split("-");
                                        firstId=arrSplit[1]

                                        connectServer(firstId)

                                        var firstLineValue = [];
                                        $("#"+ lineId).find("td").each(function() {
                                            var test = $(this).text();

                                            firstLineValue.push(test)
                                        })

                                        var cell = document.getElementById('id-table-speedtest').rows[0].cells;


                                        currentSpeedTestHtml=""
                                        currentSpeedTestHtml = '<tr style="cursor: pointer" onclick="connectServerSpeedTest(\'' + firstId +'\');" id="' + getLineSpeedId(firstId) +'">';
                                        currentSpeedTestHtml += '<td>'+ cell[0].innerHTML + '<div class="speedtest-tip-button">已连接</div></td>';
                                        currentSpeedTestHtml += '<td>' + cell[1].innerHTML +'</td>';
                                        
                                        currentSpeedTestHtml += '<td>' + cell[2].innerHTML +'</td>';

                                        currentSpeedTestHtml += '</tr>';
                                        
                                        currentSpeedTestIndex = lineId
                                        currentSpeedTestServerName =firstLineValue[0]


                                        var rows = $('#id-table-speedtest').closest('table').find(' tbody tr');

                                        rows[0].scrollIntoView({
                                            behavior: 'smooth',
                                            block: 'center'
                                        });

                                        document.getElementById('id-display-curr-connected-proxy').style.display='block'
                                        document.getElementById('id-display-balance-speedtest-counter').style.display='none'
                                        



                                        var rowCount = $("#id-table-speedtest tr").length; 
                                        successCounter = rowCount
                                        failedCounter=  totalRows - successCounter;
                                        $(".success-proxy-counter").text(successCounter.toString())
                                        $(".failed-proxy-counter").text(failedCounter.toString())

                                        if (successCounter==0){
                                            $('.id-current-connect-proxy').text("-")
                                        }
                                        
                                        stopSpeedTests=1

                                        autoConnectOnce=false
                                    }


                                }


                            }
                        }
                    }, 50);


                },
                complete: function(data){
                    


                }

            }))
        

        
    }

    function proxyStopSpeedTest() {

        $.ajax({
            method: "POST",
            url: "lines/stopSpeedTest",
            contentType: "application/json; charset=utf-8",
            success: function (data) {
            }
        })
    }

    function getCurrConnectedProxy() {

        $.ajax({
            method: "POST",
            url: "lines/getCurrConnectedProxy",
            contentType: "application/json; charset=utf-8",
            success: function (data) {
                console.log("current detected Proxy"+data.data.curr_connected_proxy)
            }
        })
    }


    
    function switchServer() {
        
        

        $("#line-list-container").show();
        

    }

    function preloadSwitchServer(){
        $.ajax({
            method: "POST",
            url: "line/switch",
            contentType: "application/json; charset=utf-8",
            success: function(data) {
            },
        });
    }

    var verifycode_timer = null;

    function getVerifyCode(country, phone_number, err_ele, verify_code_ele) {
        
        if (verifycode_timer == null){
            if (!phone_number) {
                err_ele.text("请输入手机号码");
                err_ele.show();
                return
            }
            err_ele.hide()
            verify_code_ele.attr("disabled", true);

            var getverifycodetiming= 120 

            
            $.ajax({
                method: "POST",
                url: "account/signup/verifycode",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify({"country" : country, "phone_number" : phone_number}),
                success: function(data) {

                    if (data.code == 0) {
                        var downcnt = getverifycodetiming;
                        verifycode_timer = setInterval(function () {
                            downcnt --;
                            if (downcnt <= 0){
                                verify_code_ele.text("获取验证码");
                                verify_code_ele.attr("disabled", false);
                                clearInterval(verifycode_timer)
                                verifycode_timer = null
                                document.getElementById('id-signin-verifycode').style.textIndent='31px'
                                return
                            }
                            document.getElementById('id-signin-verifycode').style.textIndent='14px'
                            downcnt > 9 ?  verify_code_ele.text(downcnt + "s") :  verify_code_ele.text("0" + downcnt + "s")
                        }, 1000);
                        document.getElementById('id-signin-verifycode').style.textIndent='14px'
                        verify_code_ele.text(downcnt + "s");
                        if (data.msg) {
                            err_ele.addClass("theme-color");
                            err_ele.text(data.msg);
                            err_ele.show();
                            
                            
                        }
                    } else {
                        err_ele.removeClass("theme-color")
                        err_ele.text(data.msg);
                        err_ele.show();
                        verify_code_ele.attr("disabled", false);
                    }
                },
            });
        }
    }

    
    var verifymailcode_timer = null;

    function getMailVerifyCode(mail, err_ele, verify_code_ele) {
        

        
        if (verifymailcode_timer == null){
            if (!mail) {
                err_ele.text("请输入邮箱");
                err_ele.show();
                return
            }
            err_ele.hide()
            verify_code_ele.attr("disabled", true);

            var getverifycodetiming= 120 

            
            $.ajax({
                method: "POST",
                url: "account/signup/verifymailcode",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify({"mail" : mail}),
                success: function(data) {
                    
                    if (data.code == 0) {

                        
                        var downcnt = getverifycodetiming;
                        verifymailcode_timer = setInterval(function () {
                            downcnt --;
                            if (downcnt <= 0){
                                document.getElementById('id-switch-pwd-btn').style.display='block'
                                verify_code_ele.text("获取验证码");
                                verify_code_ele.attr("disabled", false);
                                clearInterval(verifymailcode_timer);
                                verifymailcode_timer = null;
                                document.getElementById('id-verify-code').style.textIndent = "30px";

                                document.getElementById('id-swapmail-verifycode').style.textIndent = "30px";

                                document.getElementById('id-force-signup-verifycode').style.textIndent = "30px";
                                document.getElementById('id-verifycode-signup').style.textIndent = "30px";

                                return
                            }
                            document.getElementById('id-swapmail-verifycode').style.textIndent = "13px";
                            document.getElementById('id-verify-code').style.textIndent = "13px";
                            document.getElementById('id-force-signup-verifycode').style.textIndent = "13px";
                            document.getElementById('id-verifycode-signup').style.textIndent = "13px";

                            downcnt > 9 ?  verify_code_ele.text(downcnt + "s" ) :  verify_code_ele.text("0" + downcnt + "s")
                        }, 1000);
                        document.getElementById('id-swapmail-verifycode').style.textIndent = "13px";
                        document.getElementById('id-verify-code').style.textIndent = "13px";
                        document.getElementById('id-force-signup-verifycode').style.textIndent = "13px";
                        document.getElementById('id-verifycode-signup').style.textIndent = "13px";
                        verify_code_ele.text(downcnt + "s" );
                        if (data.msg) {
                            err_ele.addClass("theme-color");
                            err_ele.text(data.msg);
                            err_ele.show();
                            
                            
                        }
                    } else {
                        err_ele.removeClass("theme-color")
                        err_ele.text(data.msg);
                        err_ele.show();
                        verify_code_ele.attr("disabled", false);
                    }
                },
            });
        }
    }

    function getMailVerifyCode_Register(mail, err_ele, verify_code_ele) {
        

        
        if (verifymailcode_timer == null){
            if (!mail) {
                err_ele.text("请输入邮箱");
                err_ele.show();
                return
            }
            err_ele.hide()
            verify_code_ele.attr("disabled", true);

            var getverifycodetiming= 120 
            
            $.ajax({
                method: "POST",
                url: "account/signup/verifymailcoderegister",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify({"mail" : mail}),
                success: function(data) {
                    
                    console.log("register code:"+data.code)
                    if (data.code == 0) {

                        
                        var downcnt = getverifycodetiming;
                        verifymailcode_timer = setInterval(function () {
                            downcnt --;
                            if (downcnt <= 0){
                                document.getElementById('id-switch-pwd-btn').style.display='block'
                                verify_code_ele.text("获取验证码");
                                verify_code_ele.attr("disabled", false);
                                clearInterval(verifymailcode_timer);
                                verifymailcode_timer = null;
                                document.getElementById('id-verify-code').style.textIndent = "30px";

                                document.getElementById('id-swapmail-verifycode').style.textIndent = "30px";

                                document.getElementById('id-force-signup-verifycode').style.textIndent = "30px";
                                document.getElementById('id-verifycode-signup').style.textIndent = "30px";

                                return
                            }
                            document.getElementById('id-swapmail-verifycode').style.textIndent = "13px";
                            document.getElementById('id-verify-code').style.textIndent = "13px";
                            document.getElementById('id-force-signup-verifycode').style.textIndent = "13px";
                            document.getElementById('id-verifycode-signup').style.textIndent = "13px";

                            downcnt > 9 ?  verify_code_ele.text(downcnt + "s" ) :  verify_code_ele.text("0" + downcnt + "s")
                        }, 1000);
                        document.getElementById('id-swapmail-verifycode').style.textIndent = "13px";
                        document.getElementById('id-verify-code').style.textIndent = "13px";
                        document.getElementById('id-force-signup-verifycode').style.textIndent = "13px";
                        document.getElementById('id-verifycode-signup').style.textIndent = "13px";
                        verify_code_ele.text(downcnt + "s" );
                        document.getElementById('id-force-bind-mail-upgrade-close').style.display='block'
                        if (data.msg) {
                            err_ele.addClass("theme-color");
                            err_ele.text(data.msg);
                            err_ele.show();
                            
                            
                        }
                    } else if (data.code==3010){ 
                        err_ele.removeClass("theme-color")
                        err_ele.text(data.msg);
                        err_ele.show();
                        verify_code_ele.attr("disabled", false);

                        document.getElementById('id-force-bind-mail-upgrade-close').style.display='block'

                    }else if (data.code==1006){
                        Toast(data.msg, 1000);
                        err_ele.removeClass("theme-color")
                        

                        verify_code_ele.attr("disabled", false);
                    }else {
                        err_ele.removeClass("theme-color")
                        err_ele.text(data.msg);
                        err_ele.show();
                        verify_code_ele.attr("disabled", false);
                    }
                },
            });
        }
    }

    
    function accountBox (){
        if ($('#account>i').hasClass("u-recovery")) {
            $('#account>i').removeClass("u-recovery").addClass('u-flip');

            $('.base-account').show();
        } else {
            $('#account>i').removeClass("u-flip").addClass('u-recovery');
            $('.base-account').hide();
        }
    }

    
    function accountBoxTutorial (){
        if ($('#account>i').hasClass("u-recovery")) {
            $('#account>i').removeClass("u-recovery").addClass('u-flip');

            $('.base-account').show();
        }
    }

    function copyBtn() {
        var Url2=$('.url').html();
        var oInput = document.createElement('input');
        oInput.value = Url2;
        document.body.appendChild(oInput);
        oInput.select(); 
        document.execCommand("Copy"); 
        oInput.className = 'oInput';
        oInput.style.display='none';
        Toast("复制完成，可以发给好友了", 2000);
    }
    function resetpasswd(e) {
        e = getEvent()

        document.getElementById('id-oldpasswd').value=""
        document.getElementById('id-newpasswd').value=""
        $('#reset-form-err').text('')
        toggleAlertBox($("#reset-pwd"), e)
    }
    function invite_fd(e) {
        e = getEvent()
        toggleAlertBox($("#invite_box"), e);

        $.ajax({
            method: "POST",
            url: "client/action/share",
            contentType: "application/json;charset=utf-8",
            success: function(data) {}
        });
    }
    
    function getMobileApp_fd(e) {
        e = getEvent()
        toggleAlertBox($("#getMobileApp_box"), e);
    }

    function check_update(e){
        e = getEvent()
        getVersion(e);
    }

    function show_notice(e) {
        e = getEvent();
        e.preventDefault()

        getNotices();
        toggleAlertBox2($("#notice-pane"),e)
        setLocalItem('click_notice_ev',true)
    }

    var is_reporting = false;
    

    $("#report-problem-form").submit(function(e) {

        try {
            e.preventDefault();
            if (is_reporting) {
                return false;
            }
            is_reporting = true;

            var browserInfo = getBrowserInfo();
            var form_data = $(this).serializeObject();
            form_data["problem_description"] = form_data["problem_description"].trim();
            form_data["problem_type"] = form_data["problem_type"].trim();
            form_data["user_mail"] = form_data["user_mail"].trim();


            if (form_data["problem_type"].length == 0) {
                getProblemType();
                is_reporting = false;
                return
            }

            if (form_data["problem_description"].length < 3) {
                Toast("描述的越清晰，越能帮您解决问题哦", 3000)
                is_reporting = false;
                return;
            }
            form_data["browser_info"] = browserInfo.browser + " " + browserInfo.browserVersion;
            $("#submit-problem-report").attr("disabled", true);

            $.ajax({
                method: "POST",
                url: "problem_report",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(form_data),
                success: function(data) {
                    
                    $("#first-wrap").hide();
                    if (data.code == 0) {
                        
                        ProgressBar($(".progress"), $(".progress-value"), 1000, getReportProblemProgress);
                        showReportProcessing();
                    } else {
                        
                    }
                },
            });
        } catch (err) {
            
        }

    });

    
    function showAntiLostError() {
        if (($("#anti_lost_view").is(":hidden"))) {
            var e = getEvent()
            toggleAlertBox($("#anti_lost_view"), e)
        }
    }

    
    function showResponseError() {
        var e = getEvent()
        $(".report-success").hide();
        $(".report-processing").hide();
        $(".report-overtime-failed").show();
        toggleAlertBox($("#reporting_problem_view"),e)
    }

    
    function showGetMobileAppDownloadFlowImg(visible, pointer) {
        var imgObj = $(".getMobileApp-Download-FlowImg");
        var leftPos = pointer.offsetLeft - imgObj[0].width - 20;
        var topPos = pointer.offsetTop - imgObj[0].height + 35;
        imgObj.css("left", leftPos + "px");
        imgObj.css("top", topPos + "px");

        if (visible) {
            imgObj.show();
        } else {
            imgObj.hide();
        }
    }
    
    function showReportProcessing() {
        var e = getEvent()
        $(".report-success").hide();
        $(".report-overtime-failed").hide();
        $(".report-processing").show();
        toggleAlertBox($("#reporting_problem_view"),e)
    }

    
    function showReportSuccess() {
        var e = getEvent()
        $(".report-processing").hide();
        $(".report-overtime-failed").hide();
        $(".report-success").show();
        toggleAlertBox($("#reporting_problem_view"),e)

        setTimeout(function(){
            if (!($(".report-success").is(":hidden"))){
                close_box_btn();
            }
        },2000)
    }


    function getReportProblemProgress(progress, callback) {
        $.ajax({
            method: "POST",
            url: "problem_report/progress",
            contentType: "application/json;charset=utf-8",
            success: function(data) {
                if (data.code == 0) {
                    status = data.data.status;
                    status_info = data.data.status_info;
                    progress = data.data.progress;

                    if (status < 2) {
                        callback(0,false);
                    } else if (status == 2){
                        callback(progress,false)
                    } else {
                        callback(100,true);
                    }
                    if (status == 6) {
                        showReportSuccess();
                        is_reporting = false;
                        $("#submit-problem-report").attr("disabled", false);
                        $("#report-problem-form input").val("");
                        $("#report-problem-form textarea").val("");
                    } else if (status == 5 || status == 7){
                        showResponseError();
                        is_reporting = false;
                        $("#submit-problem-report").attr("disabled", false);
                    }
                }
            }
        })
    }

    function verifyVersion(e) {
        var verStatus = {
            2: '更新失败',
            3: '更新中'
        }
        $.ajax({
            method: "POST",
            url: "client/ver",
            contentType: "application/json; charset=utf-8",
            success: function(data) {
                var verInfo = JSON.parse(data);

                $(".version_num").text(verInfo.ver)
                if (verInfo.status == 0) {
                    clearInterval(timer);
                    toggleAlertBox($("#no-update"), e);
                } else {

                    var obj=$('.version_log').text(verInfo.verLog)
                    obj.html(obj.html().replace(/\n/g,'<br/>'));
                    $(".switchaccount").attr('href', verInfo.verUrl)
                    if (verInfo.version_type==1){

                        toggleAlertBox($("#have_beta_update"), e);
                    }else{
                        
                        toggleAlertBox($("#have_update"), e);
                    }

                }
            },
        });
    }

    function getVersionMenuBar(e) {
        var currVersion="2.7.7"

        setLocalItem('version_num',currVersion)
        

    }

    function getVersion(e) {

        var verStatus = {
            2: '更新失败',
            3: '更新中'
        }
        $.ajax({
            method: "POST",
            url: "client/ver",
            contentType: "application/json; charset=utf-8",
            success: function(data) {
                var verInfo = JSON.parse(data);

                $(".version_num").text(verInfo.ver)
                 
                if (verInfo.status == 0) {
                    clearInterval(timer);
                    
                } else {
                    if (verInfo.version_type==1){
                        $("#id-check-update-icon").addClass("icon-update-reddot");
                        $("#id-check-update-icon").removeClass("icon-update-new");

                    }else{
                        var obj=$('.version_log').text(verInfo.verLog)
                        obj.html(obj.html().replace(/\n/g,'<br/>'));
                        $(".switchaccount").attr('href', verInfo.verUrl)

                        setLocalItem('have_update', true)
                        toggleAlertBox($("#have_update"), e);
                    }

                }

            },
        });
    }

    function notifyUserClose(box) {

        if (box && box[0]) {
            popupcontroller(box[0].id)
            console.log('notifyUserClose: ',box[0].id)

            $.ajax({
                method: "POST",
                url: "ui_notify/box_close",
                data: JSON.stringify({"ui_box_class": box[0].className, "ui_box_id": box[0].id}),
                contentType: "application/json; charset=utf-8",
                success: function(data) {
                }
            });
        }
    }

    function switchbtn_beforeoption(){

        var isVIP= false 
        var isEVIP =  false 
        var isNeedBind= true 


        if ((isVIP || isEVIP) && isNeedBind){
            toggleAlertBox($("#tip-nonfree-signin-confirmed"));
        }else{
            switchbtn();
        }
    }

    function switchbtn() {

        document.getElementById("signin-form-phone").reset();
        document.getElementById("signin-form-mail").reset();

        document.getElementById('signin-form-err-login').style.display='none'
        document.getElementById('signin-form-err').style.display='none'

        
        clearTimeout(verifymailcode_timer)
        verifymailcode_timer=null
        $('#get-verify-code-mail-login').text("获取验证码");
        $('#get-verify-code-mail-login').attr("disabled", false);
        document.getElementById('id-verify-code').style.textIndent = "30px";

        
        clearTimeout(verifycode_timer)

        $('#get-verify-code-3').text("获取验证码");
        $('#get-verify-code-3').attr("disabled", false);

        document.getElementById('id-signin-verifycode').style.textIndent='31px'

        document.getElementById('id-switch-pwd-btn').style.display='block'
        e = getEvent()
        toggleAlertBox($("#login"), e)
    }
    function login_mail_btn() {
        document.getElementById("signin-form-phone").reset();
        document.getElementById('signin-form-err').style.display='none'

        clearTimeout(verifycode_timer)
        verifycode_timer=null
        $('#get-verify-code-3').text("获取验证码");
        $('#get-verify-code-3').attr("disabled", false);

        document.getElementById('id-signin-verifycode').style.textIndent='31px'
        showMailLoginView();
    }
    function forget_account_btn(){
        toggleAlertBox($("#forget-pwd"),e);
    }


    function copy_btn(info) {
        var oInput = document.createElement('input');
        oInput.value = info;
        document.body.appendChild(oInput);
        oInput.select(); 
        document.execCommand("Copy"); 
        oInput.className = 'oInput';
        oInput.style.display='none';

          

    }

    function disable_btn() {
        $("#pro-package").hide();
        $('#first-wrap').hide();
        $("#closeMsg>div").hide();
    }
    function signout_btn() {
        var e = getEvent()
        toggleAlertBox($("#signout_confirm"), e)
    }
    function login_phone_btn() {
        document.getElementById("signin-form-mail").reset();
        document.getElementById('signin-form-err-login').style.display='none'

        clearTimeout(verifymailcode_timer)
        verifymailcode_timer=null

        $('#get-verify-code-mail-login').text("获取验证码");
        $('#get-verify-code-mail-login').attr("disabled", false);

        document.getElementById('id-verify-code').style.textIndent = "30px";
        showPhoneLoginView();
    }

    function show_bind_view() {
        document.getElementById("signup-mail-form").reset();
        document.getElementById('signup-mail-form-err-signup').style.display='none'

        $('#get-verify-code-mail-signup').text("获取验证码");
        $('#get-verify-code-mail-signup').attr("disabled", false);
        document.getElementById('id-verifycode-signup').style.textIndent = "30px";
        clearTimeout(verifymailcode_timer)
        verifymailcode_timer= null

        var e = getEvent()
        toggleAlertBox($("#bind_account"), e)
    }

    function show_bind_view_mask() {
        var e = getEvent()
        toggleAlertBox($("#bind_account-mask"), e)
    }

    var curUserInfo = "";

    function logout_all_device(errMsg) {
        $.ajax({
            method: "POST",
            url: "device/all/logout",
            contentType: "application/json;charset=utf-8",
            data: curUserInfo,
            success: function(data) {
                if (data.code == 0) {
                    toggleAlertBox($("#logout-all-device-success"))
                } else {
                    Toast(data.msg, 2000);
                }
            }
        });
    }

    function signin(d, errMsg) {
        $.ajax({
            method: "POST",
            url: "account/switch",
            contentType: "application/json; charset=utf-8",
            data: d,
            success: function(data) {

                if (data.code == 0) {

                    location.reload();

                    clearRetainComponent()


                    setCookie('isvipretainend', null)
                    setCookie('isfreeretainend', null)

                    setCookie('vipPromorunningtmr',null)
                    setCookie('freePromorunningtmr', null)

                    setCookie('discount_free_trigger',null)

                    setLocalItem('freePromorunningtmr', null)
                    setLocalItem('vipTimerTimes', null)

                    setLocalItem('isFirstTimePromoGetPlan',null)
                    clearInterval(timeintervals_base);

                    updateRetainStatus(false,0)
                    updateRenewStatus(false,0)

                    refreshLines();


                } else if (data.code == -2) {
                    
                    curUserInfo = d;
                    toggleAlertBox($("#user-over-limit"));
                } else {
                    if (errMsg) {

                        errMsg.text(data.msg);
                        errMsg.show();
                    }

                }
            },
        });
    }

    function signin_after_tips() {
        $.ajax({
            method: "POST",
            url: "account/switch",
            contentType: "application/json; charset=utf-8",
            data: signin_form_post,
            success: function(data) {
                
                if (data.code == 0) {

                    location.reload();

                    clearRetainComponent()


                    setCookie('isvipretainend', null)
                    setCookie('isfreeretainend', null)

                    setCookie('vipPromorunningtmr',null)
                    setCookie('freePromorunningtmr', null)

                    setCookie('discount_free_trigger',null)

                    setLocalItem('freePromorunningtmr', null)
                    setLocalItem('vipTimerTimes', null)

                    setLocalItem('isFirstTimePromoGetPlan',null)
                    clearInterval(timeintervals_base);

                    updateRetainStatus(false,0)
                    updateRenewStatus(false,0)

                    refreshLines();


                } else if (data.code == -2) {
                    
                    curUserInfo = d;
                    toggleAlertBox($("#user-over-limit"));
                } else {
                    if (curErrMsg_global) {
                        
                        $("tip-nonfree-signin-confirmed").hide()

                        

                        Toast(data.msg, 2000);
                        switchbtn()
                    }

                }
            },
        });
    }

    function show_report_problem_view() {
        var e = getEvent()
        toggleAlertBox($("#report_problem_view"), e)
        getProblemType()
    }

    function close_box_btn() {
        stopSpeedTests=1
        clearInterval(timer)
        $('#first-wrap').hide();
        $("#closeMsg>div").hide();
    }

    function close_box_btn_2() {
        $('#second-wrap').hide();
        $("#closeMsg-2>div").hide();
        notifyUserClose(LastToggleAlertBox2);
        LastToggleAlertBox2 = null;
    }

    function closeMsg0(e) {
        e = getEvent();
        clearInterval(timer);
        if (e.target == $('#closeMsg0')[0]) {
            if ($("#closeMsg0>div:visible .close-box-btn").hasClass("dont_close")) {
                return
            }
            console.log($("#closeMsg0>div:visible .close-box-btn"));
            $('#zero-wrap').hide();
            $("#closeMsg0>div").hide();
            notifyUserClose(LastToggleAlertBox0);
            LastToggleAlertBox0 = null;
        }
    }


    function closeMsg(e) {
        e = getEvent()
        clearInterval(timer)
        if(e.target == $('#closeMsg')[0]) {
            if ($("#closeMsg>div:visible").children(".close-box-btn").hasClass("close_waiting_downcount")) {
                return
            }
            $('#first-wrap').hide();
            $("#closeMsg>div").hide();
            notifyUserClose(LastToggleAlertBox);
            LastToggleAlertBox = null;
        }
    }



    function closeMsgSix(e) {
        e = getEvent()
        
        clearInterval(timer)
        if(e.target == $('#closeMsgSix')[0]) {
            if ($("#closeMsgSix>div:visible").children(".close-box-btn").hasClass("close_waiting_downcount")) {
                return
            }
            $('#six-wrap').hide();
            $("#closeMsgSix>div").hide();
            notifyUserClose(LastToggleAlertBox06);
            LastToggleAlertBox06 = null;
        }
    }

    function closeMsgSeven(e) {

        if (e){
            $('#seven-wrap').hide();
            $("#closeMsgSeven>div").hide();
            notifyUserClose(LastToggleAlertBox07);
            LastToggleAlertBox07 = null;
        }


        
        
        

    }

    function closeMsg2(e) {
        e = getEvent()
        clearInterval(timer)
        if(e.target == $('#closeMsg-2')[0]) {
            $('#second-wrap').hide();
            $("#closeMsg-2>div").hide();
            notifyUserClose(LastToggleAlertBox2);
            LastToggleAlertBox2 = null;
        }
    }

    function closeMsg3() {
        e = getEvent()
        clearInterval(timer)
        if(e.target == $('#closeMsg-3')[0]) {
            $('#third-wrap').hide();
            $("#closeMsg-3>div").hide();
        }
    }

    function closeMsgSysTime() {
        e = getEvent()
        if (e.target == $('#closeMsg-systime-tip')[0]) {
            $('#systime-wrap').hide();
            $("#closeMsg-systime-tip>div").hide();
            notifyUserClose($("#systime-pane"))
        }
    }

    function closeMsg4() {
        e = getEvent()
        clearInterval(timer)
        if(e.target == $('#closeMsg-4')[0]) {
            $('#fourth-wrap').hide();
            $("#closeMsg-4>div").hide();
            notifyUserClose(LastToggleAlertBox4);
            LastToggleAlertBox4 = null;
        }
    }

    function closeMsg4Free() {
        e = getEvent()
        clearInterval(timer)
        if(e.target == $('#closeMsg-4')[0]) {
            $('#fourth-wrap-free').hide();
            $("#closeMsg-4>div").hide();
            notifyUserClose(LastToggleAlertBox4);
            LastToggleAlertBox4 = null;
        }
    }

    function closeMsg5() {
        e = getEvent();
        if (e.target == $('#closeMsg-5')[0]) {
            $('#five-wrap').hide();
            $("#closeMsg-5>div").hide();
            notifyUserClose(LastToggleAlertBox5);
            LastToggleAlertBox5 = null;
        }
    }

    function closeMsg6() {
        e = getEvent();
        if (e.target == $('#closeMsg-6')[0]) {
            $('#sixth-wrap-wrap').hide();
            $("#closeMsg-6>div").hide();
            notifyUserClose(LastToggleAlertBox6);
            LastToggleAlertBox6 = null;
        }
    }
    function closeMsgLine() {
        e = getEvent();
        if (e.target == $('#closeMsg-line')[0]) {
            $('#line-wrap').hide();
            $("#closeMsg-line>div").hide();
            notifyUserClose(LastToggleLineListAlertBox);
            LastToggleLineListAlertBox = null;
        }
    }

    function close_box_btn_0(btn) {
        if (btn && btn.hasClass("dont_close")) {
            return;
        }
        clearInterval(timer);
        $('#zero-wrap').hide();
        $("#closeMsg0>div").hide();
        notifyUserClose(LastToggleAlertBox0);
        LastToggleAlertBox0 = null;
    }

    $(function() {
        var isVip = false;
        if (window.zE) {
            timer = setInterval(function(){
                if(window.zE.setLocale){
                    
                    clearInterval(timer)
                }
            }, 1000)
        }

        getDiviceList();

        
        
        

        

        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        

        $("#freetopro").click(function(){
            
            getPlans();
            toggleAlertBox($("#update"));
            
        })

        $("#freetoepro").click(function(){
            
            show_membership_activity_view()
            
        })
        
        
        
        
        
        $(".switch-btn").on('click', function(e){
            toggleAlertBox($("#login"), e)
        })
        $(".bind-account-btn").on('click', function(e) {
            toggleAlertBox($("#bind_account"), e)
        })

        
        $("#invite_fd").on('click', function(e){
            toggleAlertBox($("#invite_box"), e);

            $.ajax({
                method: "POST",
                url: "client/action/share",
                contentType: "application/json;charset=utf-8",
                success: function(data) {}
            });
        })
        
        $("#check_update").on('click', function(e){
            verifyVersion(e);
        })

        
        $("#update_pro").on('click', function(e){
            e.preventDefault();
             

            window.location.href = "pricing2";

             

        })
        $(".upgrade-btn").on('click', function(e){
            getPlans()
            if (! true ) {
                toggleAlertBox($("#register"), e)
            } else {
                toggleAlertBox($("#update"), e);
            }
        });

        $(".renew-upgrade-btn").on("click", function (e) {
            $('#fourth-wrap').hide();
            $("#closeMsg-4>div").hide();
            notifyUserClose(LastToggleAlertBox4);
            LastToggleAlertBox4 = null;
        });

        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        

        $("#signup-mail-form").submit(function(e) {
            try {
                e.preventDefault();
                $.ajax({
                    method: "POST",
                    url: "account/signup",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify($(this).serializeObject()),
                    success: function(data) {
                        if (data.code == 0) {
                            updateRetainStatus(false,0)
                            updateRenewStatus(false,0)

                            refreshLines();
                            location.reload();
                        } else {
                            $("#signup-mail-form-err-signup").text(data.msg);
                            $("#signup-mail-form-err-signup").show();
                        }
                    },
                });
            } catch (err) {
                
            }

        });

        $("#signup-mail-form-mask").submit(function(e) {
            try {
                e.preventDefault();
                $.ajax({
                    method: "POST",
                    url: "account/signup",
                    contentType: "application/json; charset=utf-8",
                    data: JSON.stringify($(this).serializeObject()),
                    success: function(data) {
                        if (data.code == 0) {
                            updateRetainStatus(false,0)
                            updateRenewStatus(false,0)

                            refreshLines();
                            location.reload();
                        } else {
                            alert(data.msg)
                            $("#signup-mail-form-err-mask").text(data.msg);
                            $("#signup-mail-form-err-mask").show();
                        }
                    },
                });
            } catch (err) {
                
            }

        });


        $("#signup-mail-form-swap").submit(function(e) {

            swap_form_post=JSON.stringify($('#signup-mail-form-swap').serializeObject())

            
            document.getElementById('id-swap-tip-phone').innerHTML=document.getElementById('id-accountbox-desc').innerHTML;
            document.getElementById('id-swap-tip-mail').innerHTML=$('#signup-mail-form-swap').serializeObject().username;
            toggleAlertBox($("#tip-swap-bind-confirmed"));
            return false

            


        });

        $("#signup-phone-form").submit(function (e) {
            e.preventDefault();

            $.ajax({
                method: "POST",
                url: "account/signup/bindphone",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify($(this).serializeObject()),
                success : function(data) {

                    if (data.code == 0) {
                        location.reload();
                    } else {
                        $("#form-err-1").text(data.msg);
                        $("#form-err-1").show();
                    }
                }
            });
        });


        $(".signin-form").submit(function(e) {
            try {
                e.preventDefault();
                curUserInfo = "";
                var curErrMsg = $(this).find(".signin-err-mail")
                var switchData = JSON.stringify($(this).serializeObject())
                var formData=$(this).serializeObject()
                var isTunnelConnected=getLocalItem("tunnel_connected");
                if(isTunnelConnected!=null){
                    if(isTunnelConnected){
                        disconnect();
                        setLocalItem("before_switch_user_state",true)
                    }
                }
                tmpAccountBox=document.getElementById('id-accountbox-desc');
                console.log('curr account login username: '+ formData.username)
                if (formData.username==tmpAccountBox.innerHTML){
                    curErrMsg.text("您已经登录 "  + formData.username + "," + "不能重复登录" + "。");
                    curErrMsg.show();
                }else{
                    signin(switchData, curErrMsg);
                }
            } catch (err) {
                
            }

        });

        $("#forget-mail-form").submit(function(e) {
            e.preventDefault();

            var f = $(this);
            $.ajax({
                method: "POST",
                url: "account/password/forget",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(f.serializeObject()),
                success: function(data) {
                    if (data.code == 0) {
                        f.find("#forget-mail-form-err").hide();
                        alert('重置密码链接已发送到邮箱，请登录邮箱后按提示操作');
                    } else {
                        f.find("#forget-mail-form-err").text(data.msg);
                        f.find("#forget-mail-form-err").show();
                    }
                },
            });
        });
        $("#forget-phone-form").submit(function (e) {
            e.preventDefault();

            var f = $(this)
            $.ajax({
                method: "POST",
                url : "account/password/forget/phone",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify(f.serializeObject()),
                success: function (data) {
                    if (data.code == 0){
                        $("#first-wrap").hide()
                        alert('密码已经重置');
                    } else {
                        f.find("#form-err-2").text(data.msg);
                        f.find("#form-err-2").show();
                    }
                }
            })
        })

        $("#reset-form").submit(function (e) {
            e.preventDefault();

            $.ajax({
                method: "POST",
                url: "account/password/reset",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify($(this).serializeObject()),
                success: function(data) {
                    if (data.code == 0) {
                        $("#first-wrap").hide()
                        $(".login-box").hide()
                        document.getElementById('id-oldpasswd').value=""
                        document.getElementById('id-newpasswd').value=""
                        $('#reset-form-err').text('')
                        alert('密码已经重置');
                    } else {
                        $("#reset-form-err").text(data.msg);
                        $("#reset-form-err").show();
                    }
                },
            });
        })
    })

    var signin_form_post
    var curErrMsg_global
    var swap_form_post
    function signup_swap_post(){
        
        try {

            
            $.ajax({
                method: "POST",
                url: "account/signup",
                contentType: "application/json; charset=utf-8",
                data: swap_form_post,
                success: function(data) {
                    console.log(data.code)
                    if (data.code == 0) {

                        updateRetainStatus(false,0)
                        updateRenewStatus(false,0)

                        refreshLines();
                        location.reload();
                    } else {
                        Toast(data.msg, 400);
                        $("#signup-mail-form-err-swap").css('color', 'red');
                        $("#signup-mail-form-err-swap").text(data.msg);
                        $("#signup-mail-form-err-swap").show();
                    }
                },
                error: function (jqXhr, textStatus, errorMessage) { 
                    console.log(errorMessage)
                },
            });
        } catch (err) {
            
        }
    }

    
    function showMailLoginView() {
        $("#login-mail-div").show();
        $("#login_mail_btn").addClass("active");
        $("#login_phone_btn").removeClass("active");
        $("#login-phone-div").hide();
    }
    
    function showPhoneLoginView() {
        $("#login-phone-div").show();
        $("#login_phone_btn").addClass("active");
        $("#login_mail_btn").removeClass("active");
        $("#login-mail-div").hide();
    }
    
    function showMailForgetPwdView() {
        $("#forget-mail-pwd").show();
        $("#forget-pwd-mail-btn").addClass("active");
        $("#forget-pwd-phone-btn").removeClass("active");
        $("#forget-phone-pwd").hide();
    }
    
    function showPhoneForgetPwdView() {
        $("#forget-phone-pwd").show();
        $("#forget-pwd-phone-btn").addClass("active");
        $("#forget-pwd-mail-btn").removeClass("active");
        $("#forget-mail-pwd").hide();
    }

    
    function showMailBindView() {
        $("#bind_phone").hide();
        $("#bind_phone_account_btn").removeClass("active");
        $("#bind_mail_account_btn").addClass("active");
        $("#bind_mail").show();
    }
    
    function showPhoneBindView() {
        $("#bind_phone").show();
        $("#bind_phone_account_btn").addClass("active");
        $("#bind_mail_account_btn").removeClass("active");
        $("#bind_mail").hide();
    }

    
    function showPaidNotificationView() {

         



        toggleAlertBox07($("#paid_notification"));
    }

    function getPlans(promo_code_name) {
        var plans = {};
        var selectedPlan = null;
        var lastPurchaseTimestamp = 0;
        var hotstr_template = '<span class="recommend" style="background-image: url(\'.\/static\/sb\/dist\/img\/icon\/icon_hot_zh.png\')"></span>'
        var promo_code_name
        
        if (promo_code_name==""){
            promo_code_name=""
        }
        $.ajax({
            url: "payment/plan",
            type: "POST",
            data: JSON.stringify({"promo_code_name" : promo_code_name}),
            success: function(data) {
                var all = JSON.parse(data);

                setLocalItem('preload_plan',all)

            },
        });
    }

    function popUpNotices() {

        $.ajax({
            method: "GET",
            url: "notices/need_popup",
            success: function (data) {
                if (data.code == 0) {
                    if (data.data.need_popup) {
                        e = getEvent();
                        e.preventDefault();
                        $(".notice-pane-content").empty();
                        setNoticesData(data.data.notices);
                        setLocalItem('preload_notice',data.data.notices)
                        toggleAlertBox2($("#notice-pane"),e)
                    }
                } else {
                    setTimeout(function () {
                        popUpNotices();
                    }, 5000);
                }
            }
        })
    }

    function setNoticesData(data) {
        if (data.length <= 0) {
            var EmptyTips = '<div class="sub-notice">\n' +
                '<div class="sub-notice-title">\n' +
                '<span class="sub-notice-title-type">暂无公告</span>\n' +
                '<span class="sub-notice-title-date"></span>\n' +
                '</div>\n' +
                '<div class="sub-notice-content">\n' +
                '</div>\n' +
                '</div>';
            $(".notice-pane-content").append(EmptyTips);
            return
        }

        for (var i in data) {
            var notice = data[i];
            var link = '';
            if (notice.link.length > 0) {
                link = ' onclick="window.open(\'' + notice.link + '\')" ';
            }

            var notice_html = '<div class="sub-notice"' + link +'>' +
                '<div class="sub-notice-title">' +
                '<span class="sub-notice-title-type">' + notice.title + '</span>' +
                '<span class="sub-notice-title-date">' + notice.date + '</span>' +
                '</div>' +
                '<div class="sub-notice-content">' + notice.content + '</div>';

            if (notice.link.length > 0) {
                notice_html += '<div class="sub-notice-button-container">' +
                    '<a class="sub-notice-button" target="_blank" href="' + notice.link + '">查看</a>'
                    + '</div>';
            }
            notice_html += '</div>';
            $(".notice-pane-content").append(notice_html)
        }
    }

    function getNotices() {
        $(".notice-pane-content").empty();

        if (getLocalItem('preload_notice')!=null){
            setNoticesData(getLocalItem('preload_notice'))
        }else{
            preload_notice();
        }
        

    }

    function preload_notice(){

        $.ajax({
            method: "GET",
            url: "notices",
            success: function(data) {
                if (data.code == 0) {
                    $(".notice-pane-content").empty();
                    setNoticesData(data.data);
                    setLocalItem('preload_notice',data.data)
                }
            },
        });
    }

    
    function getProblemType() {
        $.ajax({
            method: "GET",
            url: "problem/types",
            success: function (data) {
                if (data.code == 0) {
                    if (data.data) {
                        
                        
                        
                        
                        setProblemType(data.data);
                        
                        
                    }
                } else if (data.code == 7000) {
                    Toast("您当前的网络不可用或太差，请检查您的网络再重试", 3000);
                } else {
                    
                    setTimeout(function() {
                        getProblemType()
                    }, 1000);
                }
            }
        })
    }
    
    function setProblemType(data) {
        if (data.length <= 0) {
            $("#problem_type").innerHTML = "";
            return
        }
        var problemHTML = ''
        for (var i in data) {
            var problemType = data[i];
            var problemTypehtml = '<option value="' + problemType.replace(/\"/g, "&quot;") +'">' + problemType + "</option>";
            problemHTML += problemTypehtml;
        }
        $("#problem_type")[0].innerHTML = problemHTML;
    }

    var LastToggleAlertBox2;

    function toggleAlertBox2(boxId, e) {
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        $("#closeMsg-2>div").hide();
        $("#second-wrap").show();
        boxId.show();
        LastToggleAlertBox2 = boxId;
    }

    var LastToggleAlertBox5;

    function toggleAlertBox5(boxId, e) {
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        $("#closeMsg-5>div").hide();
        $("#five-wrap").show();
        boxId.show();
        LastToggleAlertBox5 = boxId;
    }

    var LastToggleAlertBox6;

    function toggleAlertBox6(boxId, e) {
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        $("#closeMsg-6>div").hide();
        $("#sixth-wrap").show();
        boxId.show();
        LastToggleAlertBox6 = boxId;
    }

    function showSplash() {
        e = getEvent();
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        

    }
    function hideSplash() {
        $("#splash-wrap").hide();
        $("#splash").hide();
    }
    function showSplashStatus() {
        e = getEvent();
        if (e && e.preventDefault) {
            e.preventDefault();
        }

        

    }

    function hideSplashStatus() {
        

    }
    function showSplashConnect() {
        e = getEvent();
        if (e && e.preventDefault) {
            e.preventDefault();
        }

        $("#splash-wrap-connects").show();
        $("#splash-connects").show();
    }
    function hideSplashConnect() {
        $("#splash-wrap-connects").hide();
        $("#splash-connects").hide();
    }

    function showSystimeError() {
        e = getEvent();
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        $("#systime-wrap").show();
        $("#systime-pane").show();
    }
    function hideSystimeError() {
        $('#systime-wrap').hide();
        $("#closeMsg-systime-tip>div").hide();
    }
    var LastToggleAlertBox4;

    function toggleAlertBox4(boxId, e) {
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        $("#closeMsg-4>div").hide();
        $("#fourth-wrap").show();
        boxId.show();
        LastToggleAlertBox4 = boxId;
    }

    function toggleAlertBoxFreeUserPrompt(boxId, e) {
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        $("#closeMsg-4>div").hide();
        $("#fourth-wrap-free").show();
        boxId.show();
        LastToggleAlertBox4 = boxId;
    }

    function toggleAlertBoxAppShortcutPrompt(boxId, e) {
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        $("#closeMsg-4>div").hide();
        $("#fourth-wrap-appshortcut").show();
        boxId.show();
        LastToggleAlertBox4 = boxId;
    }

    function toggleAlertBox3(boxId, e) {
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        document.querySelector("#closeMsg-3>div").style["display"] = "none";
        document.querySelector("#third-wrap").style["display"] = "block";
        document.querySelector(boxId).style["display"] = "block";
        $("#closeMsg-3>div").hide();
        $("#third-wrap").show();
        $(boxId).show();
    }
    var LastToggleAlertBox0;
    function toggleAlertBox0(boxId,e) {
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        $("#closeMsg0>div").hide();
        $("#zero-wrap").show();
        boxId.show();
        LastToggleAlertBox0 = boxId;
    }
    var LastToggleAlertBox;
    function toggleAlertBox(boxId, e) {
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        $("#closeMsg>div").hide();
        $("#first-wrap").show();
        boxId.show();
        LastToggleAlertBox = boxId;
    }

    var LastToggleAlertBox06;
    function toggleAlertBox06(boxId, e) {
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        $("#closeMsgSix>div").hide();
        $("#six-wrap").show();
        boxId.show();
        LastToggleAlertBox06 = boxId;
    }

    var LastToggleAlertBox07;
    function toggleAlertBox07(boxId, e) {
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        $("#closeMsgSeven>div").hide();
        $("#seven-wrap").show();
        boxId.show();
        LastToggleAlertBox07 = boxId;
    }

    function toggleAlertBoxPromoModal(boxId, e) {
        if (e && e.preventDefault) {
            e.preventDefault();
        }
        $("#id-promomodal-closemask>div").hide();
        $("#id-promoModal").show();
        boxId.show();
    }


    function setLocalItem (name, val) {
        
        if (typeof val === 'object' || Array.isArray(val)) {
            val = JSON.stringify(val)
        }
        localStorage.setItem(name, val)
    }
    function getLocalItem (name) {
        var val = localStorage.getItem(name);
        try {
            return JSON.parse(val)
        } catch (e) {
            return val
        }
    }

    

    $(".number-control").on("keydown", function (event) {
        var eventCode = event.which ? event.which : window.event.keyCode;
        var isShiftPressed = (event.shiftKey == 1);

        var maxlength = this.getAttribute("maxlength");
        var curlength = this.value.length;


        if (eventCode == 8 
            || eventCode == 46 
            || eventCode == 37 || eventCode == 39 
        ) {
            return true;
        }
        if ((eventCode >= 48 && eventCode <= 57 && !isShiftPressed) || (eventCode >= 96 && eventCode <= 105) 
        ) {
            if (!maxlength || maxlength && curlength < maxlength) {
                return true;
            }
        }
        return false;
    });

    $(function() {
        $("#side-menu").metisMenu();
    }),
        $(function() {
            $(window).bind("load resize", function() {
                var i = 50,
                    n = this.window.innerWidth > 0
                        ? this.window.innerWidth
                        : this.screen.width;
                n < 768
                    ? ($("div.navbar-collapse").addClass("collapse"), (i = 100))
                    : $("div.navbar-collapse").removeClass("collapse");
                var e =
                    (this.window.innerHeight > 0
                        ? this.window.innerHeight
                        : this.screen.height) - 1;
                (e -= i),
                e < 1 && (e = 1),
                e > i && $("#page-wrapper").css("min-height", e + "px");
            });
            for (var i = window.location, n = $("ul.nav a").filter(function() {return this.href == i;}).addClass("active").parent(); ; ) {
                if (!n.is("li")) break;
                n = n
                    .parent()
                    .addClass("in")
                    .parent();
            }
        });

    var checklinesTimerId = setTimeout(getLines, 1000);

    
    var activityID = "";
    function show_membership_activity_view() {
        var e = getEvent()

        showSplashStatus();
        document.getElementById("membership_activity_view").style.visibility = "hidden";
        

        
        
        if (getLocalItem('activity_main_content')!=null){

            var data=getLocalItem('activity_main_content')
            hideSplashStatus();

            activityID = data.activity_id.toString();
            check_ip_location = data.check_ip_location;
            displayText_FreeToVip1	= data.displayText_FreeToVip1;
            displayText_FreeToVip2	= data.displayText_FreeToVip2;
            displayText_FreeToVip3	= data.displayText_FreeToVip3;
            is_activity_exp			= data.is_activity_exp;
            user_ref_code			= data.user_ref_code;
            user_num_share		    = data.user_num_share;
            displayText_reward		= data.displayText_reward;
            displayText_exp			= data.displayText_exp;
            if(is_activity_exp == 0){
                
                $("#getFreeToVIPText1").text(displayText_FreeToVip1);
                $("#getFreeToVIPText2").text(displayText_FreeToVip2);
                $("#getFreeToVIPText3").text(displayText_FreeToVip3);
                 
                $("#getActivityExpText").hide();
                $("#invite-tip-container").show()
                $("#activity-text1").show()
                $("#invite_tip").show()
                
                $('#btn-show-reward-rules').show();
                $("#activity-text2").hide()
            }else
            {
                
                $("#invite-tip-container").hide()
                $("#activity-text1").hide()
                $("#invite_tip").hide()
                
                $('#btn-show-reward-rules').hide();
                $("#activity-text2").show()
            }
             

            $("#total-invited-count").text(user_num_share);
            $("#total-free-reward").text(displayText_reward);
            document.getElementById("membership_activity_view").style.visibility = "visible";

            if(getLocalItem('activity_main_rule3')!=null){
                document.getElementById('id-floatactivity-rule3').innerHTML=getLocalItem('activity_main_rule3')
            }

        }else{
            $.ajax({
                url: 'activity/page',
                type: 'POST',
                contentType: "application/json; charset=utf-8",
                timeout: 5000,
                async: true,
                success: function(data) {
                    
                    if(data != null){
                        setLocalItem('activity_main_content',data.data)
                        hideSplashStatus();
                        activityID = data.data.activity_id.toString();
                        check_ip_location = data.data.check_ip_location;
                        displayText_FreeToVip1	= data.data.displayText_FreeToVip1;
                        displayText_FreeToVip2	= data.data.displayText_FreeToVip2;
                        displayText_FreeToVip3	= data.data.displayText_FreeToVip3;
                        is_activity_exp			= data.data.is_activity_exp;
                        user_ref_code			= data.data.user_ref_code;
                        user_num_share		    = data.data.user_num_share;
                        displayText_reward		= data.data.displayText_reward;
                        displayText_exp			= data.data.displayText_exp;
                        if(is_activity_exp == 0){
                            
                            $("#getFreeToVIPText1").text(displayText_FreeToVip1);
                            $("#getFreeToVIPText2").text(displayText_FreeToVip2);
                            $("#getFreeToVIPText3").text(displayText_FreeToVip3);
                             
                            $("#getActivityExpText").hide();
                            $("#invite-tip-container").show()
                            $("#activity-text1").show()
                            $("#invite_tip").show()
                            
                            $('#btn-show-reward-rules').show();
                            $("#activity-text2").hide()
                        }else
                        {
                            
                            $("#invite-tip-container").hide()
                            $("#activity-text1").hide()
                            $("#invite_tip").hide()
                            
                            $('#btn-show-reward-rules').hide();
                            $("#activity-text2").show()
                        }
                         

                        $("#total-invited-count").text(user_num_share);
                        $("#total-free-reward").text(displayText_reward);
                        document.getElementById("membership_activity_view").style.visibility = "visible";
                        

                        var tmpRule3="分享0个好友，您即可获得"
                        if (tmpRule3!=null){
                            setLocalItem('activity_main_rule3',tmpRule3)
                        }
                    }else{
                        Toast("服务器请求失败，请您重新尝试", 2000);
                        hideSplashStatus();
                    }
                },
                error: function (jqXHR, textStatus, errorThrown) {
                    Toast("服务器请求失败，请您重新尝试", 2000);
                    hideSplashStatus();
                }
            });
        }


        
        toggleAlertBox($("#membership_activity_view"), e)
        
    }

    function preload_ActivityPage(){
        $.ajax({
            url: 'activity/page',
            type: 'POST',
            contentType: "application/json; charset=utf-8",
            timeout: 5000,
            async: true,
            success: function(data) {

                if(data != null){
                    setLocalItem('activity_main_content',data.data)

                    
                    var tmpRule3="分享0个好友，您即可获得"
                    if (tmpRule3!=null){
                        setLocalItem('activity_main_rule3',tmpRule3)
                    }
                }
            },
            error: function (jqXHR, textStatus, errorThrown) {

            }
        });
    }

    
    function show_membership_list_view() {
        var e = getEvent()
        toggleAlertBox($("#membership_refer_list_view"), e)
    }

    function show_pop_up_key_in_refcode(){
        document.getElementById("txtBindRefCode").value="";
        var e = getEvent()
        if (e && e.preventDefault) {
            e.preventDefault();
        }

        toggleAlertBox($("#invitecode-pane"), e)
        
    }

    function show_fission_reminder_view() {
        $("#invitecode-pane").hide()
        
        var e = getEvent()
        toggleAlertBox($("#fission_reminder"), e)
    }

    function show_reward_rule_view() {
        var e = getEvent()
        toggleAlertBox($("#activity-rule-pane"), e)
        getActivityRewardListPage()
    }

    function show_no_refer_view() {
        var e = getEvent()
        toggleAlertBox($("#membership_activity_view"), e)
    }

    function close_fission_reminder_view(type){
        
        if(type==1){
            $("#fission_reminder").hide()
            var e = getEvent()
            toggleAlertBox($("#invitecode-pane"), e)
        }else{
            $("#fission_reminder").hide()
            close_box_btn()
        }
    }

    function setRefCode(refCode) {
        if (refCode != ""){

            
            $.ajax({
                method: "POST",
                url: "user/bindRefCode",
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify({"refCode" : refCode}),
                success: function(data) {
                    if (data.code == 0) {
                        if (data.msg) {
                             

                             
                             

                            
                            setLocalItem("isEvipOpenActivity",true)

                            $("#invitecode-pane").hide();
                            var e = getEvent();
                            toggleAlertBox($("#invitation-success-modal"), e);
                            

                        }
                    } else {
                        if (data.msg) {
                             
                            Toast(data.msg)
                        }
                    }
                },
            });
        }
        else{
            

            Toast("不绑定空號", 2000);

        }
    }

    
    function getActivityInfoPage(){
        $.ajax({
            method: "POST",
            url: "activity/page",
            contentType: "application/json; charset=utf-8",
            success: function(data) {
                if (data.code == 0) {
                    
                    
                    
                    
                } else {
                    if (data.msg) {
                        alert(data.msg)
                    }
                }
            },
        });
    }

    function handler(key){
        return function(a,b){
            var c=a[key];
            var d=b[key];
            if(c>d){
                return -1;
            }else if(c<d) {
                return 1;
            } else {
                return 0;
            }
        }
    }

    function getActivityReferListPage(){
        $.ajax({
            method: "POST",
            url: "activity/sharelist",
            contentType: "application/json; charset=utf-8",
            success: function(data) {
                if (data.code == 0) {
                    if (data.data.list.length > 0) {
                        $("#invited-list").find('li').remove()
                        $("#membership_refer_list_view").show()
                        $("#membership_activity_view").hide()

                        data.data.list.sort(handler("obtain_at"))
                        console.log(data.data.list)

                        for (i = 0; i < data.data.list.length; i++) {
                            var icon = ""
                            if (data.data.list[i].register_os == "windows") {
                                 
                                icon = "./static/sb/dist/img/icon/win.svg"
                            } else if (data.data.list[i].register_os == "android") {
                                 
                                icon = "./static/sb/dist/img/icon/android.svg"
                            } else { 
                                 
                                icon = "./static/sb/dist/img/icon/ios.svg"
                            }
                            
                            var d = new Date(data.data.list[i].obtain_at);
                             


                            var time1 = d.toLocaleDateString();
                            var time2 =d.toLocaleTimeString('en-US', { hour: 'numeric', minute: 'numeric',second:'numeric', hour12: false });
                            

                            $("#invited-list").append("" +
                                "<li>" +
                                "<div class=\"record-date1\">\n" +
                                 
                                "<img src=" +icon+ ">"+
                                "<h3><span>" + data.data.list[i].username + "</span></h3>" +
                                "</div>" +
                                "<div class=\"record-date2\">" +
                                "<h3>" + time1+ "<br>" +
                                "<small>" + time2 + "</small> </h3>" +
                                "</div>" +
                                "</li>")
                        }
                    } else { 
                        $("#membership_no_refer_list_view").show()
                        $("#membership_activity_view").hide()
                    }
                    
                    
                    
                } else {
                    if (data.msg) {
                        alert(data.msg)
                    }
                }
            },
        });
    }

    function getActivityRewardListPage(){
        $.ajax({
            method: "POST",
            url: "activity/rewardlist",
            contentType: "application/json; charset=utf-8",
            success: function(data) {

                if (data.code == 0) {
                    if(data.data.rewards.length>0){
                        $("#reward-rule-table").find("tr:gt(0)").remove();
                    }
                    
                    if(data.data.rewards.length>0){
                        var rewardDay = ""

                        if(counter+data.data.e_vip_reward_day==data.data.e_vip_lifetime_setting){
                            rewardDay = "永久"
                        }else if(counter+data.data.e_vip_reward_day>=365) {
                            rewardDay =Math.round(((data.data.e_vip_reward_day) / 365))+ "年"
                        }else
                        {
                            rewardDay = data.data.e_vip_reward_day + "天"
                        }

                        
  
   


                    }
                    var counter=0
                    for (i = 0; i < data.data.rewards.length; i++) {
                        var rewardDay = ""
                        if(counter+data.data.rewards[i].rule_reward_day>=data.data.e_vip_lifetime_setting){
                            rewardDay = "永久"

                        }else if(counter+data.data.rewards[i].rule_reward_day>=365) {
                            rewardDay =Math.round(((counter+data.data.rewards[i].rule_reward_day) / 365) )+ "年"
                        }else
                        {
                            counter+=data.data.rewards[i].rule_reward_day
                            rewardDay = counter + "天"
                        }

                        
                        $("#reward-rule-table").find('thead').append("" +
                            "<tr>\n"+
                            "<td><img src=\"./static/sb/dist/img/icon/ic_invi_pax.svg\"><sup style='vertical-align: text-bottom'> "+data.data.rewards[i].rule_num_share+ "人" + " </sup></td>"+
                            "<td><span> "+rewardDay+"</span></td>"+
                              
                            "</tr>");
                    }
                } else {
                    if (data.msg) {
                        alert(data.msg)
                    }
                }
            },
        });
    }

    function getActivitySharedContent(){
        showSplashStatus();

        
        

        let dom = $("#share-content-btn");
        setBtnDisable(dom, dom.text())
        if (getLocalItem('activity_url')!=null){
            if(getLocalItem('activity_url')=="-1"){
                Toast("还未上载推广链接和兑换码!", 2000);
                hideSplashStatus();
            }else if(getLocalItem('activity_url')=="-2"){
                Toast("服务器请求失败，请您重新尝试", 2000);
                hideSplashStatus();
            }else{
                copy_btn(getLocalItem('activity_url'))
                Toast("复制完成，可以发给好友了", 2000);
                hideSplashStatus();
            }
        }
        





    }

    function preload_ActivityShareContent(){
        $.ajax({
            method: "POST",
            url: "activity/sharecontent",
            contentType: "application/json; charset=utf-8",
            timeout: 10000,
            async: true,
            success: function(data) {

                if(data.code==0){

                    setLocalItem('activity_url',data.data)
                    var isHttpUrl=data.data.includes("http")

                    if(isHttpUrl){
                        var str=data.data.split("http")
                        str="http"+str[1];

                        setLocalItem('activity_url_domain',str)

                        var qrcode = new QRCode(document.getElementById("id-activity-qrcode"), {
                            text: str,
                            logo: "./static/sb/dist/img/icon/logo-qr.png",
                            logoWidth: undefined,
                            logoHeight: undefined,
                            logoBackgroundColor: '#ffffff',
                            logoBackgroundTransparent: false

                        });
                        var qrcode = new QRCode(document.getElementById("id-activity-qrcode-download"), {
                            text: str,
                            logo: "./static/sb/dist/img/icon/logo-qr.png",
                            logoWidth: undefined,
                            logoHeight: undefined,
                            logoBackgroundColor: '#ffffff',
                            logoBackgroundTransparent: false,


                        });

                        preload_ActivityShare_URl();

                    }


                    


                }
                else if (data.code==-1){

                    setLocalItem('activity_url',"-1")
                     

                }
                else{
                    setLocalItem('activity_url',"-2")
                     

                }
            },
            error: function(xhr, status){

                setLocalItem('activity_url',"-2")
                 

            }
        });
    }

    var disableDuration = 10
    function setBtnDisable(dom, originContent){
        if (disableDuration == 0) {
            dom.removeAttr("disabled");
            dom.attr("disabled",false);
            dom.text(originContent);
            dom.removeClass("btn-cta-disable")
            dom.removeClass("btn-primary-default")
            dom.addClass("btn-primary")
            dom.addClass("btn-cta")
            disableDuration = 10;
        } else {
            dom.attr("disabled","true");
            dom.attr("disabled",true);
            dom.attr("disabled","disabled");
            dom.text(originContent + "(" + disableDuration + ")");
            dom.removeClass("btn-cta")
            dom.removeClass("btn-primary")
            dom.addClass("btn-cta-disable")
            dom.addClass("btn-primary-default")
            disableDuration--;
            setTimeout(function() {
                setBtnDisable(dom, originContent)
            },1000)
        }
    }

</script>


    
    <script>
        var clientStatus = 9;
        var refreshTimer = null;
        var refreshInfoTimer = null;

        function checkProxyType(type){
            var proxy_all = parseInt(type)

            $.ajax({
                url: 'settings/options',
                type: 'POST',
                contentType: "application/json; charset=utf-8",
                data: JSON.stringify({ id: "proxy-all", state:proxy_all }),
                success: function () {
                    location.reload();
                }
            });
        }


        function mouseover_proxy_tips_connect(){
            document.getElementById('id-setting-proxy-tips-connect').style.display='block'
        }

        function mouseout_proxy_tips_connect(){
            document.getElementById('id-setting-proxy-tips-connect').style.display='none'
        }

        $( document ).ready(function() {
            var isProxyAll= false 

            if (isProxyAll){
                document.getElementById('id-radio-proxyall').checked = true;
                document.getElementById('id-radio-not-proxyall').checked = false;
            }else{
                document.getElementById('id-radio-proxyall').checked = false;
                document.getElementById('id-radio-not-proxyall').checked = true;
            }

            document.getElementById('free-version-welcome').style.display='none'

            document.getElementById('flag').style.display='none'

            var url      = window.location.href;
            if (url.includes("connect")){
                loadProTipDeviceLimit();

                if (getLocalItem('isTriggerTutorialOtrPage')!=null){
                    if (getLocalItem('isTriggerTutorialOtrPage')==true){
                        tutorialhandler(1)
                        setLocalItem('isTriggerTutorialOtrPage', null)
                    }
                }
            }



        })

        function reload_page(){
            location.reload();
        }

        $("#id-btnconnect-pricing2").on('click', function(e){
            e.preventDefault();

            window.location.href = "pricing2";

        })

       


        function loadFloatActivity(){
            if ( false ){
                if ( true ){
                    if( false ){
                        document.getElementById('activity-entry').style.display='block'
                    }
                }
            }
        }

        function loadProTipDeviceLimit(){
            document.getElementById('id-bindmail-devicelimit').innerHTML= 3 
        }

        refreshInfoTimer = setInterval(function(){
            changeStatus()
        }, 1000);

        function getParam(name){
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)");
            var result = window.location.search.substr(1).match(reg);
            if (result != null) {
                return decodeURIComponent(result[2]);
            } else {
                return null;
            }
        }
        function toggleAlertBox(boxId, e) {
            if (e) {
                e.preventDefault();
            }
            $("#closeMsg>div").hide();
            $("#first-wrap").show();
            boxId.show();
        }
        $(function () {
            $("#bind-pro-version").hide();
             
            $("#pro-version").hide();
            changeStatus();

            $(".update_btn").on('click', function(e){
                var paymentview_status = true 
                if (paymentview_status){
                    window.location.href = "pricing2";
                }

                


            })
            $(".bind_btn").on('click',function(e) {
                toggleAlertBox($("#bind_account"), e)
            })
            
            
            
            
        });
        if (getParam('refresh')>0) {
            var refresh = getParam('refresh');
            alert("付费状态确认可以需要1-2分钟，请稍后查看VPN的状态。")
            clearTimeout(refreshTimer);
            refreshTimer = setTimeout(function(){
                window.location = window.location.origin + window.location.pathname;
                clearTimeout(refreshTimer);
            }, refresh * 1000)
        }

        var tmpClientStatus=2;
        var counterFailedConnect=0;

        var isSpeedTestStatusOnce=true
        var isSpeedTestStatusOnceFailed=true


        
        function changeStatus() {

            getInfos();
            
            
            
            getUserName();

            
            $.ajax({
                method: "POST",
                url: "client/info",
                contentType: "application/json; charset=utf-8",
                success: function(data) {

                    if (data.data) {
                        clientStatus = data.data.clientStatus;
                        if (clientStatus == 2) {
                            return
                        }
                        
                        
                        
                        
                        connectedTime = data.data.connected_time;

                        statusStyle(clientStatus, connectedTime);
                        $('#flag').attr('class', 'flag-icon flag-icon-' + data.data.icon)
                        if (clientStatus == 1) {
                            $('#flag').show();
                            $('#country').text(data.data.location);
                            $('.speed').text(data.data.speed);
                            $('.connect_info').show();
                            setLocalItem("tunnel_connected", true);

                            
                            if(document.getElementById("speedtestModal").style.display=="flex"){
                                if (stopSpeedTests===1){
                                    if(isSpeedTestStatusOnce){
                                        $('#' + currentSpeedTestIndex).replaceWith(currentSpeedTestHtml);
                                        $('.id-current-connect-proxy').text(currentSpeedTestServerName)
                                        Toast("佛跳墙VPN已连接成功", 1000);

                                        isSpeedTestStatusOnce=false
                                    }
                                }
                            }


                        }else if(clientStatus == 0){
                            if(document.getElementById("speedtestModal").style.display=="flex"){
                                if (stopSpeedTests===1){

                                    Toast("连接中", 300);
                                }
                            }
                        } else if (clientStatus == -1) {

                            if (data.data.lastconnectproxy!=""){
                                $('#flag').attr('class', 'flag-icon flag-icon-' + data.data.lastconnectproxyicon)
                                $('#country').text(data.data.lastconnectproxy);
                                $('.connect_info').show()
                                $('#flag').show();
                            }else{
                                $('#country').text("");
                                

                            }
                            if(document.getElementById("speedtestModal").style.display=="flex"){
                                if (stopSpeedTests===1){
                                    if(isSpeedTestStatusOnceFailed ){
                                        Toast("佛跳墙VPN连接失敗", 300);
                                        isSpeedTestStatusOnceFailed=false
                                    }

                                }
                            }

                            setLocalItem("tunnel_connected", false);

                            
                        } else {
                            $('#flag').hide();
                            $('.connect_info').show();
                            setLocalItem("tunnel_connected", false);

                            
                        }
                    }
                    
                    
                    
                },
            });
        }

        function getUserName() {
            $.ajax({
                method: "POST",
                url: "account/username",
                contentType: "application/json; charset=utf-8",
                success: function(data) {
                    if (data.code == 0){
                        $("#account").text(data.username)
                    }
                },
            });
        }
        function getLocalItem (name) {
            var val = localStorage.getItem(name)
            try {
                return JSON.parse(val)
            } catch (e) {
                return val
            }
        }

        function statusStyle(clientStatus, connectedTime) {
            var status = {
                '0': {
                    text: '加载中',
                    tips_1 : '连接中',
                    tips_2 : '',
                    point_class: 'fail',
                    connect_box: 'connect-connectting',
                    connect_time_tip : '',
                    connect_time_str : '',
                    showedInfo : false,
                    connect_tip : ''
                },
                '1': {
                    text: '已连接',
                    tips_1 : '已连接',
                    tips_2 : '点击断开',
                    point_class: 'success',
                    connect_box: 'connect-success',
                    connect_time_tip : "已连接时长:",
                    connect_time_str : connectedTime,
                    showedInfo : true,
                    connect_tip : ''
                      
                },
                '-1': {
                    text: '未连接',
                    tips_1 : '点击连接',
                    tips_2 : '点击图标，再次连接',
                    point_class: 'fail',
                    connect_box: 'connect-noconnect',
                    connect_time_tip : "本次连接时长:",
                    connect_time_str : connectedTime,
                    showedInfo : false,
                    connect_tip : ''
                      
                },
            };

            $(".status-points").attr('class', 'status-points '+status[clientStatus].point_class);
            $(".speed").attr('class', 'speed '+status[clientStatus].point_class)
            $(".status-text").text(status[clientStatus].text);
            $('#gkaCenter').attr('class', status[clientStatus].connect_box);
            $('.connect-tips-1').text(status[clientStatus].tips_1);
            if (status[clientStatus].showedInfo) {
                $(".connect-tips-2").show();
                $(".connect-time").show();
            } else {
                $(".connect-tips-2").hide();
                $(".connect-time").hide();
            }
            $('.connect-tips-2').text(status[clientStatus].tips_2);
            $('.connect-time').text(status[clientStatus].connect_time_str);
            $('.connect-privacy').text(status[clientStatus].connect_tip);
        }

        function toggle_connect(e) {
            if (clientStatus == 1) {
                disconnect()
            }
            else if (clientStatus == -1) {
                connect()
            }
        }

        function connect(e) {
            if (clientStatus == -1) {
                $.ajax({
                    method: "POST",
                    url: "client/connect",
                    contentType: "application/json; charset=utf-8",
                    success: function(data) {
                        if (!data) return
                        if (data.code == 0) {
                            
                            
                            
                            
                            
                        } else {
                            alert(data.msg)
                        }

                    },
                });
            }
        }



        function connectAuto(e) {

            $.ajax({
                method: "POST",
                url: "client/connectAuto",
                contentType: "application/json; charset=utf-8",
                success: function(data) {
                    if (!data) return
                    if (data.code == 0) {

                        
                        
                        
                        
                        
                    } else {


                    }
                },
            });
        }

        function disconnect(e) {
            if (clientStatus == 1) {
                $.ajax({
                    method: "POST",
                    url: "client/disconnect",
                    contentType: "application/json; charset=utf-8",
                    success: function(data) {
                        if (!data) return

                        if (data.code == 0) {
                            
                            
                            
                            
                            
                        } else {
                            alert(data.msg)
                        }
                    },
                });
            }
        }

        function accept_policy(){
            $('#policy_view .close-box-btn').removeClass('dont_close');

            var btn = document.getElementById("#policy_view>close-box-btn");
            if (btn && btn.hasClass("dont_close")) {
                return;
            }
            clearInterval(timer);
            $('#zero-wrap').hide();
            $("#closeMsg0>div").hide();
            notifyUserClose(LastToggleAlertBox0);
            LastToggleAlertBox0 = null;

            

            setCookie('isvipretainend', null)
            setCookie('isfreeretainend', null)

            setCookie('vipPromorunningtmr',null)
            setCookie('freePromorunningtmr', null)

            setCookie('discount_free_trigger',null)

            

            
            
 



            setLocalItem('is_accept_policy',true)

            
            popUpNotices();

            
             
        }

        $(document).click(function (e) {

            
            

        });


        

        
        
        
        
        
        
        
        
        
        
        
        
        
        
        

        function loadConnectInfoAdhoc() {

            $.ajax({
                method: "POST",
                url: "connect/info",
                contentType: "application/json; charset=utf-8",
                success: function(data) {
                    setSideBar(data);
                    
                    alert(data.data.is_liebien)
                    alert(data.data.is_vip_activity_view)
                    if (data.data.is_liebien){
                        if (data.data.is_vip_activity_view){
                            document.getElementById( 'signup-mail-bindref' ).style.display="none";
                            document.getElementById( 'signup-phone-bindref' ).style.display="none";
                        }else{
                            document.getElementById( 'signup-mail-bindref' ).style.display="block";
                            document.getElementById( 'signup-phone-bindref' ).style.display="block";
                        }
                    }else{
                        document.getElementById( 'signup-mail-bindref' ).style.display="block";
                        document.getElementById( 'signup-phone-bindref' ).style.display="block";
                    }


                }
            });
        }

        function close_box_btn() {
            clearInterval(timer)
            $('#first-wrap').hide();
            $("#closeMsg>div").hide();
        }

        function close_box_btn_2() {
            $('#second-wrap').hide();
            $("#closeMsg-2>div").hide();
            notifyUserClose(LastToggleAlertBox2);
            LastToggleAlertBox2 = null;
        }

        function closeMsg2(e) {
            e = getEvent()
            clearInterval(timer)

            if(e.target == $('#closeMsg-2')[0]) {
                $('#second-wrap').hide();
                $("#closeMsg-2>div").hide();
                notifyUserClose(LastToggleAlertBox2);
                LastToggleAlertBox2 = null;
            }
        }

        function closeMsg0(e) {
            e = getEvent();
            clearInterval(timer);
            if (e.target == $('#closeMsg0')[0]) {
                if ($("#closeMsg0>div:visible .close-box-btn").hasClass("dont_close")) {
                    return
                }

                $('#zero-wrap').hide();
                $("#closeMsg0>div").hide();
                notifyUserClose(LastToggleAlertBox0);
                LastToggleAlertBox0 = null;
            }
        }


        function closeMsg(e) {
            e = getEvent()
            clearInterval(timer)
            if(e.target == $('#closeMsg')[0]) {
                if ($("#closeMsg>div:visible").children(".close-box-btn").hasClass("close_waiting_downcount")) {
                    return
                }
                $('#first-wrap').hide();
                $("#closeMsg>div").hide();
                notifyUserClose(LastToggleAlertBox);
                LastToggleAlertBox = null;
            }
        }



        function closeMsg3() {
            e = getEvent()
            clearInterval(timer)
            if(e.target == $('#closeMsg-3')[0]) {
                $('#third-wrap').hide();
                $("#closeMsg-3>div").hide();
            }
        }

        function closeMsgSysTime() {
            e = getEvent()
            if (e.target == $('#closeMsg-systime-tip')[0]) {
                $('#systime-wrap').hide();
                $("#closeMsg-systime-tip>div").hide();
                notifyUserClose($("#systime-pane"))
            }
        }

        function closeMsg4() {
            e = getEvent()
            clearInterval(timer)
            if(e.target == $('#closeMsg-4')[0]) {
                $('#fourth-wrap').hide();
                $("#closeMsg-4>div").hide();
                notifyUserClose(LastToggleAlertBox4);
                LastToggleAlertBox4 = null;
            }
        }

        function closeMsg5() {
            e = getEvent();
            if (e.target == $('#closeMsg-5')[0]) {
                $('#five-wrap').hide();
                $("#closeMsg-5>div").hide();
                notifyUserClose(LastToggleAlertBox5);
                LastToggleAlertBox5 = null;
            }
        }

        function closeMsg6() {
            e = getEvent();
            if (e.target == $('#closeMsg-6')[0]) {
                $('#sixth-wrap-wrap').hide();
                $("#closeMsg-6>div").hide();
                notifyUserClose(LastToggleAlertBox6);
                LastToggleAlertBox6 = null;
            }
        }
        function closeMsgLine() {
            e = getEvent();
            if (e.target == $('#closeMsg-line')[0]) {
                $('#line-wrap').hide();
                $("#closeMsg-line>div").hide();
                notifyUserClose(LastToggleLineListAlertBox);
                LastToggleLineListAlertBox = null;
            }
        }

        function close_box_btn_line() {
            $("#line-list-container").hide();
        }

        function close_box_btn_0(btn) {
            if (btn && btn.hasClass("dont_close")) {
                return;
            }
            clearInterval(timer);
            $('#zero-wrap').hide();
            $("#closeMsg0>div").hide();
            notifyUserClose(LastToggleAlertBox0);
            LastToggleAlertBox0 = null;
        }

        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </script>






</body></html>